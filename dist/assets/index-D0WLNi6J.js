function d0(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var He=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function h0(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function f0(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var s=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return t[n]}})}),r}var rd={exports:{}},Ba={},nd={exports:{}},U={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ys=Symbol.for("react.element"),m0=Symbol.for("react.portal"),g0=Symbol.for("react.fragment"),p0=Symbol.for("react.strict_mode"),x0=Symbol.for("react.profiler"),y0=Symbol.for("react.provider"),v0=Symbol.for("react.context"),w0=Symbol.for("react.forward_ref"),b0=Symbol.for("react.suspense"),k0=Symbol.for("react.memo"),j0=Symbol.for("react.lazy"),fc=Symbol.iterator;function _0(t){return t===null||typeof t!="object"?null:(t=fc&&t[fc]||t["@@iterator"],typeof t=="function"?t:null)}var sd={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ad=Object.assign,id={};function un(t,e,r){this.props=t,this.context=e,this.refs=id,this.updater=r||sd}un.prototype.isReactComponent={};un.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};un.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function od(){}od.prototype=un.prototype;function sl(t,e,r){this.props=t,this.context=e,this.refs=id,this.updater=r||sd}var al=sl.prototype=new od;al.constructor=sl;ad(al,un.prototype);al.isPureReactComponent=!0;var mc=Array.isArray,ld=Object.prototype.hasOwnProperty,il={current:null},cd={key:!0,ref:!0,__self:!0,__source:!0};function ud(t,e,r){var n,s={},i=null,o=null;if(e!=null)for(n in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)ld.call(e,n)&&!cd.hasOwnProperty(n)&&(s[n]=e[n]);var l=arguments.length-2;if(l===1)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(t&&t.defaultProps)for(n in l=t.defaultProps,l)s[n]===void 0&&(s[n]=l[n]);return{$$typeof:ys,type:t,key:i,ref:o,props:s,_owner:il.current}}function N0(t,e){return{$$typeof:ys,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function ol(t){return typeof t=="object"&&t!==null&&t.$$typeof===ys}function S0(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var gc=/\/+/g;function mi(t,e){return typeof t=="object"&&t!==null&&t.key!=null?S0(""+t.key):e.toString(36)}function Ys(t,e,r,n,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case ys:case m0:o=!0}}if(o)return o=t,s=s(o),t=n===""?"."+mi(o,0):n,mc(s)?(r="",t!=null&&(r=t.replace(gc,"$&/")+"/"),Ys(s,e,r,"",function(u){return u})):s!=null&&(ol(s)&&(s=N0(s,r+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(gc,"$&/")+"/")+t)),e.push(s)),1;if(o=0,n=n===""?".":n+":",mc(t))for(var l=0;l<t.length;l++){i=t[l];var c=n+mi(i,l);o+=Ys(i,e,r,c,s)}else if(c=_0(t),typeof c=="function")for(t=c.call(t),l=0;!(i=t.next()).done;)i=i.value,c=n+mi(i,l++),o+=Ys(i,e,r,c,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Es(t,e,r){if(t==null)return t;var n=[],s=0;return Ys(t,n,"","",function(i){return e.call(r,i,s++)}),n}function E0(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ne={current:null},Xs={transition:null},C0={ReactCurrentDispatcher:Ne,ReactCurrentBatchConfig:Xs,ReactCurrentOwner:il};function dd(){throw Error("act(...) is not supported in production builds of React.")}U.Children={map:Es,forEach:function(t,e,r){Es(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return Es(t,function(){e++}),e},toArray:function(t){return Es(t,function(e){return e})||[]},only:function(t){if(!ol(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};U.Component=un;U.Fragment=g0;U.Profiler=x0;U.PureComponent=sl;U.StrictMode=p0;U.Suspense=b0;U.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=C0;U.act=dd;U.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=ad({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=il.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)ld.call(e,c)&&!cd.hasOwnProperty(c)&&(n[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:ys,type:t.type,key:s,ref:i,props:n,_owner:o}};U.createContext=function(t){return t={$$typeof:v0,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:y0,_context:t},t.Consumer=t};U.createElement=ud;U.createFactory=function(t){var e=ud.bind(null,t);return e.type=t,e};U.createRef=function(){return{current:null}};U.forwardRef=function(t){return{$$typeof:w0,render:t}};U.isValidElement=ol;U.lazy=function(t){return{$$typeof:j0,_payload:{_status:-1,_result:t},_init:E0}};U.memo=function(t,e){return{$$typeof:k0,type:t,compare:e===void 0?null:e}};U.startTransition=function(t){var e=Xs.transition;Xs.transition={};try{t()}finally{Xs.transition=e}};U.unstable_act=dd;U.useCallback=function(t,e){return Ne.current.useCallback(t,e)};U.useContext=function(t){return Ne.current.useContext(t)};U.useDebugValue=function(){};U.useDeferredValue=function(t){return Ne.current.useDeferredValue(t)};U.useEffect=function(t,e){return Ne.current.useEffect(t,e)};U.useId=function(){return Ne.current.useId()};U.useImperativeHandle=function(t,e,r){return Ne.current.useImperativeHandle(t,e,r)};U.useInsertionEffect=function(t,e){return Ne.current.useInsertionEffect(t,e)};U.useLayoutEffect=function(t,e){return Ne.current.useLayoutEffect(t,e)};U.useMemo=function(t,e){return Ne.current.useMemo(t,e)};U.useReducer=function(t,e,r){return Ne.current.useReducer(t,e,r)};U.useRef=function(t){return Ne.current.useRef(t)};U.useState=function(t){return Ne.current.useState(t)};U.useSyncExternalStore=function(t,e,r){return Ne.current.useSyncExternalStore(t,e,r)};U.useTransition=function(){return Ne.current.useTransition()};U.version="18.3.1";nd.exports=U;var b=nd.exports;const T0=h0(b),P0=d0({__proto__:null,default:T0},[b]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var I0=b,A0=Symbol.for("react.element"),O0=Symbol.for("react.fragment"),L0=Object.prototype.hasOwnProperty,R0=I0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,$0={key:!0,ref:!0,__self:!0,__source:!0};function hd(t,e,r){var n,s={},i=null,o=null;r!==void 0&&(i=""+r),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(n in e)L0.call(e,n)&&!$0.hasOwnProperty(n)&&(s[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)s[n]===void 0&&(s[n]=e[n]);return{$$typeof:A0,type:t,key:i,ref:o,props:s,_owner:R0.current}}Ba.Fragment=O0;Ba.jsx=hd;Ba.jsxs=hd;rd.exports=Ba;var a=rd.exports,fd={exports:{}},Me={},md={exports:{}},gd={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(T,$){var M=T.length;T.push($);e:for(;0<M;){var Y=M-1>>>1,se=T[Y];if(0<s(se,$))T[Y]=$,T[M]=se,M=Y;else break e}}function r(T){return T.length===0?null:T[0]}function n(T){if(T.length===0)return null;var $=T[0],M=T.pop();if(M!==$){T[0]=M;e:for(var Y=0,se=T.length,Nr=se>>>1;Y<Nr;){var gt=2*(Y+1)-1,yn=T[gt],Ue=gt+1,Sr=T[Ue];if(0>s(yn,M))Ue<se&&0>s(Sr,yn)?(T[Y]=Sr,T[Ue]=M,Y=Ue):(T[Y]=yn,T[gt]=M,Y=gt);else if(Ue<se&&0>s(Sr,M))T[Y]=Sr,T[Ue]=M,Y=Ue;else break e}}return $}function s(T,$){var M=T.sortIndex-$.sortIndex;return M!==0?M:T.id-$.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,h=null,f=3,p=!1,y=!1,w=!1,v=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function m(T){for(var $=r(u);$!==null;){if($.callback===null)n(u);else if($.startTime<=T)n(u),$.sortIndex=$.expirationTime,e(c,$);else break;$=r(u)}}function j(T){if(w=!1,m(T),!y)if(r(c)!==null)y=!0,_r(k);else{var $=r(u);$!==null&&xn(j,$.startTime-T)}}function k(T,$){y=!1,w&&(w=!1,g(_),_=-1),p=!0;var M=f;try{for(m($),h=r(c);h!==null&&(!(h.expirationTime>$)||T&&!V());){var Y=h.callback;if(typeof Y=="function"){h.callback=null,f=h.priorityLevel;var se=Y(h.expirationTime<=$);$=t.unstable_now(),typeof se=="function"?h.callback=se:h===r(c)&&n(c),m($)}else n(c);h=r(c)}if(h!==null)var Nr=!0;else{var gt=r(u);gt!==null&&xn(j,gt.startTime-$),Nr=!1}return Nr}finally{h=null,f=M,p=!1}}var N=!1,S=null,_=-1,I=5,O=-1;function V(){return!(t.unstable_now()-O<I)}function W(){if(S!==null){var T=t.unstable_now();O=T;var $=!0;try{$=S(!0,T)}finally{$?oe():(N=!1,S=null)}}else N=!1}var oe;if(typeof x=="function")oe=function(){x(W)};else if(typeof MessageChannel<"u"){var it=new MessageChannel,tr=it.port2;it.port1.onmessage=W,oe=function(){tr.postMessage(null)}}else oe=function(){v(W,0)};function _r(T){S=T,N||(N=!0,oe())}function xn(T,$){_=v(function(){T(t.unstable_now())},$)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(T){T.callback=null},t.unstable_continueExecution=function(){y||p||(y=!0,_r(k))},t.unstable_forceFrameRate=function(T){0>T||125<T?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<T?Math.floor(1e3/T):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(T){switch(f){case 1:case 2:case 3:var $=3;break;default:$=f}var M=f;f=$;try{return T()}finally{f=M}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(T,$){switch(T){case 1:case 2:case 3:case 4:case 5:break;default:T=3}var M=f;f=T;try{return $()}finally{f=M}},t.unstable_scheduleCallback=function(T,$,M){var Y=t.unstable_now();switch(typeof M=="object"&&M!==null?(M=M.delay,M=typeof M=="number"&&0<M?Y+M:Y):M=Y,T){case 1:var se=-1;break;case 2:se=250;break;case 5:se=1073741823;break;case 4:se=1e4;break;default:se=5e3}return se=M+se,T={id:d++,callback:$,priorityLevel:T,startTime:M,expirationTime:se,sortIndex:-1},M>Y?(T.sortIndex=M,e(u,T),r(c)===null&&T===r(u)&&(w?(g(_),_=-1):w=!0,xn(j,M-Y))):(T.sortIndex=se,e(c,T),y||p||(y=!0,_r(k))),T},t.unstable_shouldYield=V,t.unstable_wrapCallback=function(T){var $=f;return function(){var M=f;f=$;try{return T.apply(this,arguments)}finally{f=M}}}})(gd);md.exports=gd;var z0=md.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var M0=b,ze=z0;function E(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var pd=new Set,Kn={};function wr(t,e){tn(t,e),tn(t+"Capture",e)}function tn(t,e){for(Kn[t]=e,t=0;t<e.length;t++)pd.add(e[t])}var jt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ji=Object.prototype.hasOwnProperty,D0=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,pc={},xc={};function U0(t){return Ji.call(xc,t)?!0:Ji.call(pc,t)?!1:D0.test(t)?xc[t]=!0:(pc[t]=!0,!1)}function F0(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function B0(t,e,r,n){if(e===null||typeof e>"u"||F0(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Se(t,e,r,n,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var pe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){pe[t]=new Se(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];pe[e]=new Se(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){pe[t]=new Se(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){pe[t]=new Se(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){pe[t]=new Se(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){pe[t]=new Se(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){pe[t]=new Se(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){pe[t]=new Se(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){pe[t]=new Se(t,5,!1,t.toLowerCase(),null,!1,!1)});var ll=/[\-:]([a-z])/g;function cl(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(ll,cl);pe[e]=new Se(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(ll,cl);pe[e]=new Se(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(ll,cl);pe[e]=new Se(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){pe[t]=new Se(t,1,!1,t.toLowerCase(),null,!1,!1)});pe.xlinkHref=new Se("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){pe[t]=new Se(t,1,!1,t.toLowerCase(),null,!0,!0)});function ul(t,e,r,n){var s=pe.hasOwnProperty(e)?pe[e]:null;(s!==null?s.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(B0(e,r,s,n)&&(r=null),n||s===null?U0(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):s.mustUseProperty?t[s.propertyName]=r===null?s.type===3?!1:"":r:(e=s.attributeName,n=s.attributeNamespace,r===null?t.removeAttribute(e):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var Et=M0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Cs=Symbol.for("react.element"),Rr=Symbol.for("react.portal"),$r=Symbol.for("react.fragment"),dl=Symbol.for("react.strict_mode"),Ki=Symbol.for("react.profiler"),xd=Symbol.for("react.provider"),yd=Symbol.for("react.context"),hl=Symbol.for("react.forward_ref"),Qi=Symbol.for("react.suspense"),Yi=Symbol.for("react.suspense_list"),fl=Symbol.for("react.memo"),It=Symbol.for("react.lazy"),vd=Symbol.for("react.offscreen"),yc=Symbol.iterator;function vn(t){return t===null||typeof t!="object"?null:(t=yc&&t[yc]||t["@@iterator"],typeof t=="function"?t:null)}var ee=Object.assign,gi;function Pn(t){if(gi===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);gi=e&&e[1]||""}return`
`+gi+t}var pi=!1;function xi(t,e){if(!t||pi)return"";pi=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var n=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){n=u}t.call(e.prototype)}else{try{throw Error()}catch(u){n=u}t()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=n.stack.split(`
`),o=s.length-1,l=i.length-1;1<=o&&0<=l&&s[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==i[l]){var c=`
`+s[o].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=o&&0<=l);break}}}finally{pi=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?Pn(t):""}function q0(t){switch(t.tag){case 5:return Pn(t.type);case 16:return Pn("Lazy");case 13:return Pn("Suspense");case 19:return Pn("SuspenseList");case 0:case 2:case 15:return t=xi(t.type,!1),t;case 11:return t=xi(t.type.render,!1),t;case 1:return t=xi(t.type,!0),t;default:return""}}function Xi(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case $r:return"Fragment";case Rr:return"Portal";case Ki:return"Profiler";case dl:return"StrictMode";case Qi:return"Suspense";case Yi:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case yd:return(t.displayName||"Context")+".Consumer";case xd:return(t._context.displayName||"Context")+".Provider";case hl:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case fl:return e=t.displayName||null,e!==null?e:Xi(t.type)||"Memo";case It:e=t._payload,t=t._init;try{return Xi(t(e))}catch{}}return null}function V0(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Xi(e);case 8:return e===dl?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Jt(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function wd(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function W0(t){var e=wd(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Ts(t){t._valueTracker||(t._valueTracker=W0(t))}function bd(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=wd(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function ca(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Zi(t,e){var r=e.checked;return ee({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function vc(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=Jt(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function kd(t,e){e=e.checked,e!=null&&ul(t,"checked",e,!1)}function eo(t,e){kd(t,e);var r=Jt(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?to(t,e.type,r):e.hasOwnProperty("defaultValue")&&to(t,e.type,Jt(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function wc(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function to(t,e,r){(e!=="number"||ca(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var In=Array.isArray;function Gr(t,e,r,n){if(t=t.options,e){e={};for(var s=0;s<r.length;s++)e["$"+r[s]]=!0;for(r=0;r<t.length;r++)s=e.hasOwnProperty("$"+t[r].value),t[r].selected!==s&&(t[r].selected=s),s&&n&&(t[r].defaultSelected=!0)}else{for(r=""+Jt(r),e=null,s=0;s<t.length;s++){if(t[s].value===r){t[s].selected=!0,n&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function ro(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(E(91));return ee({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function bc(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(E(92));if(In(r)){if(1<r.length)throw Error(E(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:Jt(r)}}function jd(t,e){var r=Jt(e.value),n=Jt(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function kc(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function _d(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function no(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?_d(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Ps,Nd=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,s){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Ps=Ps||document.createElement("div"),Ps.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Ps.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Qn(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var Rn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},H0=["Webkit","ms","Moz","O"];Object.keys(Rn).forEach(function(t){H0.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Rn[e]=Rn[t]})});function Sd(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||Rn.hasOwnProperty(t)&&Rn[t]?(""+e).trim():e+"px"}function Ed(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=Sd(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,s):t[r]=s}}var G0=ee({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function so(t,e){if(e){if(G0[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(E(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(E(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(E(61))}if(e.style!=null&&typeof e.style!="object")throw Error(E(62))}}function ao(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var io=null;function ml(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var oo=null,Jr=null,Kr=null;function jc(t){if(t=bs(t)){if(typeof oo!="function")throw Error(E(280));var e=t.stateNode;e&&(e=Ga(e),oo(t.stateNode,t.type,e))}}function Cd(t){Jr?Kr?Kr.push(t):Kr=[t]:Jr=t}function Td(){if(Jr){var t=Jr,e=Kr;if(Kr=Jr=null,jc(t),e)for(t=0;t<e.length;t++)jc(e[t])}}function Pd(t,e){return t(e)}function Id(){}var yi=!1;function Ad(t,e,r){if(yi)return t(e,r);yi=!0;try{return Pd(t,e,r)}finally{yi=!1,(Jr!==null||Kr!==null)&&(Id(),Td())}}function Yn(t,e){var r=t.stateNode;if(r===null)return null;var n=Ga(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(E(231,e,typeof r));return r}var lo=!1;if(jt)try{var wn={};Object.defineProperty(wn,"passive",{get:function(){lo=!0}}),window.addEventListener("test",wn,wn),window.removeEventListener("test",wn,wn)}catch{lo=!1}function J0(t,e,r,n,s,i,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{e.apply(r,u)}catch(d){this.onError(d)}}var $n=!1,ua=null,da=!1,co=null,K0={onError:function(t){$n=!0,ua=t}};function Q0(t,e,r,n,s,i,o,l,c){$n=!1,ua=null,J0.apply(K0,arguments)}function Y0(t,e,r,n,s,i,o,l,c){if(Q0.apply(this,arguments),$n){if($n){var u=ua;$n=!1,ua=null}else throw Error(E(198));da||(da=!0,co=u)}}function br(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function Od(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function _c(t){if(br(t)!==t)throw Error(E(188))}function X0(t){var e=t.alternate;if(!e){if(e=br(t),e===null)throw Error(E(188));return e!==t?null:t}for(var r=t,n=e;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return _c(s),t;if(i===n)return _c(s),e;i=i.sibling}throw Error(E(188))}if(r.return!==n.return)r=s,n=i;else{for(var o=!1,l=s.child;l;){if(l===r){o=!0,r=s,n=i;break}if(l===n){o=!0,n=s,r=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===r){o=!0,r=i,n=s;break}if(l===n){o=!0,n=i,r=s;break}l=l.sibling}if(!o)throw Error(E(189))}}if(r.alternate!==n)throw Error(E(190))}if(r.tag!==3)throw Error(E(188));return r.stateNode.current===r?t:e}function Ld(t){return t=X0(t),t!==null?Rd(t):null}function Rd(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Rd(t);if(e!==null)return e;t=t.sibling}return null}var $d=ze.unstable_scheduleCallback,Nc=ze.unstable_cancelCallback,Z0=ze.unstable_shouldYield,em=ze.unstable_requestPaint,ne=ze.unstable_now,tm=ze.unstable_getCurrentPriorityLevel,gl=ze.unstable_ImmediatePriority,zd=ze.unstable_UserBlockingPriority,ha=ze.unstable_NormalPriority,rm=ze.unstable_LowPriority,Md=ze.unstable_IdlePriority,qa=null,ht=null;function nm(t){if(ht&&typeof ht.onCommitFiberRoot=="function")try{ht.onCommitFiberRoot(qa,t,void 0,(t.current.flags&128)===128)}catch{}}var tt=Math.clz32?Math.clz32:im,sm=Math.log,am=Math.LN2;function im(t){return t>>>=0,t===0?32:31-(sm(t)/am|0)|0}var Is=64,As=4194304;function An(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function fa(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,s=t.suspendedLanes,i=t.pingedLanes,o=r&268435455;if(o!==0){var l=o&~s;l!==0?n=An(l):(i&=o,i!==0&&(n=An(i)))}else o=r&~s,o!==0?n=An(o):i!==0&&(n=An(i));if(n===0)return 0;if(e!==0&&e!==n&&!(e&s)&&(s=n&-n,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-tt(e),s=1<<r,n|=t[r],e&=~s;return n}function om(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function lm(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-tt(i),l=1<<o,c=s[o];c===-1?(!(l&r)||l&n)&&(s[o]=om(l,e)):c<=e&&(t.expiredLanes|=l),i&=~l}}function uo(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Dd(){var t=Is;return Is<<=1,!(Is&4194240)&&(Is=64),t}function vi(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function vs(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-tt(e),t[e]=r}function cm(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var s=31-tt(r),i=1<<s;e[s]=0,n[s]=-1,t[s]=-1,r&=~i}}function pl(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-tt(r),s=1<<n;s&e|t[n]&e&&(t[n]|=e),r&=~s}}var q=0;function Ud(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Fd,xl,Bd,qd,Vd,ho=!1,Os=[],Dt=null,Ut=null,Ft=null,Xn=new Map,Zn=new Map,Ot=[],um="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sc(t,e){switch(t){case"focusin":case"focusout":Dt=null;break;case"dragenter":case"dragleave":Ut=null;break;case"mouseover":case"mouseout":Ft=null;break;case"pointerover":case"pointerout":Xn.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Zn.delete(e.pointerId)}}function bn(t,e,r,n,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},e!==null&&(e=bs(e),e!==null&&xl(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function dm(t,e,r,n,s){switch(e){case"focusin":return Dt=bn(Dt,t,e,r,n,s),!0;case"dragenter":return Ut=bn(Ut,t,e,r,n,s),!0;case"mouseover":return Ft=bn(Ft,t,e,r,n,s),!0;case"pointerover":var i=s.pointerId;return Xn.set(i,bn(Xn.get(i)||null,t,e,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,Zn.set(i,bn(Zn.get(i)||null,t,e,r,n,s)),!0}return!1}function Wd(t){var e=lr(t.target);if(e!==null){var r=br(e);if(r!==null){if(e=r.tag,e===13){if(e=Od(r),e!==null){t.blockedOn=e,Vd(t.priority,function(){Bd(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Zs(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=fo(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);io=n,r.target.dispatchEvent(n),io=null}else return e=bs(r),e!==null&&xl(e),t.blockedOn=r,!1;e.shift()}return!0}function Ec(t,e,r){Zs(t)&&r.delete(e)}function hm(){ho=!1,Dt!==null&&Zs(Dt)&&(Dt=null),Ut!==null&&Zs(Ut)&&(Ut=null),Ft!==null&&Zs(Ft)&&(Ft=null),Xn.forEach(Ec),Zn.forEach(Ec)}function kn(t,e){t.blockedOn===e&&(t.blockedOn=null,ho||(ho=!0,ze.unstable_scheduleCallback(ze.unstable_NormalPriority,hm)))}function es(t){function e(s){return kn(s,t)}if(0<Os.length){kn(Os[0],t);for(var r=1;r<Os.length;r++){var n=Os[r];n.blockedOn===t&&(n.blockedOn=null)}}for(Dt!==null&&kn(Dt,t),Ut!==null&&kn(Ut,t),Ft!==null&&kn(Ft,t),Xn.forEach(e),Zn.forEach(e),r=0;r<Ot.length;r++)n=Ot[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<Ot.length&&(r=Ot[0],r.blockedOn===null);)Wd(r),r.blockedOn===null&&Ot.shift()}var Qr=Et.ReactCurrentBatchConfig,ma=!0;function fm(t,e,r,n){var s=q,i=Qr.transition;Qr.transition=null;try{q=1,yl(t,e,r,n)}finally{q=s,Qr.transition=i}}function mm(t,e,r,n){var s=q,i=Qr.transition;Qr.transition=null;try{q=4,yl(t,e,r,n)}finally{q=s,Qr.transition=i}}function yl(t,e,r,n){if(ma){var s=fo(t,e,r,n);if(s===null)Ti(t,e,n,ga,r),Sc(t,n);else if(dm(s,t,e,r,n))n.stopPropagation();else if(Sc(t,n),e&4&&-1<um.indexOf(t)){for(;s!==null;){var i=bs(s);if(i!==null&&Fd(i),i=fo(t,e,r,n),i===null&&Ti(t,e,n,ga,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else Ti(t,e,n,null,r)}}var ga=null;function fo(t,e,r,n){if(ga=null,t=ml(n),t=lr(t),t!==null)if(e=br(t),e===null)t=null;else if(r=e.tag,r===13){if(t=Od(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return ga=t,null}function Hd(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(tm()){case gl:return 1;case zd:return 4;case ha:case rm:return 16;case Md:return 536870912;default:return 16}default:return 16}}var $t=null,vl=null,ea=null;function Gd(){if(ea)return ea;var t,e=vl,r=e.length,n,s="value"in $t?$t.value:$t.textContent,i=s.length;for(t=0;t<r&&e[t]===s[t];t++);var o=r-t;for(n=1;n<=o&&e[r-n]===s[i-n];n++);return ea=s.slice(t,1<n?1-n:void 0)}function ta(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Ls(){return!0}function Cc(){return!1}function De(t){function e(r,n,s,i,o){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(r=t[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Ls:Cc,this.isPropagationStopped=Cc,this}return ee(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Ls)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Ls)},persist:function(){},isPersistent:Ls}),e}var dn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},wl=De(dn),ws=ee({},dn,{view:0,detail:0}),gm=De(ws),wi,bi,jn,Va=ee({},ws,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:bl,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==jn&&(jn&&t.type==="mousemove"?(wi=t.screenX-jn.screenX,bi=t.screenY-jn.screenY):bi=wi=0,jn=t),wi)},movementY:function(t){return"movementY"in t?t.movementY:bi}}),Tc=De(Va),pm=ee({},Va,{dataTransfer:0}),xm=De(pm),ym=ee({},ws,{relatedTarget:0}),ki=De(ym),vm=ee({},dn,{animationName:0,elapsedTime:0,pseudoElement:0}),wm=De(vm),bm=ee({},dn,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),km=De(bm),jm=ee({},dn,{data:0}),Pc=De(jm),_m={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nm={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Em(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Sm[t])?!!e[t]:!1}function bl(){return Em}var Cm=ee({},ws,{key:function(t){if(t.key){var e=_m[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=ta(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Nm[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:bl,charCode:function(t){return t.type==="keypress"?ta(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ta(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Tm=De(Cm),Pm=ee({},Va,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ic=De(Pm),Im=ee({},ws,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:bl}),Am=De(Im),Om=ee({},dn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Lm=De(Om),Rm=ee({},Va,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),$m=De(Rm),zm=[9,13,27,32],kl=jt&&"CompositionEvent"in window,zn=null;jt&&"documentMode"in document&&(zn=document.documentMode);var Mm=jt&&"TextEvent"in window&&!zn,Jd=jt&&(!kl||zn&&8<zn&&11>=zn),Ac=" ",Oc=!1;function Kd(t,e){switch(t){case"keyup":return zm.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Qd(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var zr=!1;function Dm(t,e){switch(t){case"compositionend":return Qd(e);case"keypress":return e.which!==32?null:(Oc=!0,Ac);case"textInput":return t=e.data,t===Ac&&Oc?null:t;default:return null}}function Um(t,e){if(zr)return t==="compositionend"||!kl&&Kd(t,e)?(t=Gd(),ea=vl=$t=null,zr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Jd&&e.locale!=="ko"?null:e.data;default:return null}}var Fm={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Lc(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Fm[t.type]:e==="textarea"}function Yd(t,e,r,n){Cd(n),e=pa(e,"onChange"),0<e.length&&(r=new wl("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var Mn=null,ts=null;function Bm(t){lh(t,0)}function Wa(t){var e=Ur(t);if(bd(e))return t}function qm(t,e){if(t==="change")return e}var Xd=!1;if(jt){var ji;if(jt){var _i="oninput"in document;if(!_i){var Rc=document.createElement("div");Rc.setAttribute("oninput","return;"),_i=typeof Rc.oninput=="function"}ji=_i}else ji=!1;Xd=ji&&(!document.documentMode||9<document.documentMode)}function $c(){Mn&&(Mn.detachEvent("onpropertychange",Zd),ts=Mn=null)}function Zd(t){if(t.propertyName==="value"&&Wa(ts)){var e=[];Yd(e,ts,t,ml(t)),Ad(Bm,e)}}function Vm(t,e,r){t==="focusin"?($c(),Mn=e,ts=r,Mn.attachEvent("onpropertychange",Zd)):t==="focusout"&&$c()}function Wm(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Wa(ts)}function Hm(t,e){if(t==="click")return Wa(e)}function Gm(t,e){if(t==="input"||t==="change")return Wa(e)}function Jm(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var st=typeof Object.is=="function"?Object.is:Jm;function rs(t,e){if(st(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!Ji.call(e,s)||!st(t[s],e[s]))return!1}return!0}function zc(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Mc(t,e){var r=zc(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=zc(r)}}function eh(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?eh(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function th(){for(var t=window,e=ca();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=ca(t.document)}return e}function jl(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Km(t){var e=th(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&eh(r.ownerDocument.documentElement,r)){if(n!==null&&jl(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!t.extend&&i>n&&(s=n,n=i,i=s),s=Mc(r,i);var o=Mc(r,n);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>n?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Qm=jt&&"documentMode"in document&&11>=document.documentMode,Mr=null,mo=null,Dn=null,go=!1;function Dc(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;go||Mr==null||Mr!==ca(n)||(n=Mr,"selectionStart"in n&&jl(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Dn&&rs(Dn,n)||(Dn=n,n=pa(mo,"onSelect"),0<n.length&&(e=new wl("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=Mr)))}function Rs(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var Dr={animationend:Rs("Animation","AnimationEnd"),animationiteration:Rs("Animation","AnimationIteration"),animationstart:Rs("Animation","AnimationStart"),transitionend:Rs("Transition","TransitionEnd")},Ni={},rh={};jt&&(rh=document.createElement("div").style,"AnimationEvent"in window||(delete Dr.animationend.animation,delete Dr.animationiteration.animation,delete Dr.animationstart.animation),"TransitionEvent"in window||delete Dr.transitionend.transition);function Ha(t){if(Ni[t])return Ni[t];if(!Dr[t])return t;var e=Dr[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in rh)return Ni[t]=e[r];return t}var nh=Ha("animationend"),sh=Ha("animationiteration"),ah=Ha("animationstart"),ih=Ha("transitionend"),oh=new Map,Uc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Qt(t,e){oh.set(t,e),wr(e,[t])}for(var Si=0;Si<Uc.length;Si++){var Ei=Uc[Si],Ym=Ei.toLowerCase(),Xm=Ei[0].toUpperCase()+Ei.slice(1);Qt(Ym,"on"+Xm)}Qt(nh,"onAnimationEnd");Qt(sh,"onAnimationIteration");Qt(ah,"onAnimationStart");Qt("dblclick","onDoubleClick");Qt("focusin","onFocus");Qt("focusout","onBlur");Qt(ih,"onTransitionEnd");tn("onMouseEnter",["mouseout","mouseover"]);tn("onMouseLeave",["mouseout","mouseover"]);tn("onPointerEnter",["pointerout","pointerover"]);tn("onPointerLeave",["pointerout","pointerover"]);wr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));wr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));wr("onBeforeInput",["compositionend","keypress","textInput","paste"]);wr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));wr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));wr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var On="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Zm=new Set("cancel close invalid load scroll toggle".split(" ").concat(On));function Fc(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,Y0(n,e,void 0,t),t.currentTarget=null}function lh(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],s=n.event;n=n.listeners;e:{var i=void 0;if(e)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&s.isPropagationStopped())break e;Fc(s,l,u),i=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&s.isPropagationStopped())break e;Fc(s,l,u),i=c}}}if(da)throw t=co,da=!1,co=null,t}function J(t,e){var r=e[wo];r===void 0&&(r=e[wo]=new Set);var n=t+"__bubble";r.has(n)||(ch(e,t,2,!1),r.add(n))}function Ci(t,e,r){var n=0;e&&(n|=4),ch(r,t,n,e)}var $s="_reactListening"+Math.random().toString(36).slice(2);function ns(t){if(!t[$s]){t[$s]=!0,pd.forEach(function(r){r!=="selectionchange"&&(Zm.has(r)||Ci(r,!1,t),Ci(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[$s]||(e[$s]=!0,Ci("selectionchange",!1,e))}}function ch(t,e,r,n){switch(Hd(e)){case 1:var s=fm;break;case 4:s=mm;break;default:s=yl}r=s.bind(null,e,r,t),s=void 0,!lo||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),n?s!==void 0?t.addEventListener(e,r,{capture:!0,passive:s}):t.addEventListener(e,r,!0):s!==void 0?t.addEventListener(e,r,{passive:s}):t.addEventListener(e,r,!1)}function Ti(t,e,r,n,s){var i=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;l!==null;){if(o=lr(l),o===null)return;if(c=o.tag,c===5||c===6){n=i=o;continue e}l=l.parentNode}}n=n.return}Ad(function(){var u=i,d=ml(r),h=[];e:{var f=oh.get(t);if(f!==void 0){var p=wl,y=t;switch(t){case"keypress":if(ta(r)===0)break e;case"keydown":case"keyup":p=Tm;break;case"focusin":y="focus",p=ki;break;case"focusout":y="blur",p=ki;break;case"beforeblur":case"afterblur":p=ki;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Tc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=xm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=Am;break;case nh:case sh:case ah:p=wm;break;case ih:p=Lm;break;case"scroll":p=gm;break;case"wheel":p=$m;break;case"copy":case"cut":case"paste":p=km;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Ic}var w=(e&4)!==0,v=!w&&t==="scroll",g=w?f!==null?f+"Capture":null:f;w=[];for(var x=u,m;x!==null;){m=x;var j=m.stateNode;if(m.tag===5&&j!==null&&(m=j,g!==null&&(j=Yn(x,g),j!=null&&w.push(ss(x,j,m)))),v)break;x=x.return}0<w.length&&(f=new p(f,y,null,r,d),h.push({event:f,listeners:w}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",f&&r!==io&&(y=r.relatedTarget||r.fromElement)&&(lr(y)||y[_t]))break e;if((p||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,p?(y=r.relatedTarget||r.toElement,p=u,y=y?lr(y):null,y!==null&&(v=br(y),y!==v||y.tag!==5&&y.tag!==6)&&(y=null)):(p=null,y=u),p!==y)){if(w=Tc,j="onMouseLeave",g="onMouseEnter",x="mouse",(t==="pointerout"||t==="pointerover")&&(w=Ic,j="onPointerLeave",g="onPointerEnter",x="pointer"),v=p==null?f:Ur(p),m=y==null?f:Ur(y),f=new w(j,x+"leave",p,r,d),f.target=v,f.relatedTarget=m,j=null,lr(d)===u&&(w=new w(g,x+"enter",y,r,d),w.target=m,w.relatedTarget=v,j=w),v=j,p&&y)t:{for(w=p,g=y,x=0,m=w;m;m=Er(m))x++;for(m=0,j=g;j;j=Er(j))m++;for(;0<x-m;)w=Er(w),x--;for(;0<m-x;)g=Er(g),m--;for(;x--;){if(w===g||g!==null&&w===g.alternate)break t;w=Er(w),g=Er(g)}w=null}else w=null;p!==null&&Bc(h,f,p,w,!1),y!==null&&v!==null&&Bc(h,v,y,w,!0)}}e:{if(f=u?Ur(u):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var k=qm;else if(Lc(f))if(Xd)k=Gm;else{k=Wm;var N=Vm}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(k=Hm);if(k&&(k=k(t,u))){Yd(h,k,r,d);break e}N&&N(t,f,u),t==="focusout"&&(N=f._wrapperState)&&N.controlled&&f.type==="number"&&to(f,"number",f.value)}switch(N=u?Ur(u):window,t){case"focusin":(Lc(N)||N.contentEditable==="true")&&(Mr=N,mo=u,Dn=null);break;case"focusout":Dn=mo=Mr=null;break;case"mousedown":go=!0;break;case"contextmenu":case"mouseup":case"dragend":go=!1,Dc(h,r,d);break;case"selectionchange":if(Qm)break;case"keydown":case"keyup":Dc(h,r,d)}var S;if(kl)e:{switch(t){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else zr?Kd(t,r)&&(_="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(_="onCompositionStart");_&&(Jd&&r.locale!=="ko"&&(zr||_!=="onCompositionStart"?_==="onCompositionEnd"&&zr&&(S=Gd()):($t=d,vl="value"in $t?$t.value:$t.textContent,zr=!0)),N=pa(u,_),0<N.length&&(_=new Pc(_,t,null,r,d),h.push({event:_,listeners:N}),S?_.data=S:(S=Qd(r),S!==null&&(_.data=S)))),(S=Mm?Dm(t,r):Um(t,r))&&(u=pa(u,"onBeforeInput"),0<u.length&&(d=new Pc("onBeforeInput","beforeinput",null,r,d),h.push({event:d,listeners:u}),d.data=S))}lh(h,e)})}function ss(t,e,r){return{instance:t,listener:e,currentTarget:r}}function pa(t,e){for(var r=e+"Capture",n=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Yn(t,r),i!=null&&n.unshift(ss(t,i,s)),i=Yn(t,e),i!=null&&n.push(ss(t,i,s))),t=t.return}return n}function Er(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Bc(t,e,r,n,s){for(var i=e._reactName,o=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,s?(c=Yn(r,i),c!=null&&o.unshift(ss(r,c,l))):s||(c=Yn(r,i),c!=null&&o.push(ss(r,c,l)))),r=r.return}o.length!==0&&t.push({event:e,listeners:o})}var eg=/\r\n?/g,tg=/\u0000|\uFFFD/g;function qc(t){return(typeof t=="string"?t:""+t).replace(eg,`
`).replace(tg,"")}function zs(t,e,r){if(e=qc(e),qc(t)!==e&&r)throw Error(E(425))}function xa(){}var po=null,xo=null;function yo(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var vo=typeof setTimeout=="function"?setTimeout:void 0,rg=typeof clearTimeout=="function"?clearTimeout:void 0,Vc=typeof Promise=="function"?Promise:void 0,ng=typeof queueMicrotask=="function"?queueMicrotask:typeof Vc<"u"?function(t){return Vc.resolve(null).then(t).catch(sg)}:vo;function sg(t){setTimeout(function(){throw t})}function Pi(t,e){var r=e,n=0;do{var s=r.nextSibling;if(t.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){t.removeChild(s),es(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);es(e)}function Bt(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Wc(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var hn=Math.random().toString(36).slice(2),dt="__reactFiber$"+hn,as="__reactProps$"+hn,_t="__reactContainer$"+hn,wo="__reactEvents$"+hn,ag="__reactListeners$"+hn,ig="__reactHandles$"+hn;function lr(t){var e=t[dt];if(e)return e;for(var r=t.parentNode;r;){if(e=r[_t]||r[dt]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=Wc(t);t!==null;){if(r=t[dt])return r;t=Wc(t)}return e}t=r,r=t.parentNode}return null}function bs(t){return t=t[dt]||t[_t],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ur(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(E(33))}function Ga(t){return t[as]||null}var bo=[],Fr=-1;function Yt(t){return{current:t}}function K(t){0>Fr||(t.current=bo[Fr],bo[Fr]=null,Fr--)}function G(t,e){Fr++,bo[Fr]=t.current,t.current=e}var Kt={},we=Yt(Kt),Ie=Yt(!1),mr=Kt;function rn(t,e){var r=t.type.contextTypes;if(!r)return Kt;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=e[i];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Ae(t){return t=t.childContextTypes,t!=null}function ya(){K(Ie),K(we)}function Hc(t,e,r){if(we.current!==Kt)throw Error(E(168));G(we,e),G(Ie,r)}function uh(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in e))throw Error(E(108,V0(t)||"Unknown",s));return ee({},r,n)}function va(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Kt,mr=we.current,G(we,t),G(Ie,Ie.current),!0}function Gc(t,e,r){var n=t.stateNode;if(!n)throw Error(E(169));r?(t=uh(t,e,mr),n.__reactInternalMemoizedMergedChildContext=t,K(Ie),K(we),G(we,t)):K(Ie),G(Ie,r)}var vt=null,Ja=!1,Ii=!1;function dh(t){vt===null?vt=[t]:vt.push(t)}function og(t){Ja=!0,dh(t)}function Xt(){if(!Ii&&vt!==null){Ii=!0;var t=0,e=q;try{var r=vt;for(q=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}vt=null,Ja=!1}catch(s){throw vt!==null&&(vt=vt.slice(t+1)),$d(gl,Xt),s}finally{q=e,Ii=!1}}return null}var Br=[],qr=0,wa=null,ba=0,Fe=[],Be=0,gr=null,wt=1,bt="";function sr(t,e){Br[qr++]=ba,Br[qr++]=wa,wa=t,ba=e}function hh(t,e,r){Fe[Be++]=wt,Fe[Be++]=bt,Fe[Be++]=gr,gr=t;var n=wt;t=bt;var s=32-tt(n)-1;n&=~(1<<s),r+=1;var i=32-tt(e)+s;if(30<i){var o=s-s%5;i=(n&(1<<o)-1).toString(32),n>>=o,s-=o,wt=1<<32-tt(e)+s|r<<s|n,bt=i+t}else wt=1<<i|r<<s|n,bt=t}function _l(t){t.return!==null&&(sr(t,1),hh(t,1,0))}function Nl(t){for(;t===wa;)wa=Br[--qr],Br[qr]=null,ba=Br[--qr],Br[qr]=null;for(;t===gr;)gr=Fe[--Be],Fe[Be]=null,bt=Fe[--Be],Fe[Be]=null,wt=Fe[--Be],Fe[Be]=null}var $e=null,Re=null,Q=!1,et=null;function fh(t,e){var r=qe(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function Jc(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,$e=t,Re=Bt(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,$e=t,Re=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=gr!==null?{id:wt,overflow:bt}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=qe(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,$e=t,Re=null,!0):!1;default:return!1}}function ko(t){return(t.mode&1)!==0&&(t.flags&128)===0}function jo(t){if(Q){var e=Re;if(e){var r=e;if(!Jc(t,e)){if(ko(t))throw Error(E(418));e=Bt(r.nextSibling);var n=$e;e&&Jc(t,e)?fh(n,r):(t.flags=t.flags&-4097|2,Q=!1,$e=t)}}else{if(ko(t))throw Error(E(418));t.flags=t.flags&-4097|2,Q=!1,$e=t}}}function Kc(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;$e=t}function Ms(t){if(t!==$e)return!1;if(!Q)return Kc(t),Q=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!yo(t.type,t.memoizedProps)),e&&(e=Re)){if(ko(t))throw mh(),Error(E(418));for(;e;)fh(t,e),e=Bt(e.nextSibling)}if(Kc(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(E(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){Re=Bt(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}Re=null}}else Re=$e?Bt(t.stateNode.nextSibling):null;return!0}function mh(){for(var t=Re;t;)t=Bt(t.nextSibling)}function nn(){Re=$e=null,Q=!1}function Sl(t){et===null?et=[t]:et.push(t)}var lg=Et.ReactCurrentBatchConfig;function _n(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(E(309));var n=r.stateNode}if(!n)throw Error(E(147,t));var s=n,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var l=s.refs;o===null?delete l[i]:l[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(E(284));if(!r._owner)throw Error(E(290,t))}return t}function Ds(t,e){throw t=Object.prototype.toString.call(e),Error(E(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Qc(t){var e=t._init;return e(t._payload)}function gh(t){function e(g,x){if(t){var m=g.deletions;m===null?(g.deletions=[x],g.flags|=16):m.push(x)}}function r(g,x){if(!t)return null;for(;x!==null;)e(g,x),x=x.sibling;return null}function n(g,x){for(g=new Map;x!==null;)x.key!==null?g.set(x.key,x):g.set(x.index,x),x=x.sibling;return g}function s(g,x){return g=Ht(g,x),g.index=0,g.sibling=null,g}function i(g,x,m){return g.index=m,t?(m=g.alternate,m!==null?(m=m.index,m<x?(g.flags|=2,x):m):(g.flags|=2,x)):(g.flags|=1048576,x)}function o(g){return t&&g.alternate===null&&(g.flags|=2),g}function l(g,x,m,j){return x===null||x.tag!==6?(x=Mi(m,g.mode,j),x.return=g,x):(x=s(x,m),x.return=g,x)}function c(g,x,m,j){var k=m.type;return k===$r?d(g,x,m.props.children,j,m.key):x!==null&&(x.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===It&&Qc(k)===x.type)?(j=s(x,m.props),j.ref=_n(g,x,m),j.return=g,j):(j=la(m.type,m.key,m.props,null,g.mode,j),j.ref=_n(g,x,m),j.return=g,j)}function u(g,x,m,j){return x===null||x.tag!==4||x.stateNode.containerInfo!==m.containerInfo||x.stateNode.implementation!==m.implementation?(x=Di(m,g.mode,j),x.return=g,x):(x=s(x,m.children||[]),x.return=g,x)}function d(g,x,m,j,k){return x===null||x.tag!==7?(x=hr(m,g.mode,j,k),x.return=g,x):(x=s(x,m),x.return=g,x)}function h(g,x,m){if(typeof x=="string"&&x!==""||typeof x=="number")return x=Mi(""+x,g.mode,m),x.return=g,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Cs:return m=la(x.type,x.key,x.props,null,g.mode,m),m.ref=_n(g,null,x),m.return=g,m;case Rr:return x=Di(x,g.mode,m),x.return=g,x;case It:var j=x._init;return h(g,j(x._payload),m)}if(In(x)||vn(x))return x=hr(x,g.mode,m,null),x.return=g,x;Ds(g,x)}return null}function f(g,x,m,j){var k=x!==null?x.key:null;if(typeof m=="string"&&m!==""||typeof m=="number")return k!==null?null:l(g,x,""+m,j);if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Cs:return m.key===k?c(g,x,m,j):null;case Rr:return m.key===k?u(g,x,m,j):null;case It:return k=m._init,f(g,x,k(m._payload),j)}if(In(m)||vn(m))return k!==null?null:d(g,x,m,j,null);Ds(g,m)}return null}function p(g,x,m,j,k){if(typeof j=="string"&&j!==""||typeof j=="number")return g=g.get(m)||null,l(x,g,""+j,k);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case Cs:return g=g.get(j.key===null?m:j.key)||null,c(x,g,j,k);case Rr:return g=g.get(j.key===null?m:j.key)||null,u(x,g,j,k);case It:var N=j._init;return p(g,x,m,N(j._payload),k)}if(In(j)||vn(j))return g=g.get(m)||null,d(x,g,j,k,null);Ds(x,j)}return null}function y(g,x,m,j){for(var k=null,N=null,S=x,_=x=0,I=null;S!==null&&_<m.length;_++){S.index>_?(I=S,S=null):I=S.sibling;var O=f(g,S,m[_],j);if(O===null){S===null&&(S=I);break}t&&S&&O.alternate===null&&e(g,S),x=i(O,x,_),N===null?k=O:N.sibling=O,N=O,S=I}if(_===m.length)return r(g,S),Q&&sr(g,_),k;if(S===null){for(;_<m.length;_++)S=h(g,m[_],j),S!==null&&(x=i(S,x,_),N===null?k=S:N.sibling=S,N=S);return Q&&sr(g,_),k}for(S=n(g,S);_<m.length;_++)I=p(S,g,_,m[_],j),I!==null&&(t&&I.alternate!==null&&S.delete(I.key===null?_:I.key),x=i(I,x,_),N===null?k=I:N.sibling=I,N=I);return t&&S.forEach(function(V){return e(g,V)}),Q&&sr(g,_),k}function w(g,x,m,j){var k=vn(m);if(typeof k!="function")throw Error(E(150));if(m=k.call(m),m==null)throw Error(E(151));for(var N=k=null,S=x,_=x=0,I=null,O=m.next();S!==null&&!O.done;_++,O=m.next()){S.index>_?(I=S,S=null):I=S.sibling;var V=f(g,S,O.value,j);if(V===null){S===null&&(S=I);break}t&&S&&V.alternate===null&&e(g,S),x=i(V,x,_),N===null?k=V:N.sibling=V,N=V,S=I}if(O.done)return r(g,S),Q&&sr(g,_),k;if(S===null){for(;!O.done;_++,O=m.next())O=h(g,O.value,j),O!==null&&(x=i(O,x,_),N===null?k=O:N.sibling=O,N=O);return Q&&sr(g,_),k}for(S=n(g,S);!O.done;_++,O=m.next())O=p(S,g,_,O.value,j),O!==null&&(t&&O.alternate!==null&&S.delete(O.key===null?_:O.key),x=i(O,x,_),N===null?k=O:N.sibling=O,N=O);return t&&S.forEach(function(W){return e(g,W)}),Q&&sr(g,_),k}function v(g,x,m,j){if(typeof m=="object"&&m!==null&&m.type===$r&&m.key===null&&(m=m.props.children),typeof m=="object"&&m!==null){switch(m.$$typeof){case Cs:e:{for(var k=m.key,N=x;N!==null;){if(N.key===k){if(k=m.type,k===$r){if(N.tag===7){r(g,N.sibling),x=s(N,m.props.children),x.return=g,g=x;break e}}else if(N.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===It&&Qc(k)===N.type){r(g,N.sibling),x=s(N,m.props),x.ref=_n(g,N,m),x.return=g,g=x;break e}r(g,N);break}else e(g,N);N=N.sibling}m.type===$r?(x=hr(m.props.children,g.mode,j,m.key),x.return=g,g=x):(j=la(m.type,m.key,m.props,null,g.mode,j),j.ref=_n(g,x,m),j.return=g,g=j)}return o(g);case Rr:e:{for(N=m.key;x!==null;){if(x.key===N)if(x.tag===4&&x.stateNode.containerInfo===m.containerInfo&&x.stateNode.implementation===m.implementation){r(g,x.sibling),x=s(x,m.children||[]),x.return=g,g=x;break e}else{r(g,x);break}else e(g,x);x=x.sibling}x=Di(m,g.mode,j),x.return=g,g=x}return o(g);case It:return N=m._init,v(g,x,N(m._payload),j)}if(In(m))return y(g,x,m,j);if(vn(m))return w(g,x,m,j);Ds(g,m)}return typeof m=="string"&&m!==""||typeof m=="number"?(m=""+m,x!==null&&x.tag===6?(r(g,x.sibling),x=s(x,m),x.return=g,g=x):(r(g,x),x=Mi(m,g.mode,j),x.return=g,g=x),o(g)):r(g,x)}return v}var sn=gh(!0),ph=gh(!1),ka=Yt(null),ja=null,Vr=null,El=null;function Cl(){El=Vr=ja=null}function Tl(t){var e=ka.current;K(ka),t._currentValue=e}function _o(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function Yr(t,e){ja=t,El=Vr=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Pe=!0),t.firstContext=null)}function Ge(t){var e=t._currentValue;if(El!==t)if(t={context:t,memoizedValue:e,next:null},Vr===null){if(ja===null)throw Error(E(308));Vr=t,ja.dependencies={lanes:0,firstContext:t}}else Vr=Vr.next=t;return e}var cr=null;function Pl(t){cr===null?cr=[t]:cr.push(t)}function xh(t,e,r,n){var s=e.interleaved;return s===null?(r.next=r,Pl(e)):(r.next=s.next,s.next=r),e.interleaved=r,Nt(t,n)}function Nt(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var At=!1;function Il(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function yh(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function kt(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function qt(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,F&2){var s=n.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),n.pending=e,Nt(t,r)}return s=n.interleaved,s===null?(e.next=e,Pl(n)):(e.next=s.next,s.next=e),n.interleaved=e,Nt(t,r)}function ra(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,pl(t,r)}}function Yc(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?s=i=e:i=i.next=e}else s=i=e;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function _a(t,e,r,n){var s=t.updateQueue;At=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?i=u:o.next=u,o=c;var d=t.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(i!==null){var h=s.baseState;o=0,d=u=c=null,l=i;do{var f=l.lane,p=l.eventTime;if((n&f)===f){d!==null&&(d=d.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var y=t,w=l;switch(f=e,p=r,w.tag){case 1:if(y=w.payload,typeof y=="function"){h=y.call(p,h,f);break e}h=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=w.payload,f=typeof y=="function"?y.call(p,h,f):y,f==null)break e;h=ee({},h,f);break e;case 2:At=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,f=s.effects,f===null?s.effects=[l]:f.push(l))}else p={eventTime:p,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=p,c=h):d=d.next=p,o|=f;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;f=l,l=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(d===null&&(c=h),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);xr|=o,t.lanes=o,t.memoizedState=h}}function Xc(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(E(191,s));s.call(n)}}}var ks={},ft=Yt(ks),is=Yt(ks),os=Yt(ks);function ur(t){if(t===ks)throw Error(E(174));return t}function Al(t,e){switch(G(os,e),G(is,t),G(ft,ks),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:no(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=no(e,t)}K(ft),G(ft,e)}function an(){K(ft),K(is),K(os)}function vh(t){ur(os.current);var e=ur(ft.current),r=no(e,t.type);e!==r&&(G(is,t),G(ft,r))}function Ol(t){is.current===t&&(K(ft),K(is))}var X=Yt(0);function Na(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Ai=[];function Ll(){for(var t=0;t<Ai.length;t++)Ai[t]._workInProgressVersionPrimary=null;Ai.length=0}var na=Et.ReactCurrentDispatcher,Oi=Et.ReactCurrentBatchConfig,pr=0,Z=null,ue=null,he=null,Sa=!1,Un=!1,ls=0,cg=0;function xe(){throw Error(E(321))}function Rl(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!st(t[r],e[r]))return!1;return!0}function $l(t,e,r,n,s,i){if(pr=i,Z=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,na.current=t===null||t.memoizedState===null?fg:mg,t=r(n,s),Un){i=0;do{if(Un=!1,ls=0,25<=i)throw Error(E(301));i+=1,he=ue=null,e.updateQueue=null,na.current=gg,t=r(n,s)}while(Un)}if(na.current=Ea,e=ue!==null&&ue.next!==null,pr=0,he=ue=Z=null,Sa=!1,e)throw Error(E(300));return t}function zl(){var t=ls!==0;return ls=0,t}function ct(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return he===null?Z.memoizedState=he=t:he=he.next=t,he}function Je(){if(ue===null){var t=Z.alternate;t=t!==null?t.memoizedState:null}else t=ue.next;var e=he===null?Z.memoizedState:he.next;if(e!==null)he=e,ue=t;else{if(t===null)throw Error(E(310));ue=t,t={memoizedState:ue.memoizedState,baseState:ue.baseState,baseQueue:ue.baseQueue,queue:ue.queue,next:null},he===null?Z.memoizedState=he=t:he=he.next=t}return he}function cs(t,e){return typeof e=="function"?e(t):e}function Li(t){var e=Je(),r=e.queue;if(r===null)throw Error(E(311));r.lastRenderedReducer=t;var n=ue,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var l=o=null,c=null,u=i;do{var d=u.lane;if((pr&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:t(n,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=h,o=n):c=c.next=h,Z.lanes|=d,xr|=d}u=u.next}while(u!==null&&u!==i);c===null?o=n:c.next=l,st(n,e.memoizedState)||(Pe=!0),e.memoizedState=n,e.baseState=o,e.baseQueue=c,r.lastRenderedState=n}if(t=r.interleaved,t!==null){s=t;do i=s.lane,Z.lanes|=i,xr|=i,s=s.next;while(s!==t)}else s===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function Ri(t){var e=Je(),r=e.queue;if(r===null)throw Error(E(311));r.lastRenderedReducer=t;var n=r.dispatch,s=r.pending,i=e.memoizedState;if(s!==null){r.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);st(i,e.memoizedState)||(Pe=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),r.lastRenderedState=i}return[i,n]}function wh(){}function bh(t,e){var r=Z,n=Je(),s=e(),i=!st(n.memoizedState,s);if(i&&(n.memoizedState=s,Pe=!0),n=n.queue,Ml(_h.bind(null,r,n,t),[t]),n.getSnapshot!==e||i||he!==null&&he.memoizedState.tag&1){if(r.flags|=2048,us(9,jh.bind(null,r,n,s,e),void 0,null),fe===null)throw Error(E(349));pr&30||kh(r,e,s)}return s}function kh(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=Z.updateQueue,e===null?(e={lastEffect:null,stores:null},Z.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function jh(t,e,r,n){e.value=r,e.getSnapshot=n,Nh(e)&&Sh(t)}function _h(t,e,r){return r(function(){Nh(e)&&Sh(t)})}function Nh(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!st(t,r)}catch{return!0}}function Sh(t){var e=Nt(t,1);e!==null&&rt(e,t,1,-1)}function Zc(t){var e=ct();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:cs,lastRenderedState:t},e.queue=t,t=t.dispatch=hg.bind(null,Z,t),[e.memoizedState,t]}function us(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=Z.updateQueue,e===null?(e={lastEffect:null,stores:null},Z.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function Eh(){return Je().memoizedState}function sa(t,e,r,n){var s=ct();Z.flags|=t,s.memoizedState=us(1|e,r,void 0,n===void 0?null:n)}function Ka(t,e,r,n){var s=Je();n=n===void 0?null:n;var i=void 0;if(ue!==null){var o=ue.memoizedState;if(i=o.destroy,n!==null&&Rl(n,o.deps)){s.memoizedState=us(e,r,i,n);return}}Z.flags|=t,s.memoizedState=us(1|e,r,i,n)}function eu(t,e){return sa(8390656,8,t,e)}function Ml(t,e){return Ka(2048,8,t,e)}function Ch(t,e){return Ka(4,2,t,e)}function Th(t,e){return Ka(4,4,t,e)}function Ph(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Ih(t,e,r){return r=r!=null?r.concat([t]):null,Ka(4,4,Ph.bind(null,e,t),r)}function Dl(){}function Ah(t,e){var r=Je();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Rl(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function Oh(t,e){var r=Je();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Rl(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function Lh(t,e,r){return pr&21?(st(r,e)||(r=Dd(),Z.lanes|=r,xr|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Pe=!0),t.memoizedState=r)}function ug(t,e){var r=q;q=r!==0&&4>r?r:4,t(!0);var n=Oi.transition;Oi.transition={};try{t(!1),e()}finally{q=r,Oi.transition=n}}function Rh(){return Je().memoizedState}function dg(t,e,r){var n=Wt(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},$h(t))zh(e,r);else if(r=xh(t,e,r,n),r!==null){var s=_e();rt(r,t,n,s),Mh(r,e,n)}}function hg(t,e,r){var n=Wt(t),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if($h(t))zh(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,l=i(o,r);if(s.hasEagerState=!0,s.eagerState=l,st(l,o)){var c=e.interleaved;c===null?(s.next=s,Pl(e)):(s.next=c.next,c.next=s),e.interleaved=s;return}}catch{}finally{}r=xh(t,e,s,n),r!==null&&(s=_e(),rt(r,t,n,s),Mh(r,e,n))}}function $h(t){var e=t.alternate;return t===Z||e!==null&&e===Z}function zh(t,e){Un=Sa=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function Mh(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,pl(t,r)}}var Ea={readContext:Ge,useCallback:xe,useContext:xe,useEffect:xe,useImperativeHandle:xe,useInsertionEffect:xe,useLayoutEffect:xe,useMemo:xe,useReducer:xe,useRef:xe,useState:xe,useDebugValue:xe,useDeferredValue:xe,useTransition:xe,useMutableSource:xe,useSyncExternalStore:xe,useId:xe,unstable_isNewReconciler:!1},fg={readContext:Ge,useCallback:function(t,e){return ct().memoizedState=[t,e===void 0?null:e],t},useContext:Ge,useEffect:eu,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,sa(4194308,4,Ph.bind(null,e,t),r)},useLayoutEffect:function(t,e){return sa(4194308,4,t,e)},useInsertionEffect:function(t,e){return sa(4,2,t,e)},useMemo:function(t,e){var r=ct();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=ct();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=dg.bind(null,Z,t),[n.memoizedState,t]},useRef:function(t){var e=ct();return t={current:t},e.memoizedState=t},useState:Zc,useDebugValue:Dl,useDeferredValue:function(t){return ct().memoizedState=t},useTransition:function(){var t=Zc(!1),e=t[0];return t=ug.bind(null,t[1]),ct().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=Z,s=ct();if(Q){if(r===void 0)throw Error(E(407));r=r()}else{if(r=e(),fe===null)throw Error(E(349));pr&30||kh(n,e,r)}s.memoizedState=r;var i={value:r,getSnapshot:e};return s.queue=i,eu(_h.bind(null,n,i,t),[t]),n.flags|=2048,us(9,jh.bind(null,n,i,r,e),void 0,null),r},useId:function(){var t=ct(),e=fe.identifierPrefix;if(Q){var r=bt,n=wt;r=(n&~(1<<32-tt(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=ls++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=cg++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},mg={readContext:Ge,useCallback:Ah,useContext:Ge,useEffect:Ml,useImperativeHandle:Ih,useInsertionEffect:Ch,useLayoutEffect:Th,useMemo:Oh,useReducer:Li,useRef:Eh,useState:function(){return Li(cs)},useDebugValue:Dl,useDeferredValue:function(t){var e=Je();return Lh(e,ue.memoizedState,t)},useTransition:function(){var t=Li(cs)[0],e=Je().memoizedState;return[t,e]},useMutableSource:wh,useSyncExternalStore:bh,useId:Rh,unstable_isNewReconciler:!1},gg={readContext:Ge,useCallback:Ah,useContext:Ge,useEffect:Ml,useImperativeHandle:Ih,useInsertionEffect:Ch,useLayoutEffect:Th,useMemo:Oh,useReducer:Ri,useRef:Eh,useState:function(){return Ri(cs)},useDebugValue:Dl,useDeferredValue:function(t){var e=Je();return ue===null?e.memoizedState=t:Lh(e,ue.memoizedState,t)},useTransition:function(){var t=Ri(cs)[0],e=Je().memoizedState;return[t,e]},useMutableSource:wh,useSyncExternalStore:bh,useId:Rh,unstable_isNewReconciler:!1};function Ye(t,e){if(t&&t.defaultProps){e=ee({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function No(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:ee({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Qa={isMounted:function(t){return(t=t._reactInternals)?br(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=_e(),s=Wt(t),i=kt(n,s);i.payload=e,r!=null&&(i.callback=r),e=qt(t,i,s),e!==null&&(rt(e,t,s,n),ra(e,t,s))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=_e(),s=Wt(t),i=kt(n,s);i.tag=1,i.payload=e,r!=null&&(i.callback=r),e=qt(t,i,s),e!==null&&(rt(e,t,s,n),ra(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=_e(),n=Wt(t),s=kt(r,n);s.tag=2,e!=null&&(s.callback=e),e=qt(t,s,n),e!==null&&(rt(e,t,n,r),ra(e,t,n))}};function tu(t,e,r,n,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,i,o):e.prototype&&e.prototype.isPureReactComponent?!rs(r,n)||!rs(s,i):!0}function Dh(t,e,r){var n=!1,s=Kt,i=e.contextType;return typeof i=="object"&&i!==null?i=Ge(i):(s=Ae(e)?mr:we.current,n=e.contextTypes,i=(n=n!=null)?rn(t,s):Kt),e=new e(r,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Qa,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function ru(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&Qa.enqueueReplaceState(e,e.state,null)}function So(t,e,r,n){var s=t.stateNode;s.props=r,s.state=t.memoizedState,s.refs={},Il(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Ge(i):(i=Ae(e)?mr:we.current,s.context=rn(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(No(t,e,i,r),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Qa.enqueueReplaceState(s,s.state,null),_a(t,r,s,n),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function on(t,e){try{var r="",n=e;do r+=q0(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function $i(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function Eo(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var pg=typeof WeakMap=="function"?WeakMap:Map;function Uh(t,e,r){r=kt(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){Ta||(Ta=!0,zo=n),Eo(t,e)},r}function Fh(t,e,r){r=kt(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var s=e.value;r.payload=function(){return n(s)},r.callback=function(){Eo(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){Eo(t,e),typeof n!="function"&&(Vt===null?Vt=new Set([this]):Vt.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),r}function nu(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new pg;var s=new Set;n.set(e,s)}else s=n.get(e),s===void 0&&(s=new Set,n.set(e,s));s.has(r)||(s.add(r),t=Pg.bind(null,t,e,r),e.then(t,t))}function su(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function au(t,e,r,n,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=kt(-1,1),e.tag=2,qt(r,e,1))),r.lanes|=1),t)}var xg=Et.ReactCurrentOwner,Pe=!1;function je(t,e,r,n){e.child=t===null?ph(e,null,r,n):sn(e,t.child,r,n)}function iu(t,e,r,n,s){r=r.render;var i=e.ref;return Yr(e,s),n=$l(t,e,r,n,i,s),r=zl(),t!==null&&!Pe?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,St(t,e,s)):(Q&&r&&_l(e),e.flags|=1,je(t,e,n,s),e.child)}function ou(t,e,r,n,s){if(t===null){var i=r.type;return typeof i=="function"&&!Gl(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=i,Bh(t,e,i,n,s)):(t=la(r.type,null,n,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:rs,r(o,n)&&t.ref===e.ref)return St(t,e,s)}return e.flags|=1,t=Ht(i,n),t.ref=e.ref,t.return=e,e.child=t}function Bh(t,e,r,n,s){if(t!==null){var i=t.memoizedProps;if(rs(i,n)&&t.ref===e.ref)if(Pe=!1,e.pendingProps=n=i,(t.lanes&s)!==0)t.flags&131072&&(Pe=!0);else return e.lanes=t.lanes,St(t,e,s)}return Co(t,e,r,n,s)}function qh(t,e,r){var n=e.pendingProps,s=n.children,i=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},G(Hr,Le),Le|=r;else{if(!(r&1073741824))return t=i!==null?i.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,G(Hr,Le),Le|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,G(Hr,Le),Le|=n}else i!==null?(n=i.baseLanes|r,e.memoizedState=null):n=r,G(Hr,Le),Le|=n;return je(t,e,s,r),e.child}function Vh(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function Co(t,e,r,n,s){var i=Ae(r)?mr:we.current;return i=rn(e,i),Yr(e,s),r=$l(t,e,r,n,i,s),n=zl(),t!==null&&!Pe?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,St(t,e,s)):(Q&&n&&_l(e),e.flags|=1,je(t,e,r,s),e.child)}function lu(t,e,r,n,s){if(Ae(r)){var i=!0;va(e)}else i=!1;if(Yr(e,s),e.stateNode===null)aa(t,e),Dh(e,r,n),So(e,r,n,s),n=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var c=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=Ge(u):(u=Ae(r)?mr:we.current,u=rn(e,u));var d=r.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==u)&&ru(e,o,n,u),At=!1;var f=e.memoizedState;o.state=f,_a(e,n,o,s),c=e.memoizedState,l!==n||f!==c||Ie.current||At?(typeof d=="function"&&(No(e,r,d,n),c=e.memoizedState),(l=At||tu(e,r,l,n,f,c,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=c),o.props=n,o.state=c,o.context=u,n=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{o=e.stateNode,yh(t,e),l=e.memoizedProps,u=e.type===e.elementType?l:Ye(e.type,l),o.props=u,h=e.pendingProps,f=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=Ge(c):(c=Ae(r)?mr:we.current,c=rn(e,c));var p=r.getDerivedStateFromProps;(d=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==h||f!==c)&&ru(e,o,n,c),At=!1,f=e.memoizedState,o.state=f,_a(e,n,o,s);var y=e.memoizedState;l!==h||f!==y||Ie.current||At?(typeof p=="function"&&(No(e,r,p,n),y=e.memoizedState),(u=At||tu(e,r,u,n,f,y,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,y,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,y,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=y),o.props=n,o.state=y,o.context=c,n=u):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),n=!1)}return To(t,e,r,n,i,s)}function To(t,e,r,n,s,i){Vh(t,e);var o=(e.flags&128)!==0;if(!n&&!o)return s&&Gc(e,r,!1),St(t,e,i);n=e.stateNode,xg.current=e;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&o?(e.child=sn(e,t.child,null,i),e.child=sn(e,null,l,i)):je(t,e,l,i),e.memoizedState=n.state,s&&Gc(e,r,!0),e.child}function Wh(t){var e=t.stateNode;e.pendingContext?Hc(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Hc(t,e.context,!1),Al(t,e.containerInfo)}function cu(t,e,r,n,s){return nn(),Sl(s),e.flags|=256,je(t,e,r,n),e.child}var Po={dehydrated:null,treeContext:null,retryLane:0};function Io(t){return{baseLanes:t,cachePool:null,transitions:null}}function Hh(t,e,r){var n=e.pendingProps,s=X.current,i=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(s&2)!==0),l?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),G(X,s&1),t===null)return jo(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=n.children,t=n.fallback,i?(n=e.mode,i=e.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Za(o,n,0,null),t=hr(t,n,r,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Io(r),e.memoizedState=Po,t):Ul(e,o));if(s=t.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return yg(t,e,o,n,l,s,r);if(i){i=n.fallback,o=e.mode,s=t.child,l=s.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&e.child!==s?(n=e.child,n.childLanes=0,n.pendingProps=c,e.deletions=null):(n=Ht(s,c),n.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=Ht(l,i):(i=hr(i,o,r,null),i.flags|=2),i.return=e,n.return=e,n.sibling=i,e.child=n,n=i,i=e.child,o=t.child.memoizedState,o=o===null?Io(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~r,e.memoizedState=Po,n}return i=t.child,t=i.sibling,n=Ht(i,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function Ul(t,e){return e=Za({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Us(t,e,r,n){return n!==null&&Sl(n),sn(e,t.child,null,r),t=Ul(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function yg(t,e,r,n,s,i,o){if(r)return e.flags&256?(e.flags&=-257,n=$i(Error(E(422))),Us(t,e,o,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=n.fallback,s=e.mode,n=Za({mode:"visible",children:n.children},s,0,null),i=hr(i,s,o,null),i.flags|=2,n.return=e,i.return=e,n.sibling=i,e.child=n,e.mode&1&&sn(e,t.child,null,o),e.child.memoizedState=Io(o),e.memoizedState=Po,i);if(!(e.mode&1))return Us(t,e,o,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var l=n.dgst;return n=l,i=Error(E(419)),n=$i(i,n,void 0),Us(t,e,o,n)}if(l=(o&t.childLanes)!==0,Pe||l){if(n=fe,n!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Nt(t,s),rt(n,t,s,-1))}return Hl(),n=$i(Error(E(421))),Us(t,e,o,n)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=Ig.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Re=Bt(s.nextSibling),$e=e,Q=!0,et=null,t!==null&&(Fe[Be++]=wt,Fe[Be++]=bt,Fe[Be++]=gr,wt=t.id,bt=t.overflow,gr=e),e=Ul(e,n.children),e.flags|=4096,e)}function uu(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),_o(t.return,e,r)}function zi(t,e,r,n,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function Gh(t,e,r){var n=e.pendingProps,s=n.revealOrder,i=n.tail;if(je(t,e,n.children,r),n=X.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&uu(t,r,e);else if(t.tag===19)uu(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(G(X,n),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(r=e.child,s=null;r!==null;)t=r.alternate,t!==null&&Na(t)===null&&(s=r),r=r.sibling;r=s,r===null?(s=e.child,e.child=null):(s=r.sibling,r.sibling=null),zi(e,!1,s,r,i);break;case"backwards":for(r=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Na(t)===null){e.child=s;break}t=s.sibling,s.sibling=r,r=s,s=t}zi(e,!0,r,null,i);break;case"together":zi(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function aa(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function St(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),xr|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(E(153));if(e.child!==null){for(t=e.child,r=Ht(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=Ht(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function vg(t,e,r){switch(e.tag){case 3:Wh(e),nn();break;case 5:vh(e);break;case 1:Ae(e.type)&&va(e);break;case 4:Al(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,s=e.memoizedProps.value;G(ka,n._currentValue),n._currentValue=s;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(G(X,X.current&1),e.flags|=128,null):r&e.child.childLanes?Hh(t,e,r):(G(X,X.current&1),t=St(t,e,r),t!==null?t.sibling:null);G(X,X.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return Gh(t,e,r);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),G(X,X.current),n)break;return null;case 22:case 23:return e.lanes=0,qh(t,e,r)}return St(t,e,r)}var Jh,Ao,Kh,Qh;Jh=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Ao=function(){};Kh=function(t,e,r,n){var s=t.memoizedProps;if(s!==n){t=e.stateNode,ur(ft.current);var i=null;switch(r){case"input":s=Zi(t,s),n=Zi(t,n),i=[];break;case"select":s=ee({},s,{value:void 0}),n=ee({},n,{value:void 0}),i=[];break;case"textarea":s=ro(t,s),n=ro(t,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=xa)}so(r,n);var o;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Kn.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var c=n[u];if(l=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(i||(i=[]),i.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Kn.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&J("scroll",t),i||l===c||(i=[])):(i=i||[]).push(u,c))}r&&(i=i||[]).push("style",r);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};Qh=function(t,e,r,n){r!==n&&(e.flags|=4)};function Nn(t,e){if(!Q)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function ye(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function wg(t,e,r){var n=e.pendingProps;switch(Nl(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ye(e),null;case 1:return Ae(e.type)&&ya(),ye(e),null;case 3:return n=e.stateNode,an(),K(Ie),K(we),Ll(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Ms(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,et!==null&&(Uo(et),et=null))),Ao(t,e),ye(e),null;case 5:Ol(e);var s=ur(os.current);if(r=e.type,t!==null&&e.stateNode!=null)Kh(t,e,r,n,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(E(166));return ye(e),null}if(t=ur(ft.current),Ms(e)){n=e.stateNode,r=e.type;var i=e.memoizedProps;switch(n[dt]=e,n[as]=i,t=(e.mode&1)!==0,r){case"dialog":J("cancel",n),J("close",n);break;case"iframe":case"object":case"embed":J("load",n);break;case"video":case"audio":for(s=0;s<On.length;s++)J(On[s],n);break;case"source":J("error",n);break;case"img":case"image":case"link":J("error",n),J("load",n);break;case"details":J("toggle",n);break;case"input":vc(n,i),J("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},J("invalid",n);break;case"textarea":bc(n,i),J("invalid",n)}so(r,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?n.textContent!==l&&(i.suppressHydrationWarning!==!0&&zs(n.textContent,l,t),s=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&zs(n.textContent,l,t),s=["children",""+l]):Kn.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&J("scroll",n)}switch(r){case"input":Ts(n),wc(n,i,!0);break;case"textarea":Ts(n),kc(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=xa)}n=s,e.updateQueue=n,n!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=_d(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=o.createElement(r,{is:n.is}):(t=o.createElement(r),r==="select"&&(o=t,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):t=o.createElementNS(t,r),t[dt]=e,t[as]=n,Jh(t,e,!1,!1),e.stateNode=t;e:{switch(o=ao(r,n),r){case"dialog":J("cancel",t),J("close",t),s=n;break;case"iframe":case"object":case"embed":J("load",t),s=n;break;case"video":case"audio":for(s=0;s<On.length;s++)J(On[s],t);s=n;break;case"source":J("error",t),s=n;break;case"img":case"image":case"link":J("error",t),J("load",t),s=n;break;case"details":J("toggle",t),s=n;break;case"input":vc(t,n),s=Zi(t,n),J("invalid",t);break;case"option":s=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},s=ee({},n,{value:void 0}),J("invalid",t);break;case"textarea":bc(t,n),s=ro(t,n),J("invalid",t);break;default:s=n}so(r,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?Ed(t,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Nd(t,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Qn(t,c):typeof c=="number"&&Qn(t,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Kn.hasOwnProperty(i)?c!=null&&i==="onScroll"&&J("scroll",t):c!=null&&ul(t,i,c,o))}switch(r){case"input":Ts(t),wc(t,n,!1);break;case"textarea":Ts(t),kc(t);break;case"option":n.value!=null&&t.setAttribute("value",""+Jt(n.value));break;case"select":t.multiple=!!n.multiple,i=n.value,i!=null?Gr(t,!!n.multiple,i,!1):n.defaultValue!=null&&Gr(t,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=xa)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return ye(e),null;case 6:if(t&&e.stateNode!=null)Qh(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(E(166));if(r=ur(os.current),ur(ft.current),Ms(e)){if(n=e.stateNode,r=e.memoizedProps,n[dt]=e,(i=n.nodeValue!==r)&&(t=$e,t!==null))switch(t.tag){case 3:zs(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&zs(n.nodeValue,r,(t.mode&1)!==0)}i&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[dt]=e,e.stateNode=n}return ye(e),null;case 13:if(K(X),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Q&&Re!==null&&e.mode&1&&!(e.flags&128))mh(),nn(),e.flags|=98560,i=!1;else if(i=Ms(e),n!==null&&n.dehydrated!==null){if(t===null){if(!i)throw Error(E(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(E(317));i[dt]=e}else nn(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;ye(e),i=!1}else et!==null&&(Uo(et),et=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||X.current&1?de===0&&(de=3):Hl())),e.updateQueue!==null&&(e.flags|=4),ye(e),null);case 4:return an(),Ao(t,e),t===null&&ns(e.stateNode.containerInfo),ye(e),null;case 10:return Tl(e.type._context),ye(e),null;case 17:return Ae(e.type)&&ya(),ye(e),null;case 19:if(K(X),i=e.memoizedState,i===null)return ye(e),null;if(n=(e.flags&128)!==0,o=i.rendering,o===null)if(n)Nn(i,!1);else{if(de!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Na(t),o!==null){for(e.flags|=128,Nn(i,!1),n=o.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)i=r,t=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return G(X,X.current&1|2),e.child}t=t.sibling}i.tail!==null&&ne()>ln&&(e.flags|=128,n=!0,Nn(i,!1),e.lanes=4194304)}else{if(!n)if(t=Na(o),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),Nn(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Q)return ye(e),null}else 2*ne()-i.renderingStartTime>ln&&r!==1073741824&&(e.flags|=128,n=!0,Nn(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(r=i.last,r!==null?r.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=ne(),e.sibling=null,r=X.current,G(X,n?r&1|2:r&1),e):(ye(e),null);case 22:case 23:return Wl(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?Le&1073741824&&(ye(e),e.subtreeFlags&6&&(e.flags|=8192)):ye(e),null;case 24:return null;case 25:return null}throw Error(E(156,e.tag))}function bg(t,e){switch(Nl(e),e.tag){case 1:return Ae(e.type)&&ya(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return an(),K(Ie),K(we),Ll(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Ol(e),null;case 13:if(K(X),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(E(340));nn()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return K(X),null;case 4:return an(),null;case 10:return Tl(e.type._context),null;case 22:case 23:return Wl(),null;case 24:return null;default:return null}}var Fs=!1,ve=!1,kg=typeof WeakSet=="function"?WeakSet:Set,P=null;function Wr(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){te(t,e,n)}else r.current=null}function Oo(t,e,r){try{r()}catch(n){te(t,e,n)}}var du=!1;function jg(t,e){if(po=ma,t=th(),jl(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,u=0,d=0,h=t,f=null;t:for(;;){for(var p;h!==r||s!==0&&h.nodeType!==3||(l=o+s),h!==i||n!==0&&h.nodeType!==3||(c=o+n),h.nodeType===3&&(o+=h.nodeValue.length),(p=h.firstChild)!==null;)f=h,h=p;for(;;){if(h===t)break t;if(f===r&&++u===s&&(l=o),f===i&&++d===n&&(c=o),(p=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=p}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(xo={focusedElem:t,selectionRange:r},ma=!1,P=e;P!==null;)if(e=P,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,P=t;else for(;P!==null;){e=P;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var w=y.memoizedProps,v=y.memoizedState,g=e.stateNode,x=g.getSnapshotBeforeUpdate(e.elementType===e.type?w:Ye(e.type,w),v);g.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var m=e.stateNode.containerInfo;m.nodeType===1?m.textContent="":m.nodeType===9&&m.documentElement&&m.removeChild(m.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(E(163))}}catch(j){te(e,e.return,j)}if(t=e.sibling,t!==null){t.return=e.return,P=t;break}P=e.return}return y=du,du=!1,y}function Fn(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Oo(e,r,i)}s=s.next}while(s!==n)}}function Ya(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function Lo(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function Yh(t){var e=t.alternate;e!==null&&(t.alternate=null,Yh(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[dt],delete e[as],delete e[wo],delete e[ag],delete e[ig])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Xh(t){return t.tag===5||t.tag===3||t.tag===4}function hu(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Xh(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Ro(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=xa));else if(n!==4&&(t=t.child,t!==null))for(Ro(t,e,r),t=t.sibling;t!==null;)Ro(t,e,r),t=t.sibling}function $o(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for($o(t,e,r),t=t.sibling;t!==null;)$o(t,e,r),t=t.sibling}var me=null,Xe=!1;function Ct(t,e,r){for(r=r.child;r!==null;)Zh(t,e,r),r=r.sibling}function Zh(t,e,r){if(ht&&typeof ht.onCommitFiberUnmount=="function")try{ht.onCommitFiberUnmount(qa,r)}catch{}switch(r.tag){case 5:ve||Wr(r,e);case 6:var n=me,s=Xe;me=null,Ct(t,e,r),me=n,Xe=s,me!==null&&(Xe?(t=me,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):me.removeChild(r.stateNode));break;case 18:me!==null&&(Xe?(t=me,r=r.stateNode,t.nodeType===8?Pi(t.parentNode,r):t.nodeType===1&&Pi(t,r),es(t)):Pi(me,r.stateNode));break;case 4:n=me,s=Xe,me=r.stateNode.containerInfo,Xe=!0,Ct(t,e,r),me=n,Xe=s;break;case 0:case 11:case 14:case 15:if(!ve&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Oo(r,e,o),s=s.next}while(s!==n)}Ct(t,e,r);break;case 1:if(!ve&&(Wr(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){te(r,e,l)}Ct(t,e,r);break;case 21:Ct(t,e,r);break;case 22:r.mode&1?(ve=(n=ve)||r.memoizedState!==null,Ct(t,e,r),ve=n):Ct(t,e,r);break;default:Ct(t,e,r)}}function fu(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new kg),e.forEach(function(n){var s=Ag.bind(null,t,n);r.has(n)||(r.add(n),n.then(s,s))})}}function Ke(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:me=l.stateNode,Xe=!1;break e;case 3:me=l.stateNode.containerInfo,Xe=!0;break e;case 4:me=l.stateNode.containerInfo,Xe=!0;break e}l=l.return}if(me===null)throw Error(E(160));Zh(i,o,s),me=null,Xe=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){te(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)ef(e,t),e=e.sibling}function ef(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Ke(e,t),ot(t),n&4){try{Fn(3,t,t.return),Ya(3,t)}catch(w){te(t,t.return,w)}try{Fn(5,t,t.return)}catch(w){te(t,t.return,w)}}break;case 1:Ke(e,t),ot(t),n&512&&r!==null&&Wr(r,r.return);break;case 5:if(Ke(e,t),ot(t),n&512&&r!==null&&Wr(r,r.return),t.flags&32){var s=t.stateNode;try{Qn(s,"")}catch(w){te(t,t.return,w)}}if(n&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=r!==null?r.memoizedProps:i,l=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&kd(s,i),ao(l,o);var u=ao(l,i);for(o=0;o<c.length;o+=2){var d=c[o],h=c[o+1];d==="style"?Ed(s,h):d==="dangerouslySetInnerHTML"?Nd(s,h):d==="children"?Qn(s,h):ul(s,d,h,u)}switch(l){case"input":eo(s,i);break;case"textarea":jd(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?Gr(s,!!i.multiple,p,!1):f!==!!i.multiple&&(i.defaultValue!=null?Gr(s,!!i.multiple,i.defaultValue,!0):Gr(s,!!i.multiple,i.multiple?[]:"",!1))}s[as]=i}catch(w){te(t,t.return,w)}}break;case 6:if(Ke(e,t),ot(t),n&4){if(t.stateNode===null)throw Error(E(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(w){te(t,t.return,w)}}break;case 3:if(Ke(e,t),ot(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{es(e.containerInfo)}catch(w){te(t,t.return,w)}break;case 4:Ke(e,t),ot(t);break;case 13:Ke(e,t),ot(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(ql=ne())),n&4&&fu(t);break;case 22:if(d=r!==null&&r.memoizedState!==null,t.mode&1?(ve=(u=ve)||d,Ke(e,t),ve=u):Ke(e,t),ot(t),n&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(P=t,d=t.child;d!==null;){for(h=P=d;P!==null;){switch(f=P,p=f.child,f.tag){case 0:case 11:case 14:case 15:Fn(4,f,f.return);break;case 1:Wr(f,f.return);var y=f.stateNode;if(typeof y.componentWillUnmount=="function"){n=f,r=f.return;try{e=n,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(w){te(n,r,w)}}break;case 5:Wr(f,f.return);break;case 22:if(f.memoizedState!==null){gu(h);continue}}p!==null?(p.return=f,P=p):gu(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=h.stateNode,c=h.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=Sd("display",o))}catch(w){te(t,t.return,w)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(w){te(t,t.return,w)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Ke(e,t),ot(t),n&4&&fu(t);break;case 21:break;default:Ke(e,t),ot(t)}}function ot(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(Xh(r)){var n=r;break e}r=r.return}throw Error(E(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(Qn(s,""),n.flags&=-33);var i=hu(t);$o(t,i,s);break;case 3:case 4:var o=n.stateNode.containerInfo,l=hu(t);Ro(t,l,o);break;default:throw Error(E(161))}}catch(c){te(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function _g(t,e,r){P=t,tf(t)}function tf(t,e,r){for(var n=(t.mode&1)!==0;P!==null;){var s=P,i=s.child;if(s.tag===22&&n){var o=s.memoizedState!==null||Fs;if(!o){var l=s.alternate,c=l!==null&&l.memoizedState!==null||ve;l=Fs;var u=ve;if(Fs=o,(ve=c)&&!u)for(P=s;P!==null;)o=P,c=o.child,o.tag===22&&o.memoizedState!==null?pu(s):c!==null?(c.return=o,P=c):pu(s);for(;i!==null;)P=i,tf(i),i=i.sibling;P=s,Fs=l,ve=u}mu(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,P=i):mu(t)}}function mu(t){for(;P!==null;){var e=P;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:ve||Ya(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!ve)if(r===null)n.componentDidMount();else{var s=e.elementType===e.type?r.memoizedProps:Ye(e.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&Xc(e,i,n);break;case 3:var o=e.updateQueue;if(o!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}Xc(e,o,r)}break;case 5:var l=e.stateNode;if(r===null&&e.flags&4){r=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&es(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(E(163))}ve||e.flags&512&&Lo(e)}catch(f){te(e,e.return,f)}}if(e===t){P=null;break}if(r=e.sibling,r!==null){r.return=e.return,P=r;break}P=e.return}}function gu(t){for(;P!==null;){var e=P;if(e===t){P=null;break}var r=e.sibling;if(r!==null){r.return=e.return,P=r;break}P=e.return}}function pu(t){for(;P!==null;){var e=P;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{Ya(4,e)}catch(c){te(e,r,c)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var s=e.return;try{n.componentDidMount()}catch(c){te(e,s,c)}}var i=e.return;try{Lo(e)}catch(c){te(e,i,c)}break;case 5:var o=e.return;try{Lo(e)}catch(c){te(e,o,c)}}}catch(c){te(e,e.return,c)}if(e===t){P=null;break}var l=e.sibling;if(l!==null){l.return=e.return,P=l;break}P=e.return}}var Ng=Math.ceil,Ca=Et.ReactCurrentDispatcher,Fl=Et.ReactCurrentOwner,We=Et.ReactCurrentBatchConfig,F=0,fe=null,ae=null,ge=0,Le=0,Hr=Yt(0),de=0,ds=null,xr=0,Xa=0,Bl=0,Bn=null,Ce=null,ql=0,ln=1/0,xt=null,Ta=!1,zo=null,Vt=null,Bs=!1,zt=null,Pa=0,qn=0,Mo=null,ia=-1,oa=0;function _e(){return F&6?ne():ia!==-1?ia:ia=ne()}function Wt(t){return t.mode&1?F&2&&ge!==0?ge&-ge:lg.transition!==null?(oa===0&&(oa=Dd()),oa):(t=q,t!==0||(t=window.event,t=t===void 0?16:Hd(t.type)),t):1}function rt(t,e,r,n){if(50<qn)throw qn=0,Mo=null,Error(E(185));vs(t,r,n),(!(F&2)||t!==fe)&&(t===fe&&(!(F&2)&&(Xa|=r),de===4&&Lt(t,ge)),Oe(t,n),r===1&&F===0&&!(e.mode&1)&&(ln=ne()+500,Ja&&Xt()))}function Oe(t,e){var r=t.callbackNode;lm(t,e);var n=fa(t,t===fe?ge:0);if(n===0)r!==null&&Nc(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&Nc(r),e===1)t.tag===0?og(xu.bind(null,t)):dh(xu.bind(null,t)),ng(function(){!(F&6)&&Xt()}),r=null;else{switch(Ud(n)){case 1:r=gl;break;case 4:r=zd;break;case 16:r=ha;break;case 536870912:r=Md;break;default:r=ha}r=uf(r,rf.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function rf(t,e){if(ia=-1,oa=0,F&6)throw Error(E(327));var r=t.callbackNode;if(Xr()&&t.callbackNode!==r)return null;var n=fa(t,t===fe?ge:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=Ia(t,n);else{e=n;var s=F;F|=2;var i=sf();(fe!==t||ge!==e)&&(xt=null,ln=ne()+500,dr(t,e));do try{Cg();break}catch(l){nf(t,l)}while(!0);Cl(),Ca.current=i,F=s,ae!==null?e=0:(fe=null,ge=0,e=de)}if(e!==0){if(e===2&&(s=uo(t),s!==0&&(n=s,e=Do(t,s))),e===1)throw r=ds,dr(t,0),Lt(t,n),Oe(t,ne()),r;if(e===6)Lt(t,n);else{if(s=t.current.alternate,!(n&30)&&!Sg(s)&&(e=Ia(t,n),e===2&&(i=uo(t),i!==0&&(n=i,e=Do(t,i))),e===1))throw r=ds,dr(t,0),Lt(t,n),Oe(t,ne()),r;switch(t.finishedWork=s,t.finishedLanes=n,e){case 0:case 1:throw Error(E(345));case 2:ar(t,Ce,xt);break;case 3:if(Lt(t,n),(n&130023424)===n&&(e=ql+500-ne(),10<e)){if(fa(t,0)!==0)break;if(s=t.suspendedLanes,(s&n)!==n){_e(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=vo(ar.bind(null,t,Ce,xt),e);break}ar(t,Ce,xt);break;case 4:if(Lt(t,n),(n&4194240)===n)break;for(e=t.eventTimes,s=-1;0<n;){var o=31-tt(n);i=1<<o,o=e[o],o>s&&(s=o),n&=~i}if(n=s,n=ne()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Ng(n/1960))-n,10<n){t.timeoutHandle=vo(ar.bind(null,t,Ce,xt),n);break}ar(t,Ce,xt);break;case 5:ar(t,Ce,xt);break;default:throw Error(E(329))}}}return Oe(t,ne()),t.callbackNode===r?rf.bind(null,t):null}function Do(t,e){var r=Bn;return t.current.memoizedState.isDehydrated&&(dr(t,e).flags|=256),t=Ia(t,e),t!==2&&(e=Ce,Ce=r,e!==null&&Uo(e)),t}function Uo(t){Ce===null?Ce=t:Ce.push.apply(Ce,t)}function Sg(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!st(i(),s))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Lt(t,e){for(e&=~Bl,e&=~Xa,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-tt(e),n=1<<r;t[r]=-1,e&=~n}}function xu(t){if(F&6)throw Error(E(327));Xr();var e=fa(t,0);if(!(e&1))return Oe(t,ne()),null;var r=Ia(t,e);if(t.tag!==0&&r===2){var n=uo(t);n!==0&&(e=n,r=Do(t,n))}if(r===1)throw r=ds,dr(t,0),Lt(t,e),Oe(t,ne()),r;if(r===6)throw Error(E(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ar(t,Ce,xt),Oe(t,ne()),null}function Vl(t,e){var r=F;F|=1;try{return t(e)}finally{F=r,F===0&&(ln=ne()+500,Ja&&Xt())}}function yr(t){zt!==null&&zt.tag===0&&!(F&6)&&Xr();var e=F;F|=1;var r=We.transition,n=q;try{if(We.transition=null,q=1,t)return t()}finally{q=n,We.transition=r,F=e,!(F&6)&&Xt()}}function Wl(){Le=Hr.current,K(Hr)}function dr(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,rg(r)),ae!==null)for(r=ae.return;r!==null;){var n=r;switch(Nl(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&ya();break;case 3:an(),K(Ie),K(we),Ll();break;case 5:Ol(n);break;case 4:an();break;case 13:K(X);break;case 19:K(X);break;case 10:Tl(n.type._context);break;case 22:case 23:Wl()}r=r.return}if(fe=t,ae=t=Ht(t.current,null),ge=Le=e,de=0,ds=null,Bl=Xa=xr=0,Ce=Bn=null,cr!==null){for(e=0;e<cr.length;e++)if(r=cr[e],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=s,n.next=o}r.pending=n}cr=null}return t}function nf(t,e){do{var r=ae;try{if(Cl(),na.current=Ea,Sa){for(var n=Z.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Sa=!1}if(pr=0,he=ue=Z=null,Un=!1,ls=0,Fl.current=null,r===null||r.return===null){de=1,ds=e,ae=null;break}e:{var i=t,o=r.return,l=r,c=e;if(e=ge,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=su(o);if(p!==null){p.flags&=-257,au(p,o,l,i,e),p.mode&1&&nu(i,u,e),e=p,c=u;var y=e.updateQueue;if(y===null){var w=new Set;w.add(c),e.updateQueue=w}else y.add(c);break e}else{if(!(e&1)){nu(i,u,e),Hl();break e}c=Error(E(426))}}else if(Q&&l.mode&1){var v=su(o);if(v!==null){!(v.flags&65536)&&(v.flags|=256),au(v,o,l,i,e),Sl(on(c,l));break e}}i=c=on(c,l),de!==4&&(de=2),Bn===null?Bn=[i]:Bn.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var g=Uh(i,c,e);Yc(i,g);break e;case 1:l=c;var x=i.type,m=i.stateNode;if(!(i.flags&128)&&(typeof x.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Vt===null||!Vt.has(m)))){i.flags|=65536,e&=-e,i.lanes|=e;var j=Fh(i,l,e);Yc(i,j);break e}}i=i.return}while(i!==null)}of(r)}catch(k){e=k,ae===r&&r!==null&&(ae=r=r.return);continue}break}while(!0)}function sf(){var t=Ca.current;return Ca.current=Ea,t===null?Ea:t}function Hl(){(de===0||de===3||de===2)&&(de=4),fe===null||!(xr&268435455)&&!(Xa&268435455)||Lt(fe,ge)}function Ia(t,e){var r=F;F|=2;var n=sf();(fe!==t||ge!==e)&&(xt=null,dr(t,e));do try{Eg();break}catch(s){nf(t,s)}while(!0);if(Cl(),F=r,Ca.current=n,ae!==null)throw Error(E(261));return fe=null,ge=0,de}function Eg(){for(;ae!==null;)af(ae)}function Cg(){for(;ae!==null&&!Z0();)af(ae)}function af(t){var e=cf(t.alternate,t,Le);t.memoizedProps=t.pendingProps,e===null?of(t):ae=e,Fl.current=null}function of(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=bg(r,e),r!==null){r.flags&=32767,ae=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{de=6,ae=null;return}}else if(r=wg(r,e,Le),r!==null){ae=r;return}if(e=e.sibling,e!==null){ae=e;return}ae=e=t}while(e!==null);de===0&&(de=5)}function ar(t,e,r){var n=q,s=We.transition;try{We.transition=null,q=1,Tg(t,e,r,n)}finally{We.transition=s,q=n}return null}function Tg(t,e,r,n){do Xr();while(zt!==null);if(F&6)throw Error(E(327));r=t.finishedWork;var s=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(E(177));t.callbackNode=null,t.callbackPriority=0;var i=r.lanes|r.childLanes;if(cm(t,i),t===fe&&(ae=fe=null,ge=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Bs||(Bs=!0,uf(ha,function(){return Xr(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=We.transition,We.transition=null;var o=q;q=1;var l=F;F|=4,Fl.current=null,jg(t,r),ef(r,t),Km(xo),ma=!!po,xo=po=null,t.current=r,_g(r),em(),F=l,q=o,We.transition=i}else t.current=r;if(Bs&&(Bs=!1,zt=t,Pa=s),i=t.pendingLanes,i===0&&(Vt=null),nm(r.stateNode),Oe(t,ne()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)s=e[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(Ta)throw Ta=!1,t=zo,zo=null,t;return Pa&1&&t.tag!==0&&Xr(),i=t.pendingLanes,i&1?t===Mo?qn++:(qn=0,Mo=t):qn=0,Xt(),null}function Xr(){if(zt!==null){var t=Ud(Pa),e=We.transition,r=q;try{if(We.transition=null,q=16>t?16:t,zt===null)var n=!1;else{if(t=zt,zt=null,Pa=0,F&6)throw Error(E(331));var s=F;for(F|=4,P=t.current;P!==null;){var i=P,o=i.child;if(P.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(P=u;P!==null;){var d=P;switch(d.tag){case 0:case 11:case 15:Fn(8,d,i)}var h=d.child;if(h!==null)h.return=d,P=h;else for(;P!==null;){d=P;var f=d.sibling,p=d.return;if(Yh(d),d===u){P=null;break}if(f!==null){f.return=p,P=f;break}P=p}}}var y=i.alternate;if(y!==null){var w=y.child;if(w!==null){y.child=null;do{var v=w.sibling;w.sibling=null,w=v}while(w!==null)}}P=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,P=o;else e:for(;P!==null;){if(i=P,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Fn(9,i,i.return)}var g=i.sibling;if(g!==null){g.return=i.return,P=g;break e}P=i.return}}var x=t.current;for(P=x;P!==null;){o=P;var m=o.child;if(o.subtreeFlags&2064&&m!==null)m.return=o,P=m;else e:for(o=x;P!==null;){if(l=P,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Ya(9,l)}}catch(k){te(l,l.return,k)}if(l===o){P=null;break e}var j=l.sibling;if(j!==null){j.return=l.return,P=j;break e}P=l.return}}if(F=s,Xt(),ht&&typeof ht.onPostCommitFiberRoot=="function")try{ht.onPostCommitFiberRoot(qa,t)}catch{}n=!0}return n}finally{q=r,We.transition=e}}return!1}function yu(t,e,r){e=on(r,e),e=Uh(t,e,1),t=qt(t,e,1),e=_e(),t!==null&&(vs(t,1,e),Oe(t,e))}function te(t,e,r){if(t.tag===3)yu(t,t,r);else for(;e!==null;){if(e.tag===3){yu(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Vt===null||!Vt.has(n))){t=on(r,t),t=Fh(e,t,1),e=qt(e,t,1),t=_e(),e!==null&&(vs(e,1,t),Oe(e,t));break}}e=e.return}}function Pg(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=_e(),t.pingedLanes|=t.suspendedLanes&r,fe===t&&(ge&r)===r&&(de===4||de===3&&(ge&130023424)===ge&&500>ne()-ql?dr(t,0):Bl|=r),Oe(t,e)}function lf(t,e){e===0&&(t.mode&1?(e=As,As<<=1,!(As&130023424)&&(As=4194304)):e=1);var r=_e();t=Nt(t,e),t!==null&&(vs(t,e,r),Oe(t,r))}function Ig(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),lf(t,r)}function Ag(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,s=t.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(E(314))}n!==null&&n.delete(e),lf(t,r)}var cf;cf=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||Ie.current)Pe=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return Pe=!1,vg(t,e,r);Pe=!!(t.flags&131072)}else Pe=!1,Q&&e.flags&1048576&&hh(e,ba,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;aa(t,e),t=e.pendingProps;var s=rn(e,we.current);Yr(e,r),s=$l(null,e,n,t,s,r);var i=zl();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ae(n)?(i=!0,va(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Il(e),s.updater=Qa,e.stateNode=s,s._reactInternals=e,So(e,n,t,r),e=To(null,e,n,!0,i,r)):(e.tag=0,Q&&i&&_l(e),je(null,e,s,r),e=e.child),e;case 16:n=e.elementType;e:{switch(aa(t,e),t=e.pendingProps,s=n._init,n=s(n._payload),e.type=n,s=e.tag=Lg(n),t=Ye(n,t),s){case 0:e=Co(null,e,n,t,r);break e;case 1:e=lu(null,e,n,t,r);break e;case 11:e=iu(null,e,n,t,r);break e;case 14:e=ou(null,e,n,Ye(n.type,t),r);break e}throw Error(E(306,n,""))}return e;case 0:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Ye(n,s),Co(t,e,n,s,r);case 1:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Ye(n,s),lu(t,e,n,s,r);case 3:e:{if(Wh(e),t===null)throw Error(E(387));n=e.pendingProps,i=e.memoizedState,s=i.element,yh(t,e),_a(e,n,null,r);var o=e.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=on(Error(E(423)),e),e=cu(t,e,n,r,s);break e}else if(n!==s){s=on(Error(E(424)),e),e=cu(t,e,n,r,s);break e}else for(Re=Bt(e.stateNode.containerInfo.firstChild),$e=e,Q=!0,et=null,r=ph(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(nn(),n===s){e=St(t,e,r);break e}je(t,e,n,r)}e=e.child}return e;case 5:return vh(e),t===null&&jo(e),n=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,yo(n,s)?o=null:i!==null&&yo(n,i)&&(e.flags|=32),Vh(t,e),je(t,e,o,r),e.child;case 6:return t===null&&jo(e),null;case 13:return Hh(t,e,r);case 4:return Al(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=sn(e,null,n,r):je(t,e,n,r),e.child;case 11:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Ye(n,s),iu(t,e,n,s,r);case 7:return je(t,e,e.pendingProps,r),e.child;case 8:return je(t,e,e.pendingProps.children,r),e.child;case 12:return je(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,G(ka,n._currentValue),n._currentValue=o,i!==null)if(st(i.value,o)){if(i.children===s.children&&!Ie.current){e=St(t,e,r);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=kt(-1,r&-r),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),_o(i.return,r,e),l.lanes|=r;break}c=c.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(E(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),_o(o,r,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}je(t,e,s.children,r),e=e.child}return e;case 9:return s=e.type,n=e.pendingProps.children,Yr(e,r),s=Ge(s),n=n(s),e.flags|=1,je(t,e,n,r),e.child;case 14:return n=e.type,s=Ye(n,e.pendingProps),s=Ye(n.type,s),ou(t,e,n,s,r);case 15:return Bh(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Ye(n,s),aa(t,e),e.tag=1,Ae(n)?(t=!0,va(e)):t=!1,Yr(e,r),Dh(e,n,s),So(e,n,s,r),To(null,e,n,!0,t,r);case 19:return Gh(t,e,r);case 22:return qh(t,e,r)}throw Error(E(156,e.tag))};function uf(t,e){return $d(t,e)}function Og(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qe(t,e,r,n){return new Og(t,e,r,n)}function Gl(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Lg(t){if(typeof t=="function")return Gl(t)?1:0;if(t!=null){if(t=t.$$typeof,t===hl)return 11;if(t===fl)return 14}return 2}function Ht(t,e){var r=t.alternate;return r===null?(r=qe(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function la(t,e,r,n,s,i){var o=2;if(n=t,typeof t=="function")Gl(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case $r:return hr(r.children,s,i,e);case dl:o=8,s|=8;break;case Ki:return t=qe(12,r,e,s|2),t.elementType=Ki,t.lanes=i,t;case Qi:return t=qe(13,r,e,s),t.elementType=Qi,t.lanes=i,t;case Yi:return t=qe(19,r,e,s),t.elementType=Yi,t.lanes=i,t;case vd:return Za(r,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case xd:o=10;break e;case yd:o=9;break e;case hl:o=11;break e;case fl:o=14;break e;case It:o=16,n=null;break e}throw Error(E(130,t==null?t:typeof t,""))}return e=qe(o,r,e,s),e.elementType=t,e.type=n,e.lanes=i,e}function hr(t,e,r,n){return t=qe(7,t,n,e),t.lanes=r,t}function Za(t,e,r,n){return t=qe(22,t,n,e),t.elementType=vd,t.lanes=r,t.stateNode={isHidden:!1},t}function Mi(t,e,r){return t=qe(6,t,null,e),t.lanes=r,t}function Di(t,e,r){return e=qe(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Rg(t,e,r,n,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=vi(0),this.expirationTimes=vi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vi(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Jl(t,e,r,n,s,i,o,l,c){return t=new Rg(t,e,r,l,c),e===1?(e=1,i===!0&&(e|=8)):e=0,i=qe(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Il(i),t}function $g(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Rr,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function df(t){if(!t)return Kt;t=t._reactInternals;e:{if(br(t)!==t||t.tag!==1)throw Error(E(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ae(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(E(171))}if(t.tag===1){var r=t.type;if(Ae(r))return uh(t,r,e)}return e}function hf(t,e,r,n,s,i,o,l,c){return t=Jl(r,n,!0,t,s,i,o,l,c),t.context=df(null),r=t.current,n=_e(),s=Wt(r),i=kt(n,s),i.callback=e??null,qt(r,i,s),t.current.lanes=s,vs(t,s,n),Oe(t,n),t}function ei(t,e,r,n){var s=e.current,i=_e(),o=Wt(s);return r=df(r),e.context===null?e.context=r:e.pendingContext=r,e=kt(i,o),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=qt(s,e,o),t!==null&&(rt(t,s,o,i),ra(t,s,o)),o}function Aa(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function vu(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function Kl(t,e){vu(t,e),(t=t.alternate)&&vu(t,e)}function zg(){return null}var ff=typeof reportError=="function"?reportError:function(t){console.error(t)};function Ql(t){this._internalRoot=t}ti.prototype.render=Ql.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(E(409));ei(t,e,null,null)};ti.prototype.unmount=Ql.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;yr(function(){ei(null,t,null,null)}),e[_t]=null}};function ti(t){this._internalRoot=t}ti.prototype.unstable_scheduleHydration=function(t){if(t){var e=qd();t={blockedOn:null,target:t,priority:e};for(var r=0;r<Ot.length&&e!==0&&e<Ot[r].priority;r++);Ot.splice(r,0,t),r===0&&Wd(t)}};function Yl(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function ri(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function wu(){}function Mg(t,e,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var u=Aa(o);i.call(u)}}var o=hf(e,n,t,0,null,!1,!1,"",wu);return t._reactRootContainer=o,t[_t]=o.current,ns(t.nodeType===8?t.parentNode:t),yr(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof n=="function"){var l=n;n=function(){var u=Aa(c);l.call(u)}}var c=Jl(t,0,!1,null,null,!1,!1,"",wu);return t._reactRootContainer=c,t[_t]=c.current,ns(t.nodeType===8?t.parentNode:t),yr(function(){ei(e,c,r,n)}),c}function ni(t,e,r,n,s){var i=r._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var l=s;s=function(){var c=Aa(o);l.call(c)}}ei(e,o,t,s)}else o=Mg(r,e,t,s,n);return Aa(o)}Fd=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=An(e.pendingLanes);r!==0&&(pl(e,r|1),Oe(e,ne()),!(F&6)&&(ln=ne()+500,Xt()))}break;case 13:yr(function(){var n=Nt(t,1);if(n!==null){var s=_e();rt(n,t,1,s)}}),Kl(t,1)}};xl=function(t){if(t.tag===13){var e=Nt(t,134217728);if(e!==null){var r=_e();rt(e,t,134217728,r)}Kl(t,134217728)}};Bd=function(t){if(t.tag===13){var e=Wt(t),r=Nt(t,e);if(r!==null){var n=_e();rt(r,t,e,n)}Kl(t,e)}};qd=function(){return q};Vd=function(t,e){var r=q;try{return q=t,e()}finally{q=r}};oo=function(t,e,r){switch(e){case"input":if(eo(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var s=Ga(n);if(!s)throw Error(E(90));bd(n),eo(n,s)}}}break;case"textarea":jd(t,r);break;case"select":e=r.value,e!=null&&Gr(t,!!r.multiple,e,!1)}};Pd=Vl;Id=yr;var Dg={usingClientEntryPoint:!1,Events:[bs,Ur,Ga,Cd,Td,Vl]},Sn={findFiberByHostInstance:lr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Ug={bundleType:Sn.bundleType,version:Sn.version,rendererPackageName:Sn.rendererPackageName,rendererConfig:Sn.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Et.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Ld(t),t===null?null:t.stateNode},findFiberByHostInstance:Sn.findFiberByHostInstance||zg,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var qs=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!qs.isDisabled&&qs.supportsFiber)try{qa=qs.inject(Ug),ht=qs}catch{}}Me.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Dg;Me.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Yl(e))throw Error(E(200));return $g(t,e,null,r)};Me.createRoot=function(t,e){if(!Yl(t))throw Error(E(299));var r=!1,n="",s=ff;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Jl(t,1,!1,null,null,r,!1,n,s),t[_t]=e.current,ns(t.nodeType===8?t.parentNode:t),new Ql(e)};Me.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(E(188)):(t=Object.keys(t).join(","),Error(E(268,t)));return t=Ld(e),t=t===null?null:t.stateNode,t};Me.flushSync=function(t){return yr(t)};Me.hydrate=function(t,e,r){if(!ri(e))throw Error(E(200));return ni(null,t,e,!0,r)};Me.hydrateRoot=function(t,e,r){if(!Yl(t))throw Error(E(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",o=ff;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),e=hf(e,null,t,1,r??null,s,!1,i,o),t[_t]=e.current,ns(t),n)for(t=0;t<n.length;t++)r=n[t],s=r._getVersion,s=s(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,s]:e.mutableSourceEagerHydrationData.push(r,s);return new ti(e)};Me.render=function(t,e,r){if(!ri(e))throw Error(E(200));return ni(null,t,e,!1,r)};Me.unmountComponentAtNode=function(t){if(!ri(t))throw Error(E(40));return t._reactRootContainer?(yr(function(){ni(null,null,t,!1,function(){t._reactRootContainer=null,t[_t]=null})}),!0):!1};Me.unstable_batchedUpdates=Vl;Me.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!ri(r))throw Error(E(200));if(t==null||t._reactInternals===void 0)throw Error(E(38));return ni(t,e,r,!1,n)};Me.version="18.3.1-next-f1338f8080-20240426";function mf(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(mf)}catch(t){console.error(t)}}mf(),fd.exports=Me;var Fg=fd.exports,gf,bu=Fg;gf=bu.createRoot,bu.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function hs(){return hs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},hs.apply(this,arguments)}var Mt;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Mt||(Mt={}));const ku="popstate";function Bg(t){t===void 0&&(t={});function e(n,s){let{pathname:i,search:o,hash:l}=n.location;return Fo("",{pathname:i,search:o,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:Oa(s)}return Vg(e,r,null,t)}function ie(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function pf(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function qg(){return Math.random().toString(36).substr(2,8)}function ju(t,e){return{usr:t.state,key:t.key,idx:e}}function Fo(t,e,r,n){return r===void 0&&(r=null),hs({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?fn(e):e,{state:r,key:e&&e.key||n||qg()})}function Oa(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function fn(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function Vg(t,e,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:i=!1}=n,o=s.history,l=Mt.Pop,c=null,u=d();u==null&&(u=0,o.replaceState(hs({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function h(){l=Mt.Pop;let v=d(),g=v==null?null:v-u;u=v,c&&c({action:l,location:w.location,delta:g})}function f(v,g){l=Mt.Push;let x=Fo(w.location,v,g);u=d()+1;let m=ju(x,u),j=w.createHref(x);try{o.pushState(m,"",j)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;s.location.assign(j)}i&&c&&c({action:l,location:w.location,delta:1})}function p(v,g){l=Mt.Replace;let x=Fo(w.location,v,g);u=d();let m=ju(x,u),j=w.createHref(x);o.replaceState(m,"",j),i&&c&&c({action:l,location:w.location,delta:0})}function y(v){let g=s.location.origin!=="null"?s.location.origin:s.location.href,x=typeof v=="string"?v:Oa(v);return x=x.replace(/ $/,"%20"),ie(g,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,g)}let w={get action(){return l},get location(){return t(s,o)},listen(v){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(ku,h),c=v,()=>{s.removeEventListener(ku,h),c=null}},createHref(v){return e(s,v)},createURL:y,encodeLocation(v){let g=y(v);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:f,replace:p,go(v){return o.go(v)}};return w}var _u;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(_u||(_u={}));function Wg(t,e,r){return r===void 0&&(r="/"),Hg(t,e,r,!1)}function Hg(t,e,r,n){let s=typeof e=="string"?fn(e):e,i=Xl(s.pathname||"/",r);if(i==null)return null;let o=xf(t);Gg(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=sp(i);l=rp(o[c],u,n)}return l}function xf(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(i,o,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(ie(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=Gt([n,c.relativePath]),d=r.concat(c);i.children&&i.children.length>0&&(ie(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),xf(i.children,e,d,u)),!(i.path==null&&!i.index)&&e.push({path:u,score:ep(u,i.index),routesMeta:d})};return t.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))s(i,o);else for(let c of yf(i.path))s(i,o,c)}),e}function yf(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let o=yf(n.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),s&&l.push(...o),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function Gg(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:tp(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const Jg=/^:[\w-]+$/,Kg=3,Qg=2,Yg=1,Xg=10,Zg=-2,Nu=t=>t==="*";function ep(t,e){let r=t.split("/"),n=r.length;return r.some(Nu)&&(n+=Zg),e&&(n+=Qg),r.filter(s=>!Nu(s)).reduce((s,i)=>s+(Jg.test(i)?Kg:i===""?Yg:Xg),n)}function tp(t,e){return t.length===e.length&&t.slice(0,-1).every((n,s)=>n===e[s])?t[t.length-1]-e[e.length-1]:0}function rp(t,e,r){let{routesMeta:n}=t,s={},i="/",o=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,d=i==="/"?e:e.slice(i.length)||"/",h=Su({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),f=c.route;if(!h&&u&&r&&!n[n.length-1].route.index&&(h=Su({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!h)return null;Object.assign(s,h.params),o.push({params:s,pathname:Gt([i,h.pathname]),pathnameBase:lp(Gt([i,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(i=Gt([i,h.pathnameBase]))}return o}function Su(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=np(t.path,t.caseSensitive,t.end),s=e.match(r);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:n.reduce((u,d,h)=>{let{paramName:f,isOptional:p}=d;if(f==="*"){let w=l[h]||"";o=i.slice(0,i.length-w.length).replace(/(.)\/+$/,"$1")}const y=l[h];return p&&!y?u[f]=void 0:u[f]=(y||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:t}}function np(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),pf(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),n]}function sp(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return pf(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Xl(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function ap(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:s=""}=typeof t=="string"?fn(t):t;return{pathname:r?r.startsWith("/")?r:ip(r,e):e,search:cp(n),hash:up(s)}}function ip(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function Ui(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function op(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function vf(t,e){let r=op(t);return e?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function wf(t,e,r,n){n===void 0&&(n=!1);let s;typeof t=="string"?s=fn(t):(s=hs({},t),ie(!s.pathname||!s.pathname.includes("?"),Ui("?","pathname","search",s)),ie(!s.pathname||!s.pathname.includes("#"),Ui("#","pathname","hash",s)),ie(!s.search||!s.search.includes("#"),Ui("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,l;if(o==null)l=r;else{let h=e.length-1;if(!n&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;s.pathname=f.join("/")}l=h>=0?e[h]:"/"}let c=ap(s,l),u=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const Gt=t=>t.join("/").replace(/\/\/+/g,"/"),lp=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),cp=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,up=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function dp(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const bf=["post","put","patch","delete"];new Set(bf);const hp=["get",...bf];new Set(hp);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function fs(){return fs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},fs.apply(this,arguments)}const Zl=b.createContext(null),fp=b.createContext(null),kr=b.createContext(null),si=b.createContext(null),Zt=b.createContext({outlet:null,matches:[],isDataRoute:!1}),kf=b.createContext(null);function mp(t,e){let{relative:r}=e===void 0?{}:e;js()||ie(!1);let{basename:n,navigator:s}=b.useContext(kr),{hash:i,pathname:o,search:l}=_f(t,{relative:r}),c=o;return n!=="/"&&(c=o==="/"?n:Gt([n,o])),s.createHref({pathname:c,search:l,hash:i})}function js(){return b.useContext(si)!=null}function mn(){return js()||ie(!1),b.useContext(si).location}function jf(t){b.useContext(kr).static||b.useLayoutEffect(t)}function ec(){let{isDataRoute:t}=b.useContext(Zt);return t?Cp():gp()}function gp(){js()||ie(!1);let t=b.useContext(Zl),{basename:e,future:r,navigator:n}=b.useContext(kr),{matches:s}=b.useContext(Zt),{pathname:i}=mn(),o=JSON.stringify(vf(s,r.v7_relativeSplatPath)),l=b.useRef(!1);return jf(()=>{l.current=!0}),b.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){n.go(u);return}let h=wf(u,JSON.parse(o),i,d.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Gt([e,h.pathname])),(d.replace?n.replace:n.push)(h,d.state,d)},[e,n,o,i,t])}function pp(){let{matches:t}=b.useContext(Zt),e=t[t.length-1];return e?e.params:{}}function _f(t,e){let{relative:r}=e===void 0?{}:e,{future:n}=b.useContext(kr),{matches:s}=b.useContext(Zt),{pathname:i}=mn(),o=JSON.stringify(vf(s,n.v7_relativeSplatPath));return b.useMemo(()=>wf(t,JSON.parse(o),i,r==="path"),[t,o,i,r])}function xp(t,e){return yp(t,e)}function yp(t,e,r,n){js()||ie(!1);let{navigator:s}=b.useContext(kr),{matches:i}=b.useContext(Zt),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=mn(),d;if(e){var h;let v=typeof e=="string"?fn(e):e;c==="/"||(h=v.pathname)!=null&&h.startsWith(c)||ie(!1),d=v}else d=u;let f=d.pathname||"/",p=f;if(c!=="/"){let v=c.replace(/^\//,"").split("/");p="/"+f.replace(/^\//,"").split("/").slice(v.length).join("/")}let y=Wg(t,{pathname:p}),w=jp(y&&y.map(v=>Object.assign({},v,{params:Object.assign({},l,v.params),pathname:Gt([c,s.encodeLocation?s.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?c:Gt([c,s.encodeLocation?s.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),i,r,n);return e&&w?b.createElement(si.Provider,{value:{location:fs({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Mt.Pop}},w):w}function vp(){let t=Ep(),e=dp(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},e),r?b.createElement("pre",{style:s},r):null,null)}const wp=b.createElement(vp,null);class bp extends b.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?b.createElement(Zt.Provider,{value:this.props.routeContext},b.createElement(kf.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function kp(t){let{routeContext:e,match:r,children:n}=t,s=b.useContext(Zl);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),b.createElement(Zt.Provider,{value:e},n)}function jp(t,e,r,n){var s;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var i;if(!r)return null;if(r.errors)t=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let o=t,l=(s=r)==null?void 0:s.errors;if(l!=null){let d=o.findIndex(h=>h.route.id&&(l==null?void 0:l[h.route.id])!==void 0);d>=0||ie(!1),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<o.length;d++){let h=o[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:f,errors:p}=r,y=h.route.loader&&f[h.route.id]===void 0&&(!p||p[h.route.id]===void 0);if(h.route.lazy||y){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,h,f)=>{let p,y=!1,w=null,v=null;r&&(p=l&&h.route.id?l[h.route.id]:void 0,w=h.route.errorElement||wp,c&&(u<0&&f===0?(y=!0,v=null):u===f&&(y=!0,v=h.route.hydrateFallbackElement||null)));let g=e.concat(o.slice(0,f+1)),x=()=>{let m;return p?m=w:y?m=v:h.route.Component?m=b.createElement(h.route.Component,null):h.route.element?m=h.route.element:m=d,b.createElement(kp,{match:h,routeContext:{outlet:d,matches:g,isDataRoute:r!=null},children:m})};return r&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?b.createElement(bp,{location:r.location,revalidation:r.revalidation,component:w,error:p,children:x(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):x()},null)}var Nf=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(Nf||{}),La=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(La||{});function _p(t){let e=b.useContext(Zl);return e||ie(!1),e}function Np(t){let e=b.useContext(fp);return e||ie(!1),e}function Sp(t){let e=b.useContext(Zt);return e||ie(!1),e}function Sf(t){let e=Sp(),r=e.matches[e.matches.length-1];return r.route.id||ie(!1),r.route.id}function Ep(){var t;let e=b.useContext(kf),r=Np(La.UseRouteError),n=Sf(La.UseRouteError);return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function Cp(){let{router:t}=_p(Nf.UseNavigateStable),e=Sf(La.UseNavigateStable),r=b.useRef(!1);return jf(()=>{r.current=!0}),b.useCallback(function(s,i){i===void 0&&(i={}),r.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,fs({fromRouteId:e},i)))},[t,e])}function Tp(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function lt(t){ie(!1)}function Pp(t){let{basename:e="/",children:r=null,location:n,navigationType:s=Mt.Pop,navigator:i,static:o=!1,future:l}=t;js()&&ie(!1);let c=e.replace(/^\/*/,"/"),u=b.useMemo(()=>({basename:c,navigator:i,static:o,future:fs({v7_relativeSplatPath:!1},l)}),[c,l,i,o]);typeof n=="string"&&(n=fn(n));let{pathname:d="/",search:h="",hash:f="",state:p=null,key:y="default"}=n,w=b.useMemo(()=>{let v=Xl(d,c);return v==null?null:{location:{pathname:v,search:h,hash:f,state:p,key:y},navigationType:s}},[c,d,h,f,p,y,s]);return w==null?null:b.createElement(kr.Provider,{value:u},b.createElement(si.Provider,{children:r,value:w}))}function Ip(t){let{children:e,location:r}=t;return xp(Bo(e),r)}new Promise(()=>{});function Bo(t,e){e===void 0&&(e=[]);let r=[];return b.Children.forEach(t,(n,s)=>{if(!b.isValidElement(n))return;let i=[...e,s];if(n.type===b.Fragment){r.push.apply(r,Bo(n.props.children,i));return}n.type!==lt&&ie(!1),!n.props.index||!n.props.children||ie(!1);let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=Bo(n.props.children,i)),r.push(o)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function qo(){return qo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},qo.apply(this,arguments)}function Ap(t,e){if(t==null)return{};var r={},n=Object.keys(t),s,i;for(i=0;i<n.length;i++)s=n[i],!(e.indexOf(s)>=0)&&(r[s]=t[s]);return r}function Op(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Lp(t,e){return t.button===0&&(!e||e==="_self")&&!Op(t)}function Vo(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,r)=>{let n=t[r];return e.concat(Array.isArray(n)?n.map(s=>[r,s]):[[r,n]])},[]))}function Rp(t,e){let r=Vo(t);return e&&e.forEach((n,s)=>{r.has(s)||e.getAll(s).forEach(i=>{r.append(s,i)})}),r}const $p=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],zp="6";try{window.__reactRouterVersion=zp}catch{}const Mp="startTransition",Eu=P0[Mp];function Dp(t){let{basename:e,children:r,future:n,window:s}=t,i=b.useRef();i.current==null&&(i.current=Bg({window:s,v5Compat:!0}));let o=i.current,[l,c]=b.useState({action:o.action,location:o.location}),{v7_startTransition:u}=n||{},d=b.useCallback(h=>{u&&Eu?Eu(()=>c(h)):c(h)},[c,u]);return b.useLayoutEffect(()=>o.listen(d),[o,d]),b.useEffect(()=>Tp(n),[n]),b.createElement(Pp,{basename:e,children:r,location:l.location,navigationType:l.action,navigator:o,future:n})}const Up=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Fp=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,nt=b.forwardRef(function(e,r){let{onClick:n,relative:s,reloadDocument:i,replace:o,state:l,target:c,to:u,preventScrollReset:d,viewTransition:h}=e,f=Ap(e,$p),{basename:p}=b.useContext(kr),y,w=!1;if(typeof u=="string"&&Fp.test(u)&&(y=u,Up))try{let m=new URL(window.location.href),j=u.startsWith("//")?new URL(m.protocol+u):new URL(u),k=Xl(j.pathname,p);j.origin===m.origin&&k!=null?u=k+j.search+j.hash:w=!0}catch{}let v=mp(u,{relative:s}),g=Bp(u,{replace:o,state:l,target:c,preventScrollReset:d,relative:s,viewTransition:h});function x(m){n&&n(m),m.defaultPrevented||g(m)}return b.createElement("a",qo({},f,{href:y||v,onClick:w||i?n:x,ref:r,target:c}))});var Cu;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Cu||(Cu={}));var Tu;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Tu||(Tu={}));function Bp(t,e){let{target:r,replace:n,state:s,preventScrollReset:i,relative:o,viewTransition:l}=e===void 0?{}:e,c=ec(),u=mn(),d=_f(t,{relative:o});return b.useCallback(h=>{if(Lp(h,r)){h.preventDefault();let f=n!==void 0?n:Oa(u)===Oa(d);c(t,{replace:f,state:s,preventScrollReset:i,relative:o,viewTransition:l})}},[u,c,d,n,s,r,t,i,o,l])}function qp(t){let e=b.useRef(Vo(t)),r=b.useRef(!1),n=mn(),s=b.useMemo(()=>Rp(n.search,r.current?null:e.current),[n.search]),i=ec(),o=b.useCallback((l,c)=>{const u=Vo(typeof l=="function"?l(s):l);r.current=!0,i("?"+u,c)},[i,s]);return[s,o]}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Vp={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wp=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),C=(t,e)=>{const r=b.forwardRef(({color:n="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:l="",children:c,...u},d)=>b.createElement("svg",{ref:d,...Vp,width:s,height:s,stroke:n,strokeWidth:o?Number(i)*24/Number(s):i,className:["lucide",`lucide-${Wp(t)}`,l].join(" "),...u},[...e.map(([h,f])=>b.createElement(h,f)),...Array.isArray(c)?c:[c]]));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tc=C("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rc=C("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ms=C("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ef=C("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hp=C("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gp=C("Bug",[["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M9 7.13v-1a3.003 3.003 0 1 1 6 0v1",key:"d7y7pr"}],["path",{d:"M12 20c-3.3 0-6-2.7-6-6v-3a4 4 0 0 1 4-4h4a4 4 0 0 1 4 4v3c0 3.3-2.7 6-6 6",key:"xs1cw7"}],["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M6.53 9C4.6 8.8 3 7.1 3 5",key:"32zzws"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"M3 21c0-2.1 1.7-3.9 3.8-4",key:"4p0ekp"}],["path",{d:"M20.97 5c0 2.1-1.6 3.8-3.5 4",key:"18gb23"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M17.2 17c2.1.1 3.8 1.9 3.8 4",key:"k3fwyw"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jp=C("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ra=C("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ve=C("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kp=C("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qp=C("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yp=C("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xp=C("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gs=C("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zp=C("Cookie",[["path",{d:"M12 2a10 10 0 1 0 10 10 4 4 0 0 1-5-5 4 4 0 0 1-5-5",key:"laymnq"}],["path",{d:"M8.5 8.5v.01",key:"ue8clq"}],["path",{d:"M16 15.5v.01",key:"14dtrp"}],["path",{d:"M12 12v.01",key:"u5ubse"}],["path",{d:"M11 17v.01",key:"1hyl5a"}],["path",{d:"M7 14v.01",key:"uct60s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ex=C("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tx=C("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rx=C("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vn=C("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ai=C("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wo=C("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vr=C("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cf=C("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wn=C("Folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nx=C("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sx=C("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ax=C("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vs=C("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tf=C("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ix=C("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ox=C("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lx=C("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cx=C("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ux=C("Magnet",[["path",{d:"m6 15-4-4 6.75-6.77a7.79 7.79 0 0 1 11 11L13 22l-4-4 6.39-6.36a2.14 2.14 0 0 0-3-3L6 15",key:"1i3lhw"}],["path",{d:"m5 8 4 4",key:"j6kj7e"}],["path",{d:"m12 15 4 4",key:"lnac28"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ps=C("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pf=C("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dx=C("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $a=C("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const If=C("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hx=C("Music",[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fx=C("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mx=C("PartyPopper",[["path",{d:"M5.8 11.3 2 22l10.7-3.79",key:"gwxi1d"}],["path",{d:"M4 3h.01",key:"1vcuye"}],["path",{d:"M22 8h.01",key:"1mrtc2"}],["path",{d:"M15 2h.01",key:"1cjtqr"}],["path",{d:"M22 20h.01",key:"1mrys2"}],["path",{d:"m22 2-2.24.75a2.9 2.9 0 0 0-1.96 3.12v0c.1.86-.57 1.63-1.45 1.63h-.38c-.86 0-1.6.6-1.76 1.44L14 10",key:"bpx1uq"}],["path",{d:"m22 13-.82-.33c-.86-.34-1.82.2-1.98 1.11v0c-.11.7-.72 1.22-1.43 1.22H17",key:"1pd0s7"}],["path",{d:"m11 2 .33.82c.34.86-.2 1.82-1.11 1.98v0C9.52 4.9 9 5.52 9 6.23V7",key:"zq5xbz"}],["path",{d:"M11 13c1.93 1.93 2.83 4.17 2 5-.83.83-3.07-.07-5-2-1.93-1.93-2.83-4.17-2-5 .83-.83 3.07.07 5 2Z",key:"4kbmks"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ho=C("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ii=C("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gx=C("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pu=C("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fr=C("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Af=C("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zr=C("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const px=C("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const za=C("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xx=C("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yx=C("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ma=C("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vx=C("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iu=C("StarOff",[["path",{d:"M8.34 8.34 2 9.27l5 4.87L5.82 21 12 17.77 18.18 21l-.59-3.43",key:"16m0ql"}],["path",{d:"M18.42 12.76 22 9.27l-6.91-1L12 2l-1.44 2.91",key:"1vt8nq"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const en=C("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wx=C("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Of=C("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Da=C("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bx=C("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kx=C("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Au=C("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jx=C("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lf=C("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rf=C("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const at=C("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _x=C("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),re=({children:t,className:e=""})=>a.jsx("div",{className:`max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 ${e}`,children:t}),Nx=()=>{const[t,e]=b.useState(()=>{if(typeof window<"u"){const n=localStorage.getItem("theme");return n==="dark"||!n&&window.matchMedia("(prefers-color-scheme: dark)").matches}return!1});return b.useEffect(()=>{const n=window.document.documentElement;t?n.classList.add("dark"):n.classList.remove("dark"),localStorage.setItem("theme",t?"dark":"light")},[t]),{isDark:t,toggleTheme:()=>e(!t)}},Ou=()=>{const{isDark:t,toggleTheme:e}=Nx();return a.jsx("button",{onClick:e,className:"p-2 rounded-full bg-gray-200 dark:bg-gray-800 text-gray-800 dark:text-gray-200 hover:bg-gray-300 dark:hover:bg-gray-700 transition-colors duration-200","aria-label":"Toggle theme",children:t?a.jsx(wx,{size:20}):a.jsx(If,{size:20})})},A=({children:t,variant:e="primary",size:r="md",icon:n,loading:s=!1,className:i="",disabled:o,...l})=>{const c="inline-flex items-center justify-center gap-2 rounded-full font-medium transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed",u={primary:"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white shadow-lg hover:shadow-xl transform hover:scale-105 focus:ring-blue-500",secondary:"bg-gradient-to-r from-gray-200 to-gray-300 hover:from-gray-300 hover:to-gray-400 text-gray-800 dark:from-gray-700 dark:to-gray-600 dark:hover:from-gray-600 dark:hover:to-gray-500 dark:text-white focus:ring-gray-500",outline:"border-2 border-blue-600 text-blue-600 hover:bg-blue-600 hover:text-white dark:border-blue-400 dark:text-blue-400 dark:hover:bg-blue-400 dark:hover:text-black focus:ring-blue-500",ghost:"hover:bg-gray-100 text-gray-700 dark:hover:bg-gray-800 dark:text-gray-300 focus:ring-gray-500"},d={sm:"px-3 py-1.5 text-sm",md:"px-6 py-3 text-base",lg:"px-8 py-4 text-lg"};return a.jsxs("button",{className:`${c} ${u[e]} ${d[r]} ${i}`,disabled:o||s,...l,children:[s&&a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-current border-t-transparent"}),n&&!s&&a.jsx(n,{size:r==="sm"?16:r==="lg"?24:20}),t]})},$f=({onAuthenticated:t,onClose:e})=>{const[r,n]=b.useState(""),[s,i]=b.useState(!1),[o,l]=b.useState(""),[c,u]=b.useState(!1),d=async h=>{h.preventDefault(),u(!0),l(""),r==="Jordanvanves"?(sessionStorage.setItem("admin_authenticated","true"),t()):l("Mot de passe incorrect"),u(!1)};return a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm animate-fade-in",children:a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-2xl p-8 w-full max-w-md mx-4 animate-slide-up border border-gray-200 dark:border-gray-700 relative",children:[e&&a.jsx("button",{"aria-label":"Fermer",className:"absolute right-3 top-3 p-2 rounded-lg text-gray-500 hover:bg-gray-100 dark:text-gray-300 dark:hover:bg-gray-700 transition-colors",onClick:e,children:a.jsx(at,{className:"w-4 h-4"})}),a.jsxs("div",{className:"text-center mb-6",children:[a.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full flex items-center justify-center mx-auto mb-4 shadow-lg",children:a.jsx(lx,{className:"w-8 h-8 text-white"})}),a.jsx("h2",{className:"text-2xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent mb-2",children:"Accès Administration"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Entrez le code d'accès administrateur"})]}),a.jsxs("form",{onSubmit:d,className:"space-y-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:s?"text":"password",value:r,onChange:h=>n(h.target.value),className:"w-full px-4 py-3 pr-12 border border-gray-300 dark:border-gray-600 rounded-xl bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 hover:border-blue-400",placeholder:"Code d'accès",required:!0}),a.jsx("button",{type:"button",onClick:()=>i(!s),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors duration-200",children:s?a.jsx(Wo,{size:20}):a.jsx(vr,{size:20})})]}),o&&a.jsx("p",{className:"text-red-600 dark:text-red-400 text-sm",children:o}),a.jsx(A,{type:"submit",loading:c,className:"w-full",size:"lg",children:"Se connecter"})]})]})})},Sx=()=>{const[t,e]=b.useState(!1),[r,n]=b.useState(!1),[s,i]=b.useState(!1),o=ec(),l=mn();b.useEffect(()=>{sessionStorage.getItem("admin_authenticated")&&i(!0)},[]);const c=[{name:"Accueil",href:"#hero",isPage:!1},{name:"Nos affiches",href:"#gallery",isGradient:!0,isPage:!1},{name:"Comment ça marche",href:"#how-it-works",isPage:!1},{name:"FAQ",href:"/faq",isPage:!0},{name:"Actualités",href:"/news",isPage:!0},{name:"Contact",href:"#contact",isPage:!1}],u=f=>{if(f.isPage)o(f.href);else if(l.pathname!=="/")o("/",{replace:!0}),setTimeout(()=>{const p=document.querySelector(f.href);p&&p.scrollIntoView({behavior:"smooth",block:"start"})},100);else{const p=document.querySelector(f.href);p&&p.scrollIntoView({behavior:"smooth",block:"start"})}e(!1)},d=()=>{s?o("/admin"):n(!0),e(!1)},h=()=>{i(!0),n(!1),o("/admin")};return b.useEffect(()=>(t?document.body.classList.add("menu-open"):document.body.classList.remove("menu-open"),()=>{document.body.classList.remove("menu-open")}),[t]),a.jsxs(a.Fragment,{children:[a.jsx("header",{className:"sticky top-0 z-50 bg-white/80 dark:bg-gray-900/80 backdrop-blur-md border-b border-gray-200 dark:border-gray-700 transition-colors duration-200",children:a.jsx(re,{children:a.jsxs("div",{className:"flex items-center justify-between h-16",children:[a.jsxs(nt,{to:"/",className:"flex items-center gap-3",children:[a.jsx("img",{src:"https://ydlyokoawuivemrqphos.supabase.co/storage/v1/object/public/Logo%20du%20site/Yad-La-Shlouhim-Affiches-communautaire-juive-paris-logo-rond.png",alt:"Yad La'Shlouhim Logo",className:"w-10 h-10 object-contain"}),a.jsx("img",{src:"https://ydlyokoawuivemrqphos.supabase.co/storage/v1/object/public/Logo%20du%20site/Yad-La-Shlouhim-Affiches-communautaire-juive-paris-logo-blanc.png",alt:"Yad La'Shlouhim",className:"h-10 object-contain dark:block hidden"}),a.jsx("img",{src:"https://ydlyokoawuivemrqphos.supabase.co/storage/v1/object/public/Logo%20du%20site/Yad-La-Shlouhim-Affiches-communautaire-juive-paris-logo.png",alt:"Yad La'Shlouhim",className:"h-10 object-contain block dark:hidden"})]}),a.jsx("nav",{className:"hidden md:flex items-center gap-8",children:c.map(f=>a.jsx("button",{onClick:()=>u(f),className:`text-sm font-medium transition-all duration-300 hover:scale-105 ${f.isGradient?"bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent hover:from-blue-700 hover:to-purple-700":"text-gray-700 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400"}`,children:f.name},f.name))}),a.jsxs("div",{className:"hidden md:flex items-center gap-4",children:[a.jsx(Ou,{}),a.jsxs("button",{onClick:d,className:"flex items-center gap-2 px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors duration-200",children:[a.jsx(za,{className:"w-4 h-4"}),"Admin"]})]}),a.jsxs("div",{className:"flex items-center gap-4 md:hidden",children:[a.jsx(Ou,{}),a.jsx("button",{onClick:()=>e(!t),className:"p-2 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors duration-200","aria-label":"Toggle menu",children:t?a.jsx(at,{size:24}):a.jsx(dx,{size:24})})]})]})})}),a.jsxs("div",{className:`fixed inset-0 z-50 md:hidden transition-all duration-300 ${t?"opacity-100 visible":"opacity-0 invisible"}`,children:[a.jsx("div",{className:`fixed inset-0 bg-black/40 backdrop-blur-md transition-opacity duration-300 ${t?"opacity-100":"opacity-0"}`,onClick:()=>e(!1)}),a.jsxs("div",{className:`fixed right-0 top-0 h-full w-80 bg-white/95 dark:bg-gray-900/95 backdrop-blur-xl shadow-2xl border-l border-gray-200/50 dark:border-gray-700/50 transform transition-transform duration-300 ease-out ${t?"translate-x-0":"translate-x-full"}`,children:[a.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200/50 dark:border-gray-700/50",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("img",{src:"https://ydlyokoawuivemrqphos.supabase.co/storage/v1/object/public/Logo%20du%20site/Yad-La-Shlouhim-Affiches-communautaire-juive-paris-logo-rond.png",alt:"Logo",className:"w-8 h-8 object-contain"}),a.jsx("span",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Menu"})]}),a.jsx("button",{onClick:()=>e(!1),className:"p-2 rounded-full bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700 transition-all duration-200 hover:scale-105",children:a.jsx(at,{size:20})})]}),a.jsxs("nav",{className:"p-6",children:[a.jsx("div",{className:"space-y-2",children:c.map((f,p)=>a.jsx("button",{onClick:()=>u(f),className:`group block w-full text-left px-4 py-4 rounded-xl text-base font-medium transition-all duration-200 transform hover:scale-[0.98] active:scale-95 ${f.isGradient?"bg-gradient-to-r from-blue-600 to-purple-600 text-white shadow-lg shadow-blue-500/25 hover:shadow-xl hover:shadow-blue-500/30":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800/50 hover:text-gray-900 dark:hover:text-white"}`,style:{animationDelay:`${p*50}ms`},children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{children:f.name}),a.jsx("div",{className:`w-2 h-2 rounded-full transition-all duration-200 ${f.isGradient?"bg-white/50 group-hover:bg-white/80":"bg-gray-300 dark:bg-gray-600 group-hover:bg-blue-500 dark:group-hover:bg-blue-400"}`})]})},f.name))}),a.jsx("div",{className:"pt-6 mt-6 border-t border-gray-200/50 dark:border-gray-700/50",children:a.jsxs("button",{onClick:d,className:"w-full flex items-center gap-3 px-4 py-4 bg-gradient-to-r from-gray-600 to-gray-700 dark:from-gray-700 dark:to-gray-800 text-white rounded-xl shadow-lg shadow-gray-500/25 hover:shadow-xl hover:shadow-gray-500/30 transition-all duration-200 transform hover:scale-[0.98] active:scale-95",style:{animationDelay:`${c.length*50+100}ms`},children:[a.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[a.jsx("div",{className:"p-2 bg-white/10 rounded-lg",children:a.jsx(za,{className:"w-4 h-4"})}),a.jsx("span",{className:"font-medium",children:"Administration"})]}),a.jsx("div",{className:"w-2 h-2 rounded-full bg-white/50"})]})})]}),a.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-6 bg-gray-50/50 dark:bg-gray-800/50 border-t border-gray-200/50 dark:border-gray-700/50",children:a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"© 2025 Yad La'Shlouhim"}),a.jsx("p",{className:"text-xs text-gray-400 dark:text-gray-500 mt-1",children:"Communication simplifiée"})]})})]})]}),r&&a.jsx($f,{onAuthenticated:h,onClose:()=>n(!1)})]})},Ex=()=>a.jsx("footer",{className:"bg-gradient-to-r from-gray-100 via-gray-200 to-gray-300 dark:from-blue-900 dark:to-purple-900 text-gray-800 dark:text-white transition-colors duration-200",children:a.jsx(re,{children:a.jsxs("div",{className:"py-16",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-12",children:[a.jsxs("div",{className:"md:col-span-1",children:[a.jsxs("div",{className:"mb-6",children:[a.jsxs("div",{className:"mb-4",children:[a.jsx("img",{src:"https://ydlyokoawuivemrqphos.supabase.co/storage/v1/object/public/Logo%20du%20site/Yad-La-Shlouhim-Affiches-communautaire-juive-paris-logo-blanc.png",alt:"Yad la'Shlouhim",className:"h-16 w-auto dark:block hidden"}),a.jsx("img",{src:"https://ydlyokoawuivemrqphos.supabase.co/storage/v1/object/public/Logo%20du%20site/Yad-La-Shlouhim-Affiches-communautaire-juive-paris-logo.png",alt:"Yad la'Shlouhim",className:"h-16 w-auto block dark:hidden"})]}),a.jsx("p",{className:"text-gray-600 dark:text-gray-300 leading-relaxed",children:"Créateur d'affiches premium pour la communauté juive. Nous transformons vos événements en moments mémorables."})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(ps,{className:"w-5 h-5 text-blue-600 dark:text-blue-300"}),a.jsx("span",{className:"text-gray-600 dark:text-gray-300",children:"Yad-lashlouhim770@gmail.com"})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(ii,{className:"w-5 h-5 text-blue-600 dark:text-blue-300"}),a.jsx("span",{className:"text-gray-600 dark:text-gray-300",children:"+33 6 67 28 88 51"})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Pf,{className:"w-5 h-5 text-blue-600 dark:text-blue-300"}),a.jsx("span",{className:"text-gray-600 dark:text-gray-300",children:"France"})]})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-semibold text-gray-800 dark:text-white mb-6",children:"Navigation"}),a.jsxs("ul",{className:"space-y-3",children:[a.jsx("li",{children:a.jsx("a",{href:"/",className:"text-gray-600 dark:text-gray-300 hover:text-gray-800 dark:hover:text-white transition-colors duration-200",children:"Accueil"})}),a.jsx("li",{children:a.jsx("a",{href:"/nos-affiches",className:"text-gray-600 dark:text-gray-300 hover:text-gray-800 dark:hover:text-white transition-colors duration-200",children:"Galerie"})}),a.jsx("li",{children:a.jsx("a",{href:"/contact",className:"text-gray-600 dark:text-gray-300 hover:text-gray-800 dark:hover:text-white transition-colors duration-200",children:"Contact"})}),a.jsx("li",{children:a.jsx("a",{href:"/devis",className:"text-gray-600 dark:text-gray-300 hover:text-gray-800 dark:hover:text-white transition-colors duration-200",children:"Devis Gratuit"})})]})]})]}),a.jsx("div",{className:"border-t border-gray-400 dark:border-blue-800 mt-12 pt-8",children:a.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4",children:[a.jsxs("p",{className:"text-gray-600 dark:text-gray-300 text-sm",children:["© 2025 Yad La'Shlouhim. Tous droits réservés. Site web réalisé par ",a.jsx("a",{href:"https://webfityou.com/",target:"_blank",rel:"noopener noreferrer",className:"font-bold underline",children:"WebFitYou"}),"."]}),a.jsxs("div",{className:"flex items-center gap-6 text-sm",children:[a.jsx("a",{href:"#",className:"text-gray-600 dark:text-gray-300 hover:text-gray-800 dark:hover:text-white transition-colors duration-200",children:"CGV"}),a.jsx("a",{href:"#",className:"text-gray-600 dark:text-gray-300 hover:text-gray-800 dark:hover:text-white transition-colors duration-200",children:"Confidentialité"})]})]})})]})})}),Cx=()=>{const[t,e]=b.useState(!1),[r,n]=b.useState(!1),[s,i]=b.useState({necessary:!0,analytics:!1,marketing:!1});b.useEffect(()=>{localStorage.getItem("cookie-consent")||e(!0)},[]);const o=()=>{const d={necessary:!0,analytics:!0,marketing:!0,timestamp:new Date().toISOString()};localStorage.setItem("cookie-consent",JSON.stringify(d)),e(!1)},l=()=>{const d={...s,timestamp:new Date().toISOString()};localStorage.setItem("cookie-consent",JSON.stringify(d)),e(!1)},c=()=>{const d={necessary:!0,analytics:!1,marketing:!1,timestamp:new Date().toISOString()};localStorage.setItem("cookie-consent",JSON.stringify(d)),e(!1)},u=d=>{d!=="necessary"&&i(h=>({...h,[d]:!h[d]}))};return t?a.jsx("div",{className:"fixed bottom-0 left-0 right-0 z-50 animate-fade-in",children:a.jsx("div",{className:"bg-white dark:bg-gray-900 border-t border-gray-200 dark:border-gray-700 shadow-2xl",children:a.jsx("div",{className:"max-w-7xl mx-auto p-6",children:r?a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-blue-600 to-purple-600 rounded-full flex items-center justify-center",children:a.jsx(za,{className:"w-5 h-5 text-white"})}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Paramètres des cookies"})]}),a.jsx("button",{onClick:()=>n(!1),className:"p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors duration-200",children:a.jsx(at,{className:"w-5 h-5"})})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 rounded-xl p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(yx,{className:"w-5 h-5 text-green-600 dark:text-green-400"}),a.jsx("h4",{className:"font-medium text-gray-900 dark:text-white text-sm",children:"Nécessaires"})]}),a.jsx("div",{className:"w-10 h-6 bg-green-500 rounded-full flex items-center justify-end p-1",children:a.jsx("div",{className:"w-4 h-4 bg-white rounded-full"})})]}),a.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Ces cookies sont essentiels au fonctionnement du site et ne peuvent pas être désactivés."})]}),a.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 rounded-xl p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-5 h-5 bg-blue-100 dark:bg-blue-900/20 rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-xs",children:"📊"})}),a.jsx("h4",{className:"font-medium text-gray-900 dark:text-white text-sm",children:"Analytiques"})]}),a.jsx("button",{onClick:()=>u("analytics"),className:`w-10 h-6 rounded-full flex items-center p-1 transition-colors duration-200 ${s.analytics?"bg-blue-500 justify-end":"bg-gray-300 dark:bg-gray-600 justify-start"}`,children:a.jsx("div",{className:"w-4 h-4 bg-white rounded-full"})})]}),a.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Nous aident à comprendre comment les visiteurs utilisent notre site."})]}),a.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 rounded-xl p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-5 h-5 bg-purple-100 dark:bg-purple-900/20 rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-xs",children:"🎯"})}),a.jsx("h4",{className:"font-medium text-gray-900 dark:text-white text-sm",children:"Marketing"})]}),a.jsx("button",{onClick:()=>u("marketing"),className:`w-10 h-6 rounded-full flex items-center p-1 transition-colors duration-200 ${s.marketing?"bg-purple-500 justify-end":"bg-gray-300 dark:bg-gray-600 justify-start"}`,children:a.jsx("div",{className:"w-4 h-4 bg-white rounded-full"})})]}),a.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Utilisés pour personnaliser les publicités et mesurer leur efficacité."})]})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-end",children:[a.jsx(A,{onClick:l,size:"sm",className:"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white border-0",children:"Enregistrer mes préférences"}),a.jsx(A,{onClick:o,variant:"outline",size:"sm",className:"border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700",children:"Accepter tout"})]})]}):a.jsxs("div",{className:"flex flex-col lg:flex-row items-start lg:items-center gap-6",children:[a.jsxs("div",{className:"flex items-start gap-4 flex-1",children:[a.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-blue-600 to-purple-600 rounded-full flex items-center justify-center flex-shrink-0",children:a.jsx(Zp,{className:"w-6 h-6 text-white"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"🍪 Nous utilisons des cookies"}),a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 leading-relaxed",children:"Nous utilisons des cookies pour améliorer votre expérience de navigation, analyser le trafic du site et personnaliser le contenu. En continuant à utiliser notre site, vous acceptez notre utilisation des cookies."}),a.jsx("button",{onClick:()=>n(!0),className:"mt-2 text-sm text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300 underline",children:"Personnaliser les paramètres"})]})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 w-full lg:w-auto",children:[a.jsx(A,{onClick:o,size:"sm",className:"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white border-0",children:"Accepter tout"}),a.jsx(A,{onClick:c,variant:"outline",size:"sm",className:"border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700",children:"Refuser les optionnels"})]})]})})})}):null},Tx=()=>{const[t,e]=b.useState(!1),r="+33667288851",n=`Bonjour Yad La'Shlouhim ! 👋

J'ai découvert vos magnifiques affiches sur votre site et j'aimerais en savoir plus.

Pourriez-vous m'aider à choisir le modèle parfait pour mon événement ?

Merci ! 😊`,s=()=>{const o=encodeURIComponent(n),l=`https://wa.me/${r.replace(/\s+/g,"")}?text=${o}`;window.open(l,"_blank"),e(!1)},i=()=>{const o=`tel:${r}`;window.location.href=o,e(!1)};return a.jsxs(a.Fragment,{children:[t&&a.jsx("div",{className:"fixed inset-0 bg-black/20 z-40 md:hidden",onClick:()=>e(!1)}),a.jsxs("div",{className:"fixed bottom-6 right-6 z-50",children:[t&&a.jsxs("div",{className:"absolute bottom-16 right-0 bg-white dark:bg-gray-800 rounded-2xl shadow-2xl border border-gray-200 dark:border-gray-700 p-4 min-w-[280px] animate-slide-up",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:"Contacter Yad La'Shlouhim"}),a.jsx("button",{onClick:()=>e(!1),className:"p-1 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:a.jsx(at,{className:"w-4 h-4"})})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("button",{onClick:s,className:"w-full flex items-center gap-3 p-3 bg-green-500 hover:bg-green-600 text-white rounded-xl transition-colors duration-200",children:[a.jsx("div",{className:"w-10 h-10 bg-white/20 rounded-full flex items-center justify-center",children:a.jsx($a,{className:"w-5 h-5"})}),a.jsxs("div",{className:"text-left",children:[a.jsx("p",{className:"font-medium",children:"Envoyer un message"}),a.jsx("p",{className:"text-sm opacity-90",children:"WhatsApp"})]})]}),a.jsxs("button",{onClick:i,className:"w-full flex items-center gap-3 p-3 bg-blue-500 hover:bg-blue-600 text-white rounded-xl transition-colors duration-200",children:[a.jsx("div",{className:"w-10 h-10 bg-white/20 rounded-full flex items-center justify-center",children:a.jsx(ii,{className:"w-5 h-5"})}),a.jsxs("div",{className:"text-left",children:[a.jsx("p",{className:"font-medium",children:"Appeler directement"}),a.jsx("p",{className:"text-sm opacity-90",children:"+33 6 67 28 88 51"})]})]})]})]}),a.jsx("button",{onClick:()=>e(!t),className:`w-14 h-14 bg-green-500 hover:bg-green-600 text-white rounded-full shadow-2xl flex items-center justify-center transition-all duration-300 ${t?"rotate-45 scale-110":"hover:scale-110 animate-float"}`,"aria-label":"Contact WhatsApp",children:t?a.jsx(at,{className:"w-6 h-6"}):a.jsx($a,{className:"w-6 h-6"})}),!t&&a.jsx("div",{className:"absolute inset-0 w-14 h-14 bg-green-400 rounded-full animate-ping opacity-20"}),a.jsx("div",{className:"absolute inset-0 w-14 h-14 rounded-full z-10 cursor-pointer",onClick:()=>e(!t),"aria-label":"Contact WhatsApp"})]})]})},Px=({children:t})=>a.jsxs("div",{className:"min-h-screen bg-white dark:bg-gray-900 transition-colors duration-200",children:[a.jsx(Sx,{}),a.jsx("main",{className:"flex-1",children:t}),a.jsx(Ex,{}),a.jsx(Cx,{}),a.jsx(Tx,{})]}),Ix=({posters:t,categories:e,onSearch:r,placeholder:n="Rechercher une affiche, catégorie..."})=>{const[s,i]=b.useState(""),[o,l]=b.useState(!1),[c,u]=b.useState([]),[d,h]=b.useState([]),[f,p]=b.useState([]),y=b.useRef(null),w=b.useRef(null);b.useEffect(()=>{const _=localStorage.getItem("yls-recent-searches");_&&p(JSON.parse(_))},[]);const v=_=>{if(_.trim().length<2)return;const I=[_,...f.filter(O=>O!==_)].slice(0,5);p(I),localStorage.setItem("yls-recent-searches",JSON.stringify(I))},g=_=>{if(!_.trim())return[];const I=_.toLowerCase().trim(),O=[];return t.forEach(V=>{var oe;const W=e.find(it=>it.id===V.category_id);if(V.title.toLowerCase().includes(I)){O.push({poster:V,matchType:"title",matchText:V.title});return}if(W!=null&&W.name.toLowerCase().includes(I)){O.push({poster:V,matchType:"category",matchText:W.name});return}(oe=V.description)!=null&&oe.toLowerCase().includes(I)&&O.push({poster:V,matchType:"description",matchText:V.description.substring(0,100)+"..."})}),O},x=_=>{const I=[];if(!_.trim())return f.length>0&&f.slice(0,3).forEach(oe=>{I.push({text:oe,type:"recent"})}),e.slice(0,4).forEach(oe=>{const it=t.filter(tr=>tr.category_id===oe.id).length;I.push({text:oe.name,type:"category",count:it})}),I;const O=_.toLowerCase();return e.forEach(W=>{if(W.name.toLowerCase().includes(O)){const oe=t.filter(it=>it.category_id===W.id).length;I.push({text:W.name,type:"category",count:oe})}}),t.filter(W=>W.title.toLowerCase().includes(O)).slice(0,3).forEach(W=>{I.push({text:W.title,type:"trending"})}),I.slice(0,6)};b.useEffect(()=>{const _=g(s);h(_),u(x(s));const I=setTimeout(()=>{r(_.map(O=>O.poster),s)},300);return()=>clearTimeout(I)},[s,t,e]),b.useEffect(()=>{const _=I=>{y.current&&!y.current.contains(I.target)&&l(!1)};return document.addEventListener("mousedown",_),()=>document.removeEventListener("mousedown",_)},[]);const m=_=>{var I;i(_.text),l(!1),v(_.text),(I=w.current)==null||I.blur()},j=()=>{var _;i(""),r(t,""),(_=w.current)==null||_.focus()},k=_=>{var I;_.preventDefault(),s.trim()&&(v(s),l(!1),(I=w.current)==null||I.blur())},N=_=>{switch(_){case"category":return"🏷️";case"description":return"📝";default:return"🎨"}},S=_=>{switch(_){case"recent":return a.jsx(gs,{size:14,className:"text-gray-400"});case"trending":return a.jsx(bx,{size:14,className:"text-blue-500"});case"category":return a.jsx("span",{className:"text-xs",children:"🏷️"});default:return a.jsx(Zr,{size:14,className:"text-gray-400"})}};return a.jsxs("div",{ref:y,className:"relative w-full max-w-2xl mx-auto px-4 sm:px-0",children:[a.jsx("form",{onSubmit:k,className:"relative",children:a.jsx("div",{className:`
          relative bg-white dark:bg-gray-800 rounded-2xl shadow-lg 
          border border-gray-200 dark:border-gray-700 transition-all duration-300
          ${o?"shadow-2xl ring-2 ring-blue-500/20 border-blue-300 dark:border-blue-600":"hover:shadow-xl"}
        `,children:a.jsxs("div",{className:"flex items-center px-4 sm:px-6 py-3 sm:py-4",children:[a.jsx(Zr,{size:18,className:`mr-3 sm:mr-4 transition-colors duration-200 flex-shrink-0 ${o?"text-blue-500":"text-gray-400"}`}),a.jsx("input",{ref:w,type:"text",value:s,onChange:_=>i(_.target.value),onFocus:()=>l(!0),placeholder:n,className:"flex-1 bg-transparent text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 outline-none text-base sm:text-lg font-medium min-w-0",autoComplete:"off",autoCorrect:"off",spellCheck:"false"}),s&&a.jsx("button",{type:"button",onClick:j,className:"ml-2 p-1.5 sm:p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full transition-colors duration-200 flex-shrink-0",children:a.jsx(at,{size:16,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300"})})]})})}),o&&a.jsxs("div",{className:"absolute top-full left-4 right-4 sm:left-0 sm:right-0 mt-2 bg-white dark:bg-gray-800 rounded-2xl shadow-2xl border border-gray-200 dark:border-gray-700 z-50 max-h-[70vh] sm:max-h-96 overflow-hidden",children:[!s&&c.length>0&&a.jsxs("div",{className:"p-3 sm:p-4",children:[a.jsx("div",{className:"text-sm font-medium text-gray-500 dark:text-gray-400 mb-3",children:"Suggestions"}),a.jsx("div",{className:"space-y-1",children:c.map((_,I)=>a.jsxs("button",{onClick:()=>m(_),className:"w-full flex items-center justify-between px-3 py-3 sm:py-2 text-left hover:bg-gray-50 dark:hover:bg-gray-700 rounded-lg transition-colors duration-200",children:[a.jsxs("div",{className:"flex items-center space-x-3 min-w-0 flex-1",children:[a.jsx("div",{className:"flex-shrink-0",children:S(_.type)}),a.jsx("span",{className:"text-gray-700 dark:text-gray-300 text-sm sm:text-base truncate",children:_.text})]}),_.count&&a.jsx("span",{className:"text-xs text-gray-400 bg-gray-100 dark:bg-gray-700 px-2 py-1 rounded-full flex-shrink-0 ml-2",children:_.count})]},I))})]}),s&&d.length>0&&a.jsxs("div",{className:"p-3 sm:p-4",children:[a.jsxs("div",{className:"text-sm font-medium text-gray-500 dark:text-gray-400 mb-3",children:[d.length," résultat",d.length>1?"s":"",' pour "',s,'"']}),a.jsx("div",{className:"space-y-2 max-h-[50vh] sm:max-h-60 overflow-y-auto",children:d.slice(0,8).map((_,I)=>a.jsxs("div",{className:"flex items-center space-x-3 p-3 hover:bg-gray-50 dark:hover:bg-gray-700 rounded-lg cursor-pointer transition-colors duration-200",onClick:()=>{i(_.poster.title),l(!1)},children:[a.jsx("img",{src:_.poster.image_url,alt:_.poster.title,className:"w-12 h-12 sm:w-14 sm:h-14 object-cover rounded-lg flex-shrink-0"}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("div",{className:"font-medium text-gray-900 dark:text-white truncate text-sm sm:text-base",children:_.poster.title}),a.jsxs("div",{className:"flex items-center space-x-2 text-xs sm:text-sm text-gray-500 dark:text-gray-400 mt-1",children:[a.jsx("span",{className:"flex-shrink-0",children:N(_.matchType)}),a.jsx("span",{className:"truncate",children:_.matchText})]})]}),a.jsx("div",{className:"text-sm font-medium text-blue-600 dark:text-blue-400 flex-shrink-0",children:new Intl.NumberFormat("fr-FR",{style:"currency",currency:_.poster.currency||"EUR"}).format(_.poster.price_cents/100)})]},I))})]}),s&&d.length===0&&a.jsxs("div",{className:"p-6 sm:p-8 text-center",children:[a.jsx("div",{className:"text-gray-400 mb-3",children:a.jsx(Zr,{size:40,className:"mx-auto opacity-30"})}),a.jsxs("div",{className:"text-gray-500 dark:text-gray-400 text-sm sm:text-base",children:['Aucun résultat pour "',s,'"']}),a.jsx("div",{className:"text-xs sm:text-sm text-gray-400 mt-2",children:"Essayez un autre terme ou parcourez nos catégories"})]})]})]})},oi=({title:t="Yad La'Shlouhim - Affiches Communautaires Juives Design",description:e="Templates Canva professionnels pour vos événements, invitations Shabbat, fêtes juives et annonces communautaires. Personnalisation facile et accès immédiat.",keywords:r="affiches juives, templates canva, événements communautaires, shabbat, fêtes juives, invitations, design, personnalisation",image:n="https://ydlyokoawuivemrqphos.supabase.co/storage/v1/object/public/Logo%20du%20site/Yad-La-Shlouhim-Affiches-communautaire-juive-paris-logo-rond.png",url:s=typeof window<"u"?window.location.href:"https://yad-lashlouhim.netlify.app",type:i="website",author:o="Yad La'Shlouhim",publishedTime:l,modifiedTime:c,section:u,tags:d,noindex:h=!1,canonical:f})=>(b.useEffect(()=>{document.title=t;const p=(w,v,g)=>{const x=g?`meta[property="${w}"]`:`meta[name="${w}"]`;let m=document.querySelector(x);m||(m=document.createElement("meta"),g?m.setAttribute("property",w):m.setAttribute("name",w),document.head.appendChild(m)),m.content=v},y=(w,v)=>{let g=document.querySelector(`link[rel="${w}"]`);g||(g=document.createElement("link"),g.rel=w,document.head.appendChild(g)),g.href=v};return p("description",e),p("keywords",r),p("author",o),p("robots",h?"noindex, nofollow":"index, follow"),p("googlebot",h?"noindex, nofollow":"index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1"),p("generator","Yad La'Shlouhim - React + Vite"),p("application-name","Yad La'Shlouhim"),p("theme-color","#3B82F6"),p("msapplication-TileColor","#3B82F6"),p("apple-mobile-web-app-title","Yad La'Shlouhim"),p("geo.region","FR"),p("geo.placename","France"),p("ICBM","48.8566, 2.3522"),p("language","French"),p("content-language","fr"),p("distribution","global"),p("rating","general"),p("revisit-after","7 days"),p("classification","Business, Design, Community, Jewish Culture"),p("og:title",t,!0),p("og:description",e,!0),p("og:image",n,!0),p("og:url",s,!0),p("og:type",i,!0),p("og:site_name","Yad La'Shlouhim",!0),p("og:locale","fr_FR",!0),p("og:image:width","1200",!0),p("og:image:height","630",!0),p("og:image:alt","Logo Yad La'Shlouhim - Affiches communautaires juives",!0),p("twitter:card","summary_large_image"),p("twitter:title",t),p("twitter:description",e),p("twitter:image",n),p("twitter:image:alt","Logo Yad La'Shlouhim - Affiches communautaires juives"),p("twitter:site","@YadLaShlouhim"),p("twitter:creator","@YadLaShlouhim"),i==="article"&&(o&&p("article:author",o,!0),l&&p("article:published_time",l,!0),c&&p("article:modified_time",c,!0),u&&p("article:section",u,!0),d&&d.forEach(w=>{const v=document.createElement("meta");v.setAttribute("property","article:tag"),v.content=w,document.head.appendChild(v)})),y("canonical",f||s),()=>{}},[t,e,r,n,s,i,o,l,c,u,d,h,f]),null),mt=({type:t,data:e})=>(b.useEffect(()=>{const n=(()=>{const o=typeof window<"u"?window.location.origin:"https://yad-lashlouhim.netlify.app";switch(t){case"organization":return{"@context":"https://schema.org","@type":"Organization",name:"Yad La'Shlouhim",url:o,logo:"https://ydlyokoawuivemrqphos.supabase.co/storage/v1/object/public/Logo%20du%20site/Yad-La-Shlouhim-Affiches-communautaire-juive-paris-logo-rond.png",contactPoint:{"@type":"ContactPoint",contactType:"customer service",email:"Yad-lashlouhim770@gmail.com",telephone:"+33667288851"},address:{"@type":"PostalAddress",addressCountry:"FR"},...e};case"website":return{"@context":"https://schema.org","@type":"WebSite",name:"Yad La'Shlouhim",url:o,potentialAction:{"@type":"SearchAction",target:`${o}/search?q={search_term_string}`,"query-input":"required name=search_term_string"},...e};case"article":return{"@context":"https://schema.org","@type":"Article",headline:e.title,description:e.description,image:e.image||"https://ydlyokoawuivemrqphos.supabase.co/storage/v1/object/public/Logo%20du%20site/Yad-La-Shlouhim-Affiches-communautaire-juive-paris-logo-rond.png",datePublished:e.publishedTime,dateModified:e.modifiedTime||e.publishedTime,author:{"@type":"Person",name:e.author||"Yad La'Shlouhim"},publisher:{"@type":"Organization",name:"Yad La'Shlouhim",logo:{"@type":"ImageObject",url:"https://ydlyokoawuivemrqphos.supabase.co/storage/v1/object/public/Logo%20du%20site/Yad-La-Shlouhim-Affiches-communautaire-juive-paris-logo-rond.png"}},mainEntityOfPage:e.url||o};case"product":return{"@context":"https://schema.org","@type":"Product",name:e.name,description:e.description,image:e.image,category:e.category||"Design graphique",brand:{"@type":"Brand",name:e.brand||"Yad La'Shlouhim"},manufacturer:{"@type":"Organization",name:"Yad La'Shlouhim"},offers:{"@type":"Offer",price:(e.price_cents/100).toFixed(2),priceCurrency:e.currency||"EUR",availability:(e.availability==="InStock","https://schema.org/InStock"),url:e.url||o,seller:{"@type":"Organization",name:"Yad La'Shlouhim"},validFrom:new Date().toISOString(),priceValidUntil:new Date(Date.now()+31536e6).toISOString()},aggregateRating:{"@type":"AggregateRating",ratingValue:"4.8",reviewCount:"127",bestRating:"5",worstRating:"1"},review:[{"@type":"Review",reviewRating:{"@type":"Rating",ratingValue:"5"},author:{"@type":"Person",name:"Sarah L."},reviewBody:"Templates magnifiques et très faciles à personnaliser sur Canva!"}]};case"breadcrumb":return{"@context":"https://schema.org","@type":"BreadcrumbList",itemListElement:e.items.map((l,c)=>({"@type":"ListItem",position:c+1,name:l.name,item:l.url?`${o}${l.url}`:void 0}))};case"faq":return{"@context":"https://schema.org","@type":"FAQPage",mainEntity:e.questions.map(l=>({"@type":"Question",name:l.question,acceptedAnswer:{"@type":"Answer",text:l.answer}}))};default:return null}})();if(!n)return;const s=`structured-data-${t}`;let i=document.getElementById(s);return i||(i=document.createElement("script"),i.id=s,i.type="application/ld+json",document.head.appendChild(i)),i.textContent=JSON.stringify(n),()=>{const o=document.getElementById(s);o&&o.remove()}},[t,e]),null),Ax="modulepreload",Ox=function(t){return"/"+t},Lu={},_s=function(e,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(r.map(c=>{if(c=Ox(c),c in Lu)return;Lu[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":Ax,u||(h.as="script"),h.crossOrigin="",h.href=c,l&&h.setAttribute("nonce",l),document.head.appendChild(h),u)return new Promise((f,p)=>{h.addEventListener("load",f),h.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return s.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return e().catch(i)})},Lx=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>_s(async()=>{const{default:n}=await Promise.resolve().then(()=>gn);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)};class nc extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class Rx extends nc{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Ru extends nc{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class $u extends nc{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Go;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Go||(Go={}));var $x=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(h){o(h)}}function c(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};class zx{constructor(e,{headers:r={},customFetch:n,region:s=Go.Any}={}){this.url=e,this.headers=r,this.region=s,this.fetch=Lx(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,r={}){var n;return $x(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:o}=r;let l={},{region:c}=r;c||(c=this.region);const u=new URL(`${this.url}/${e}`);c&&c!=="any"&&(l["x-region"]=c,u.searchParams.set("forceFunctionRegion",c));let d;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",d=o):typeof o=="string"?(l["Content-Type"]="text/plain",d=o):typeof FormData<"u"&&o instanceof FormData?d=o:(l["Content-Type"]="application/json",d=JSON.stringify(o)));const h=yield this.fetch(u.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),s),body:d}).catch(w=>{throw new Rx(w)}),f=h.headers.get("x-relay-error");if(f&&f==="true")throw new Ru(h);if(!h.ok)throw new $u(h);let p=((n=h.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),y;return p==="application/json"?y=yield h.json():p==="application/octet-stream"?y=yield h.blob():p==="text/event-stream"?y=h:p==="multipart/form-data"?y=yield h.formData():y=yield h.text(),{data:y,error:null,response:h}}catch(s){return{data:null,error:s,response:s instanceof $u||s instanceof Ru?s.context:void 0}}})}}var Te={},sc={},li={},Ns={},ci={},ui={},Mx=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},cn=Mx();const Dx=cn.fetch,zf=cn.fetch.bind(cn),Mf=cn.Headers,Ux=cn.Request,Fx=cn.Response,gn=Object.freeze(Object.defineProperty({__proto__:null,Headers:Mf,Request:Ux,Response:Fx,default:zf,fetch:Dx},Symbol.toStringTag,{value:"Module"})),Bx=f0(gn);var di={};Object.defineProperty(di,"__esModule",{value:!0});let qx=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};di.default=qx;var Df=He&&He.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ui,"__esModule",{value:!0});const Vx=Df(Bx),Wx=Df(di);let Hx=class{constructor(e){var r,n;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(r=e.shouldThrowOnError)!==null&&r!==void 0?r:!1,this.signal=e.signal,this.isMaybeSingle=(n=e.isMaybeSingle)!==null&&n!==void 0?n:!1,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=Vx.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,r){return this.headers=new Headers(this.headers),this.headers.set(e,r),this}then(e,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,l,c,u;let d=null,h=null,f=null,p=i.status,y=i.statusText;if(i.ok){if(this.method!=="HEAD"){const x=await i.text();x===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((o=this.headers.get("Accept"))===null||o===void 0)&&o.includes("application/vnd.pgrst.plan+text"))?h=x:h=JSON.parse(x))}const v=(l=this.headers.get("Prefer"))===null||l===void 0?void 0:l.match(/count=(exact|planned|estimated)/),g=(c=i.headers.get("content-range"))===null||c===void 0?void 0:c.split("/");v&&g&&g.length>1&&(f=parseInt(g[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(h)&&(h.length>1?(d={code:"PGRST116",details:`Results contain ${h.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},h=null,f=null,p=406,y="Not Acceptable"):h.length===1?h=h[0]:h=null)}else{const v=await i.text();try{d=JSON.parse(v),Array.isArray(d)&&i.status===404&&(h=[],d=null,p=200,y="OK")}catch{i.status===404&&v===""?(p=204,y="No Content"):d={message:v}}if(d&&this.isMaybeSingle&&(!((u=d==null?void 0:d.details)===null||u===void 0)&&u.includes("0 rows"))&&(d=null,p=200,y="OK"),d&&this.shouldThrowOnError)throw new Wx.default(d)}return{error:d,data:h,count:f,status:p,statusText:y}});return this.shouldThrowOnError||(s=s.catch(i=>{var o,l,c;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(l=i==null?void 0:i.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=i==null?void 0:i.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),s.then(e,r)}returns(){return this}overrideTypes(){return this}};ui.default=Hx;var Gx=He&&He.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ci,"__esModule",{value:!0});const Jx=Gx(ui);let Kx=class extends Jx.default{select(e){let r=!1;const n=(e??"*").split("").map(s=>/\s/.test(s)&&!r?"":(s==='"'&&(r=!r),s)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:r=!0,nullsFirst:n,foreignTable:s,referencedTable:i=s}={}){const o=i?`${i}.order`:"order",l=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${l?`${l},`:""}${e}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${e}`),this}range(e,r,{foreignTable:n,referencedTable:s=n}={}){const i=typeof s>"u"?"offset":`${s}.offset`,o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(o,`${r-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:r=!1,settings:n=!1,buffers:s=!1,wal:i=!1,format:o="text"}={}){var l;const c=[e?"analyze":null,r?"verbose":null,n?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(l=this.headers.get("Accept"))!==null&&l!==void 0?l:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${u}"; options=${c};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};ci.default=Kx;var Qx=He&&He.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ns,"__esModule",{value:!0});const Yx=Qx(ci);let Xx=class extends Yx.default{eq(e,r){return this.url.searchParams.append(e,`eq.${r}`),this}neq(e,r){return this.url.searchParams.append(e,`neq.${r}`),this}gt(e,r){return this.url.searchParams.append(e,`gt.${r}`),this}gte(e,r){return this.url.searchParams.append(e,`gte.${r}`),this}lt(e,r){return this.url.searchParams.append(e,`lt.${r}`),this}lte(e,r){return this.url.searchParams.append(e,`lte.${r}`),this}like(e,r){return this.url.searchParams.append(e,`like.${r}`),this}likeAllOf(e,r){return this.url.searchParams.append(e,`like(all).{${r.join(",")}}`),this}likeAnyOf(e,r){return this.url.searchParams.append(e,`like(any).{${r.join(",")}}`),this}ilike(e,r){return this.url.searchParams.append(e,`ilike.${r}`),this}ilikeAllOf(e,r){return this.url.searchParams.append(e,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(e,r){return this.url.searchParams.append(e,`ilike(any).{${r.join(",")}}`),this}is(e,r){return this.url.searchParams.append(e,`is.${r}`),this}in(e,r){const n=Array.from(new Set(r)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}contains(e,r){return typeof r=="string"?this.url.searchParams.append(e,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(e,`cs.{${r.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(r)}`),this}containedBy(e,r){return typeof r=="string"?this.url.searchParams.append(e,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(e,`cd.{${r.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(r)}`),this}rangeGt(e,r){return this.url.searchParams.append(e,`sr.${r}`),this}rangeGte(e,r){return this.url.searchParams.append(e,`nxl.${r}`),this}rangeLt(e,r){return this.url.searchParams.append(e,`sl.${r}`),this}rangeLte(e,r){return this.url.searchParams.append(e,`nxr.${r}`),this}rangeAdjacent(e,r){return this.url.searchParams.append(e,`adj.${r}`),this}overlaps(e,r){return typeof r=="string"?this.url.searchParams.append(e,`ov.${r}`):this.url.searchParams.append(e,`ov.{${r.join(",")}}`),this}textSearch(e,r,{config:n,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const o=n===void 0?"":`(${n})`;return this.url.searchParams.append(e,`${i}fts${o}.${r}`),this}match(e){return Object.entries(e).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(e,r,n){return this.url.searchParams.append(e,`not.${r}.${n}`),this}or(e,{foreignTable:r,referencedTable:n=r}={}){const s=n?`${n}.or`:"or";return this.url.searchParams.append(s,`(${e})`),this}filter(e,r,n){return this.url.searchParams.append(e,`${r}.${n}`),this}};Ns.default=Xx;var Zx=He&&He.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(li,"__esModule",{value:!0});const En=Zx(Ns);let ey=class{constructor(e,{headers:r={},schema:n,fetch:s}){this.url=e,this.headers=new Headers(r),this.schema=n,this.fetch=s}select(e,{head:r=!1,count:n}={}){const s=r?"HEAD":"GET";let i=!1;const o=(e??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",o),n&&this.headers.append("Prefer",`count=${n}`),new En.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(e,{count:r,defaultToNull:n=!0}={}){var s;const i="POST";if(r&&this.headers.append("Prefer",`count=${r}`),n||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const o=e.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(o.length>0){const l=[...new Set(o)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new En.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}upsert(e,{onConflict:r,ignoreDuplicates:n=!1,count:s,defaultToNull:i=!0}={}){var o;const l="POST";if(this.headers.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),r!==void 0&&this.url.searchParams.set("on_conflict",r),s&&this.headers.append("Prefer",`count=${s}`),i||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const c=e.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){const u=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new En.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}update(e,{count:r}={}){var n;const s="PATCH";return r&&this.headers.append("Prefer",`count=${r}`),new En.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:e}={}){var r;const n="DELETE";return e&&this.headers.append("Prefer",`count=${e}`),new En.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}};li.default=ey;var Uf=He&&He.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(sc,"__esModule",{value:!0});const ty=Uf(li),ry=Uf(Ns);let ny=class Ff{constructor(e,{headers:r={},schema:n,fetch:s}={}){this.url=e,this.headers=new Headers(r),this.schemaName=n,this.fetch=s}from(e){const r=new URL(`${this.url}/${e}`);return new ty.default(r,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new Ff(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,r={},{head:n=!1,get:s=!1,count:i}={}){var o;let l;const c=new URL(`${this.url}/rpc/${e}`);let u;n||s?(l=n?"HEAD":"GET",Object.entries(r).filter(([h,f])=>f!==void 0).map(([h,f])=>[h,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([h,f])=>{c.searchParams.append(h,f)})):(l="POST",u=r);const d=new Headers(this.headers);return i&&d.set("Prefer",`count=${i}`),new ry.default({method:l,url:c,headers:d,schema:this.schemaName,body:u,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};sc.default=ny;var pn=He&&He.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Te,"__esModule",{value:!0});Te.PostgrestError=Te.PostgrestBuilder=Te.PostgrestTransformBuilder=Te.PostgrestFilterBuilder=Te.PostgrestQueryBuilder=Te.PostgrestClient=void 0;const Bf=pn(sc);Te.PostgrestClient=Bf.default;const qf=pn(li);Te.PostgrestQueryBuilder=qf.default;const Vf=pn(Ns);Te.PostgrestFilterBuilder=Vf.default;const Wf=pn(ci);Te.PostgrestTransformBuilder=Wf.default;const Hf=pn(ui);Te.PostgrestBuilder=Hf.default;const Gf=pn(di);Te.PostgrestError=Gf.default;var sy=Te.default={PostgrestClient:Bf.default,PostgrestQueryBuilder:qf.default,PostgrestFilterBuilder:Vf.default,PostgrestTransformBuilder:Wf.default,PostgrestBuilder:Hf.default,PostgrestError:Gf.default};const{PostgrestClient:ay,PostgrestQueryBuilder:Tw,PostgrestFilterBuilder:Pw,PostgrestTransformBuilder:Iw,PostgrestBuilder:Aw,PostgrestError:Ow}=sy;class iy{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"&&process.versions&&process.versions.node){const r=parseInt(process.versions.node.split(".")[0]);return r>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${r} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${r} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const n=this.getWebSocketConstructor();return new n(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const oy="2.15.1",ly=`realtime-js/${oy}`,cy="1.0.0",Jo=1e4,uy=1e3,dy=100;var Hn;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Hn||(Hn={}));var le;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(le||(le={}));var Ze;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Ze||(Ze={}));var Ko;(function(t){t.websocket="websocket"})(Ko||(Ko={}));var or;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(or||(or={}));class hy{constructor(){this.HEADER_LENGTH=1}decode(e,r){return e.constructor===ArrayBuffer?r(this._binaryDecode(e)):r(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const r=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,r,n)}_decodeBroadcast(e,r,n){const s=r.getUint8(1),i=r.getUint8(2);let o=this.HEADER_LENGTH+2;const l=n.decode(e.slice(o,o+s));o=o+s;const c=n.decode(e.slice(o,o+i));o=o+i;const u=JSON.parse(n.decode(e.slice(o,e.byteLength)));return{ref:null,topic:l,event:c,payload:u}}}class Jf{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var H;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(H||(H={}));const zu=(t,e,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(e).reduce((i,o)=>(i[o]=fy(o,t,e,s),i),{})},fy=(t,e,r,n)=>{const s=e.find(l=>l.name===t),i=s==null?void 0:s.type,o=r[t];return i&&!n.includes(i)?Kf(i,o):Qo(o)},Kf=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return xy(e,r)}switch(t){case H.bool:return my(e);case H.float4:case H.float8:case H.int2:case H.int4:case H.int8:case H.numeric:case H.oid:return gy(e);case H.json:case H.jsonb:return py(e);case H.timestamp:return yy(e);case H.abstime:case H.date:case H.daterange:case H.int4range:case H.int8range:case H.money:case H.reltime:case H.text:case H.time:case H.timestamptz:case H.timetz:case H.tsrange:case H.tstzrange:return Qo(e);default:return Qo(e)}},Qo=t=>t,my=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},gy=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},py=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},xy=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let i;const o=t.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(l=>Kf(e,l))}return t},yy=t=>typeof t=="string"?t.replace(" ","T"):t,Qf=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"};class Fi{constructor(e,r,n={},s=Jo){this.channel=e,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Mu;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Mu||(Mu={}));class Gn{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Gn.syncState(this.state,s,i,o),this.pendingDiffs.forEach(c=>{this.state=Gn.syncDiff(this.state,c,i,o)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Gn.syncDiff(this.state,s,i,o),l())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,s){const i=this.cloneDeep(e),o=this.transformState(r),l={},c={};return this.map(i,(u,d)=>{o[u]||(c[u]=d)}),this.map(o,(u,d)=>{const h=i[u];if(h){const f=d.map(v=>v.presence_ref),p=h.map(v=>v.presence_ref),y=d.filter(v=>p.indexOf(v.presence_ref)<0),w=h.filter(v=>f.indexOf(v.presence_ref)<0);y.length>0&&(l[u]=y),w.length>0&&(c[u]=w)}else l[u]=d}),this.syncDiff(i,{joins:l,leaves:c},n,s)}static syncDiff(e,r,n,s){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(l,c)=>{var u;const d=(u=e[l])!==null&&u!==void 0?u:[];if(e[l]=this.cloneDeep(c),d.length>0){const h=e[l].map(p=>p.presence_ref),f=d.filter(p=>h.indexOf(p.presence_ref)<0);e[l].unshift(...f)}n(l,d,c)}),this.map(o,(l,c)=>{let u=e[l];if(!u)return;const d=c.map(h=>h.presence_ref);u=u.filter(h=>d.indexOf(h.presence_ref)<0),e[l]=u,s(l,u,c),u.length===0&&delete e[l]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const s=e[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Du;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Du||(Du={}));var Jn;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Jn||(Jn={}));var yt;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(yt||(yt={}));class ac{constructor(e,r={config:{}},n){this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=le.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Fi(this,Ze.join,this.params,this.timeout),this.rejoinTimer=new Jf(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=le.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=le.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=le.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=le.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=le.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ze.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new Gn(this),this.broadcastEndpointURL=Qf(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(e,r=this.timeout){var n,s;if(this.socket.isConnected()||this.socket.connect(),this.state==le.closed){const{config:{broadcast:i,presence:o,private:l}}=this.params,c=(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(f=>f.filter))!==null&&s!==void 0?s:[],u=!!this.bindings[Jn.PRESENCE]&&this.bindings[Jn.PRESENCE].length>0,d={},h={broadcast:i,presence:Object.assign(Object.assign({},o),{enabled:u}),postgres_changes:c,private:l};this.socket.accessTokenValue&&(d.access_token=this.socket.accessTokenValue),this._onError(f=>e==null?void 0:e(yt.CHANNEL_ERROR,f)),this._onClose(()=>e==null?void 0:e(yt.CLOSED)),this.updateJoinPayload(Object.assign({config:h},d)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:f})=>{var p;if(this.socket.setAuth(),f===void 0){e==null||e(yt.SUBSCRIBED);return}else{const y=this.bindings.postgres_changes,w=(p=y==null?void 0:y.length)!==null&&p!==void 0?p:0,v=[];for(let g=0;g<w;g++){const x=y[g],{filter:{event:m,schema:j,table:k,filter:N}}=x,S=f&&f[g];if(S&&S.event===m&&S.schema===j&&S.table===k&&S.filter===N)v.push(Object.assign(Object.assign({},x),{id:S.id}));else{this.unsubscribe(),this.state=le.errored,e==null||e(yt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=v,e&&e(yt.SUBSCRIBED);return}}).receive("error",f=>{this.state=le.errored,e==null||e(yt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(f).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(yt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this.state===le.joined&&e===Jn.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,r,n)}async send(e,r={}){var n,s;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:o}=e,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,l,c;const u=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=le.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ze.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new Fi(this,Ze.leave,{},e),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=le.closed,this.bindings={}}async _fetchWithTimeout(e,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),o=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),o}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Fi(this,e,r,n);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>dy){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var s,i;const o=e.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=Ze;if(n&&[l,c,u,d].indexOf(o)>=0&&n!==this._joinRef())return;let f=this._onMessage(o,r,n);if(r&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(p=>{var y,w,v;return((y=p.filter)===null||y===void 0?void 0:y.event)==="*"||((v=(w=p.filter)===null||w===void 0?void 0:w.event)===null||v===void 0?void 0:v.toLocaleLowerCase())===o}).map(p=>p.callback(f,n)):(i=this.bindings[o])===null||i===void 0||i.filter(p=>{var y,w,v,g,x,m;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in p){const j=p.id,k=(y=p.filter)===null||y===void 0?void 0:y.event;return j&&((w=r.ids)===null||w===void 0?void 0:w.includes(j))&&(k==="*"||(k==null?void 0:k.toLocaleLowerCase())===((v=r.data)===null||v===void 0?void 0:v.type.toLocaleLowerCase()))}else{const j=(x=(g=p==null?void 0:p.filter)===null||g===void 0?void 0:g.event)===null||x===void 0?void 0:x.toLocaleLowerCase();return j==="*"||j===((m=r==null?void 0:r.event)===null||m===void 0?void 0:m.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===o}).map(p=>{if(typeof f=="object"&&"ids"in f){const y=f.data,{schema:w,table:v,commit_timestamp:g,type:x,errors:m}=y;f=Object.assign(Object.assign({},{schema:w,table:v,commit_timestamp:g,eventType:x,new:{},old:{},errors:m}),this._getPayloadRecords(y))}p.callback(f,n)})}_isClosed(){return this.state===le.closed}_isJoined(){return this.state===le.joined}_isJoining(){return this.state===le.joining}_isLeaving(){return this.state===le.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const s=e.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&ac.isEqual(s.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Ze.close,{},e)}_onError(e){this._on(Ze.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=le.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=zu(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=zu(e.columns,e.old_record)),r}}const Uu=()=>{},Ws={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},vy=[1e3,2e3,5e3,1e4],wy=1e4,by=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class ky{constructor(e,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Jo,this.transport=null,this.heartbeatIntervalMs=Ws.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Uu,this.ref=0,this.reconnectTimer=null,this.logger=Uu,this.conn=null,this.sendBuffer=[],this.serializer=new hy,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>{let i;return s?i=s:typeof fetch>"u"?i=(...o)=>_s(async()=>{const{default:l}=await Promise.resolve().then(()=>gn);return{default:l}},void 0).then(({default:l})=>l(...o)).catch(l=>{throw new Error(`Failed to load @supabase/node-fetch: ${l.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...o)=>i(...o)},!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${Ko.websocket}`,this.httpEndpoint=Qf(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=iy.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:cy}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},e?this.conn.close(e,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Hn.connecting:return or.Connecting;case Hn.open:return or.Open;case Hn.closing:return or.Closing;default:return or.Closed}}isConnected(){return this.connectionState()===or.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const n=`realtime:${e}`,s=this.getChannels().find(i=>i.topic===n);if(s)return s;{const i=new ac(`realtime:${e}`,r,this);return this.channels.push(i),i}}push(e){const{topic:r,event:n,payload:s,ref:i}=e,o=()=>{this.encode(e,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(uy,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Ws.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{r.topic==="phoenix"&&r.event==="phx_reply"&&this.heartbeatCallback(r.payload.status==="ok"?"ok":"error"),r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:s,payload:i,ref:o}=r,l=o?`(${o})`:"",c=i.status||"";this.log("receive",`${c} ${n} ${s} ${l}`.trim(),i),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(s,i,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Ze.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${e}${n}${s}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([by],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r;e?r=e:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const s={access_token:r,version:ly};r&&n.updateJoinPayload(s),n.joinedOnce&&n._isJoined()&&n._push(Ze.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(r)}catch(s){this.log("error",`error in ${e} callback`,s)}})}catch(n){this.log("error",`error triggering ${e} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new Jf(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Ws.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,n,s,i,o,l,c,u;if(this.transport=(r=e==null?void 0:e.transport)!==null&&r!==void 0?r:null,this.timeout=(n=e==null?void 0:e.timeout)!==null&&n!==void 0?n:Jo,this.heartbeatIntervalMs=(s=e==null?void 0:e.heartbeatIntervalMs)!==null&&s!==void 0?s:Ws.HEARTBEAT_INTERVAL,this.worker=(i=e==null?void 0:e.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=e==null?void 0:e.accessToken)!==null&&o!==void 0?o:null,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(l=e==null?void 0:e.reconnectAfterMs)!==null&&l!==void 0?l:d=>vy[d-1]||wy,this.encode=(c=e==null?void 0:e.encode)!==null&&c!==void 0?c:(d,h)=>h(JSON.stringify(d)),this.decode=(u=e==null?void 0:e.decode)!==null&&u!==void 0?u:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class ic extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function ce(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class jy extends ic{constructor(e,r,n){super(e),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Yo extends ic{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}var _y=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(h){o(h)}}function c(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};const Yf=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>_s(async()=>{const{default:n}=await Promise.resolve().then(()=>gn);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},Ny=()=>_y(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield _s(()=>Promise.resolve().then(()=>gn),void 0)).Response:Response}),Xo=t=>{if(Array.isArray(t))return t.map(r=>Xo(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[s]=Xo(n)}),e},Sy=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)};var jr=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(h){o(h)}}function c(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};const Bi=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Ey=(t,e,r)=>jr(void 0,void 0,void 0,function*(){const n=yield Ny();t instanceof n&&!(r!=null&&r.noResolveJson)?t.json().then(s=>{const i=t.status||500,o=(s==null?void 0:s.statusCode)||i+"";e(new jy(Bi(s),i,o))}).catch(s=>{e(new Yo(Bi(s),s))}):e(new Yo(Bi(t),t))}),Cy=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!n?s:(Sy(n)?(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(n)):s.body=n,e!=null&&e.duplex&&(s.duplex=e.duplex),Object.assign(Object.assign({},s),r))};function Ss(t,e,r,n,s,i){return jr(this,void 0,void 0,function*(){return new Promise((o,l)=>{t(r,Cy(e,n,s,i)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>Ey(c,l,n))})})}function Ua(t,e,r,n){return jr(this,void 0,void 0,function*(){return Ss(t,"GET",e,r,n)})}function ut(t,e,r,n,s){return jr(this,void 0,void 0,function*(){return Ss(t,"POST",e,n,s,r)})}function Zo(t,e,r,n,s){return jr(this,void 0,void 0,function*(){return Ss(t,"PUT",e,n,s,r)})}function Ty(t,e,r,n){return jr(this,void 0,void 0,function*(){return Ss(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function Xf(t,e,r,n,s){return jr(this,void 0,void 0,function*(){return Ss(t,"DELETE",e,n,s,r)})}var ke=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(h){o(h)}}function c(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};const Py={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Fu={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Iy{constructor(e,r={},n,s){this.url=e,this.headers=r,this.bucketId=n,this.fetch=Yf(s)}uploadOrUpdate(e,r,n,s){return ke(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},Fu),s);let l=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=n,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),s!=null&&s.headers&&(l=Object.assign(Object.assign({},l),s.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),h=yield(e=="PUT"?Zo:ut)(this.fetch,`${this.url}/object/${d}`,i,Object.assign({headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:u,id:h.Id,fullPath:h.Key},error:null}}catch(i){if(ce(i))return{data:null,error:i};throw i}})}upload(e,r,n){return ke(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,n)})}uploadToSignedUrl(e,r,n,s){return ke(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",r);try{let c;const u=Object.assign({upsert:Fu.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const h=yield Zo(this.fetch,l.toString(),c,{headers:d});return{data:{path:i,fullPath:h.Key},error:null}}catch(c){if(ce(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(e,r){return ke(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const i=yield ut(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),o=new URL(this.url+i.url),l=o.searchParams.get("token");if(!l)throw new ic("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:l},error:null}}catch(n){if(ce(n))return{data:null,error:n};throw n}})}update(e,r,n){return ke(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,n)})}move(e,r,n){return ke(this,void 0,void 0,function*(){try{return{data:yield ut(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(ce(s))return{data:null,error:s};throw s}})}copy(e,r,n){return ke(this,void 0,void 0,function*(){try{return{data:{path:(yield ut(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(ce(s))return{data:null,error:s};throw s}})}createSignedUrl(e,r,n){return ke(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),i=yield ut(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(ce(s))return{data:null,error:s};throw s}})}createSignedUrls(e,r,n){return ke(this,void 0,void 0,function*(){try{const s=yield ut(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(ce(s))return{data:null,error:s};throw s}})}download(e,r){return ke(this,void 0,void 0,function*(){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=i?`?${i}`:"";try{const l=this._getFinalPath(e);return{data:yield(yield Ua(this.fetch,`${this.url}/${s}/${l}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(ce(l))return{data:null,error:l};throw l}})}info(e){return ke(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const n=yield Ua(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Xo(n),error:null}}catch(n){if(ce(n))return{data:null,error:n};throw n}})}exists(e){return ke(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield Ty(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(ce(n)&&n instanceof Yo){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,r){const n=this._getFinalPath(e),s=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&s.push(i);const l=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&s.push(c);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${u}`)}}}remove(e){return ke(this,void 0,void 0,function*(){try{return{data:yield Xf(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(ce(r))return{data:null,error:r};throw r}})}list(e,r,n){return ke(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},Py),r),{prefix:e||""});return{data:yield ut(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(ce(s))return{data:null,error:s};throw s}})}listV2(e,r){return ke(this,void 0,void 0,function*(){try{const n=Object.assign({},e);return{data:yield ut(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(ce(n))return{data:null,error:n};throw n}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const Ay="2.11.0",Oy={"X-Client-Info":`storage-js/${Ay}`};var Cr=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(h){o(h)}}function c(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};class Ly{constructor(e,r={},n,s){const i=new URL(e);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href,this.headers=Object.assign(Object.assign({},Oy),r),this.fetch=Yf(n)}listBuckets(){return Cr(this,void 0,void 0,function*(){try{return{data:yield Ua(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(ce(e))return{data:null,error:e};throw e}})}getBucket(e){return Cr(this,void 0,void 0,function*(){try{return{data:yield Ua(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(ce(r))return{data:null,error:r};throw r}})}createBucket(e,r={public:!1}){return Cr(this,void 0,void 0,function*(){try{return{data:yield ut(this.fetch,`${this.url}/bucket`,{id:e,name:e,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(ce(n))return{data:null,error:n};throw n}})}updateBucket(e,r){return Cr(this,void 0,void 0,function*(){try{return{data:yield Zo(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(ce(n))return{data:null,error:n};throw n}})}emptyBucket(e){return Cr(this,void 0,void 0,function*(){try{return{data:yield ut(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(ce(r))return{data:null,error:r};throw r}})}deleteBucket(e){return Cr(this,void 0,void 0,function*(){try{return{data:yield Xf(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(ce(r))return{data:null,error:r};throw r}})}}class Ry extends Ly{constructor(e,r={},n,s){super(e,r,n,s)}from(e){return new Iy(this.url,this.headers,e,this.fetch)}}const $y="2.56.0";let Ln="";typeof Deno<"u"?Ln="deno":typeof document<"u"?Ln="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ln="react-native":Ln="node";const zy={"X-Client-Info":`supabase-js-${Ln}/${$y}`},My={headers:zy},Dy={schema:"public"},Uy={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Fy={};var By=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(h){o(h)}}function c(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};const qy=t=>{let e;return t?e=t:typeof fetch>"u"?e=zf:e=fetch,(...r)=>e(...r)},Vy=()=>typeof Headers>"u"?Mf:Headers,Wy=(t,e,r)=>{const n=qy(r),s=Vy();return(i,o)=>By(void 0,void 0,void 0,function*(){var l;const c=(l=yield e())!==null&&l!==void 0?l:t;let u=new s(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(i,Object.assign(Object.assign({},o),{headers:u}))})};var Hy=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(h){o(h)}}function c(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};function Gy(t){return t.endsWith("/")?t:t+"/"}function Jy(t,e){var r,n;const{db:s,auth:i,realtime:o,global:l}=t,{db:c,auth:u,realtime:d,global:h}=e,f={db:Object.assign(Object.assign({},c),s),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},d),o),storage:{},global:Object.assign(Object.assign(Object.assign({},h),l),{headers:Object.assign(Object.assign({},(r=h==null?void 0:h.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>Hy(this,void 0,void 0,function*(){return""})};return t.accessToken?f.accessToken=t.accessToken:delete f.accessToken,f}const Zf="2.71.1",Or=30*1e3,el=3,qi=el*Or,Ky="http://localhost:9999",Qy="supabase.auth.token",Yy={"X-Client-Info":`gotrue-js/${Zf}`},tl="X-Supabase-Api-Version",e0={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Xy=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Zy=10*60*1e3;class oc extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function z(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class ev extends oc{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function tv(t){return z(t)&&t.name==="AuthApiError"}class t0 extends oc{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class er extends oc{constructor(e,r,n,s){super(e,n,s),this.name=r,this.status=n}}class Pt extends er{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function rv(t){return z(t)&&t.name==="AuthSessionMissingError"}class Hs extends er{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Gs extends er{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Js extends er{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function nv(t){return z(t)&&t.name==="AuthImplicitGrantRedirectError"}class Bu extends er{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class rl extends er{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function Vi(t){return z(t)&&t.name==="AuthRetryableFetchError"}class qu extends er{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class nl extends er{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Fa="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Vu=` 	
\r=`.split(""),sv=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Vu.length;e+=1)t[Vu[e].charCodeAt(0)]=-2;for(let e=0;e<Fa.length;e+=1)t[Fa[e].charCodeAt(0)]=e;return t})();function Wu(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(Fa[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(Fa[n]),e.queuedBits-=6}}function r0(t,e,r){const n=sv[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Hu(t){const e=[],r=o=>{e.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{ov(o,n,r)};for(let o=0;o<t.length;o+=1)r0(t.charCodeAt(o),s,i);return e.join("")}function av(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function iv(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}av(n,e)}}function ov(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if(!(t>>7-n&1)){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function lv(t){const e=[],r={queue:0,queuedBits:0},n=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)r0(t.charCodeAt(s),r,n);return new Uint8Array(e)}function cv(t){const e=[];return iv(t,r=>e.push(r)),new Uint8Array(e)}function uv(t){const e=[],r={queue:0,queuedBits:0},n=s=>{e.push(s)};return t.forEach(s=>Wu(s,r,n)),Wu(null,r,n),e.join("")}function dv(t){return Math.round(Date.now()/1e3)+t}function hv(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const Qe=()=>typeof window<"u"&&typeof document<"u",rr={tested:!1,writable:!1},n0=()=>{if(!Qe())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(rr.tested)return rr.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),rr.tested=!0,rr.writable=!0}catch{rr.tested=!0,rr.writable=!1}return rr.writable};function fv(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{e[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{e[s]=n}),e}const s0=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>_s(async()=>{const{default:n}=await Promise.resolve().then(()=>gn);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},mv=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Lr=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},nr=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Tt=async(t,e)=>{await t.removeItem(e)};class hi{constructor(){this.promise=new hi.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}hi.promiseConstructor=Promise;function Wi(t){const e=t.split(".");if(e.length!==3)throw new nl("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!Xy.test(e[n]))throw new nl("JWT not in base64url format");return{header:JSON.parse(Hu(e[0])),payload:JSON.parse(Hu(e[1])),signature:lv(e[2]),raw:{header:e[0],payload:e[1]}}}async function gv(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function pv(t,e){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){n(o);return}}catch(o){if(!e(i,o)){s(o);return}}})()})}function xv(t){return("0"+t.toString(16)).substr(-2)}function yv(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(e),Array.from(e,xv).join("")}async function vv(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function wv(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await vv(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Tr(t,e,r=!1){const n=yv();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await Lr(t,`${e}-code-verifier`,s);const i=await wv(n);return[i,n===i?"plain":"s256"]}const bv=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function kv(t){const e=t.headers.get(tl);if(!e||!e.match(bv))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function jv(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function _v(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Nv=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Pr(t){if(!Nv.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Hi(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Gu(t){return JSON.parse(JSON.stringify(t))}var Sv=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r};const ir=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Ev=[502,503,504];async function Ju(t){var e;if(!mv(t))throw new rl(ir(t),0);if(Ev.includes(t.status))throw new rl(ir(t),t.status);let r;try{r=await t.json()}catch(i){throw new t0(ir(i),i)}let n;const s=kv(t);if(s&&s.getTime()>=e0["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new qu(ir(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new Pt}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new qu(ir(r),t.status,r.weak_password.reasons);throw new ev(ir(r),t.status||500,n)}const Cv=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function D(t,e,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[tl]||(i[tl]=e0["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await Tv(t,e,r+l,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function Tv(t,e,r,n,s,i){const o=Cv(e,n,s,i);let l;try{l=await t(r,Object.assign({},o))}catch(c){throw console.error(c),new rl(ir(c),0)}if(l.ok||await Ju(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await Ju(c)}}function pt(t){var e;let r=null;Ov(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=dv(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function Ku(t){const e=pt(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Rt(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function Pv(t){return{data:t,error:null}}function Iv(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=t,o=Sv(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function Av(t){return t}function Ov(t){return t.access_token&&t.refresh_token&&t.expires_in}const Gi=["global","local","others"];var Lv=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r};class Rv{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=s0(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,r=Gi[0]){if(Gi.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Gi.join(", ")}`);try{return await D(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(z(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await D(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Rt})}catch(n){if(z(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=Lv(e,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await D(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:Iv,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(z(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await D(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Rt})}catch(r){if(z(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,s,i,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await D(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:Av});if(d.error)throw d.error;const h=await d.json(),f=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(y=>{const w=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(y.split(";")[1].split("=")[1]);u[`${v}Page`]=w}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(z(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){Pr(e);try{return await D(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Rt})}catch(r){if(z(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){Pr(e);try{return await D(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:Rt})}catch(n){if(z(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){Pr(e);try{return await D(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:Rt})}catch(n){if(z(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){Pr(e.userId);try{const{data:r,error:n}=await D(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(z(r))return{data:null,error:r};throw r}}async _deleteFactor(e){Pr(e.userId),Pr(e.id);try{return{data:await D(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(z(r))return{data:null,error:r};throw r}}}function Qu(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}function $v(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Ir={debug:!!(globalThis&&n0()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class a0 extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class zv extends a0{}async function Mv(t,e,r){Ir.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),Ir.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){Ir.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await r()}finally{Ir.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw Ir.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new zv(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Ir.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}$v();const Dv={url:Ky,storageKey:Qy,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Yy,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Yu(t,e,r){return await r()}const Ar={};class xs{constructor(e){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=xs.nextInstanceID,xs.nextInstanceID+=1,this.instanceID>0&&Qe()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},Dv),e);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new Rv({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=s0(s.fetch),this.lock=s.lock||Yu,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:Qe()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=Mv:this.lock=Yu,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:n0()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Qu(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=Qu(this.memoryStorage)),Qe()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}get jwks(){var e,r;return(r=(e=Ar[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){Ar[this.storageKey]=Object.assign(Object.assign({},Ar[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=Ar[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Ar[this.storageKey]=Object.assign(Object.assign({},Ar[this.storageKey]),{cachedAt:e})}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Zf}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const r=fv(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),Qe()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),nv(i)){const c=(e=i.details)===null||e===void 0?void 0:e.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return z(r)?{error:r}:{error:new t0("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,s;try{const i=await D(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:pt}),{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(z(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var r,n,s;try{let i;if("email"in e){const{email:d,password:h,options:f}=e;let p=null,y=null;this.flowType==="pkce"&&([p,y]=await Tr(this.storage,this.storageKey)),i=await D(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:d,password:h,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:p,code_challenge_method:y},xform:pt})}else if("phone"in e){const{phone:d,password:h,options:f}=e;i=await D(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},channel:(s=f==null?void 0:f.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:pt})}else throw new Gs("You must provide either an email or phone number and a password");const{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(z(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let r;if("email"in e){const{email:i,password:o,options:l}=e;r=await D(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Ku})}else if("phone"in e){const{phone:i,password:o,options:l}=e;r=await D(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Ku})}else throw new Gs("You must provide either an email or phone number and a password");const{data:n,error:s}=r;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new Hs}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(z(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(e){var r,n,s,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;if(r==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(e){var r,n,s,i,o,l,c,u,d,h,f,p;let y,w;if("message"in e)y=e.message,w=e.signature;else{const{chain:v,wallet:g,statement:x,options:m}=e;let j;if(Qe())if(typeof g=="object")j=g;else{const N=window;if("solana"in N&&typeof N.solana=="object"&&("signIn"in N.solana&&typeof N.solana.signIn=="function"||"signMessage"in N.solana&&typeof N.solana.signMessage=="function"))j=N.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof g!="object"||!(m!=null&&m.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");j=g}const k=new URL((r=m==null?void 0:m.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in j&&j.signIn){const N=await j.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},m==null?void 0:m.signInWithSolana),{version:"1",domain:k.host,uri:k.href}),x?{statement:x}:null));let S;if(Array.isArray(N)&&N[0]&&typeof N[0]=="object")S=N[0];else if(N&&typeof N=="object"&&"signedMessage"in N&&"signature"in N)S=N;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in S&&"signature"in S&&(typeof S.signedMessage=="string"||S.signedMessage instanceof Uint8Array)&&S.signature instanceof Uint8Array)y=typeof S.signedMessage=="string"?S.signedMessage:new TextDecoder().decode(S.signedMessage),w=S.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in j)||typeof j.signMessage!="function"||!("publicKey"in j)||typeof j!="object"||!j.publicKey||!("toBase58"in j.publicKey)||typeof j.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");y=[`${k.host} wants you to sign in with your Solana account:`,j.publicKey.toBase58(),...x?["",x,""]:[""],"Version: 1",`URI: ${k.href}`,`Issued At: ${(s=(n=m==null?void 0:m.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=m==null?void 0:m.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${m.signInWithSolana.notBefore}`]:[],...!((o=m==null?void 0:m.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${m.signInWithSolana.expirationTime}`]:[],...!((l=m==null?void 0:m.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${m.signInWithSolana.chainId}`]:[],...!((c=m==null?void 0:m.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${m.signInWithSolana.nonce}`]:[],...!((u=m==null?void 0:m.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${m.signInWithSolana.requestId}`]:[],...!((h=(d=m==null?void 0:m.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||h===void 0)&&h.length?["Resources",...m.signInWithSolana.resources.map(S=>`- ${S}`)]:[]].join(`
`);const N=await j.signMessage(new TextEncoder().encode(y),"utf8");if(!N||!(N instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");w=N}}try{const{data:v,error:g}=await D(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:y,signature:uv(w)},!((f=e.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(p=e.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:pt});if(g)throw g;return!v||!v.session||!v.user?{data:{user:null,session:null},error:new Hs}:(v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("SIGNED_IN",v.session)),{data:Object.assign({},v),error:g})}catch(v){if(z(v))return{data:{user:null,session:null},error:v};throw v}}async _exchangeCodeForSession(e){const r=await nr(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:i,error:o}=await D(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:pt});if(await Tt(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Hs}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(z(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:r,provider:n,token:s,access_token:i,nonce:o}=e,l=await D(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:pt}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new Hs}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(r){if(z(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(e){var r,n,s,i,o;try{if("email"in e){const{email:l,options:c}=e;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Tr(this.storage,this.storageKey));const{error:h}=await D(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in e){const{phone:l,options:c}=e,{data:u,error:d}=await D(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new Gs("You must provide either an email or phone number.")}catch(l){if(z(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(e){var r,n;try{let s,i;"options"in e&&(s=(r=e.options)===null||r===void 0?void 0:r.redirectTo,i=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:l}=await D(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:pt});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,u=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(z(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(e){var r,n,s;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await Tr(this.storage,this.storageKey)),await D(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:Pv})}catch(i){if(z(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new Pt;const{error:s}=await D(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}})}catch(e){if(z(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:s,options:i}=e,{error:o}=await D(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:n,type:s,options:i}=e,{data:o,error:l}=await D(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new Gs("You must provide either an email or phone number and a type")}catch(r){if(z(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await nr(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<qi:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const o=await nr(this.userStorage,this.storageKey+"-user");o!=null&&o.user?e.user=o.user:e.user=Hi()}if(this.storage.isServer&&e.user){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(c,u,d)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,d))})}return{data:{session:e},error:null}}const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await D(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Rt}):await this._useSession(async r=>{var n,s,i;const{data:o,error:l}=r;if(l)throw l;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Pt}:await D(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:Rt})})}catch(r){if(z(r))return rv(r)&&(await this._removeSession(),await Tt(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new Pt;const o=s.session;let l=null,c=null;this.flowType==="pkce"&&e.email!=null&&([l,c]=await Tr(this.storage,this.storageKey));const{data:u,error:d}=await D(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:Rt});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(z(n))return{data:{user:null},error:n};throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Pt;const r=Date.now()/1e3;let n=r,s=!0,i=null;const{payload:o}=Wi(e.access_token);if(o.exp&&(n=o.exp,s=n<=r),s){const{session:l,error:c}=await this._callRefreshToken(e.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:c}=await this._getUser(e.access_token);if(c)throw c;i={access_token:e.access_token,refresh_token:e.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(z(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:o,error:l}=r;if(l)throw l;e=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new Pt;const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(z(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(e,r){try{if(!Qe())throw new Js("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Js(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Bu("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Js("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Bu("No code detected.");const{data:x,error:m}=await this._exchangeCodeForSession(e.code);if(m)throw m;const j=new URL(window.location.href);return j.searchParams.delete("code"),window.history.replaceState(window.history.state,"",j.toString()),{data:{session:x.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:l,expires_at:c,token_type:u}=e;if(!i||!l||!o||!u)throw new Js("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(l);let f=d+h;c&&(f=parseInt(c));const p=f-d;p*1e3<=Or&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${h}s`);const y=f-h;d-y>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",y,f,d):d-y<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",y,f,d);const{data:w,error:v}=await this._getUser(i);if(v)throw v;const g={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:h,expires_at:f,refresh_token:o,token_type:u,user:w.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:g,redirectType:e.type},error:null}}catch(n){if(z(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await nr(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{error:i};const o=(n=s.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:l}=await this.admin.signOut(o,e);if(l&&!(tv(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return e!=="others"&&(await this._removeSession(),await Tt(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const r=hv(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await Tr(this.storage,this.storageKey,!0));try{return await D(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(z(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(r){if(z(r))return{data:null,error:r};throw r}}async linkIdentity(e){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var o,l,c,u,d;const{data:h,error:f}=i;if(f)throw f;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=e.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=e.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await D(this.fetch,"GET",p,{headers:this.headers,jwt:(d=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return Qe()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:e.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(z(n))return{data:{provider:e.provider,url:null},error:n};throw n}}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)throw o;return await D(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(z(r))return{data:null,error:r};throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await pv(async s=>(s>0&&await gv(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await D(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:pt})),(s,i)=>{const o=200*Math.pow(2,s);return i&&Vi(i)&&Date.now()+o-n<Or})}catch(n){if(this._debug(r,"error",n),z(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),Qe()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await nr(this.storage,this.storageKey);if(s&&this.userStorage){let o=await nr(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:s.user},await Lr(this.userStorage,this.storageKey+"-user",o)),s.user=(e=o==null?void 0:o.user)!==null&&e!==void 0?e:Hi()}else if(s&&!s.user&&!s.user){const o=await nr(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(s.user=o.user,await Tt(this.storage,this.storageKey+"-user"),await Lr(this.storage,this.storageKey,s)):s.user=Hi()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const i=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<qi;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${qi}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:o}=await this._callRefreshToken(s.refresh_token);o&&(console.error(o),Vi(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(s.access_token);!l&&(o!=null&&o.user)?(s.user=o.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new Pt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new hi;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new Pt;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={session:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(s,"error",i),z(i)){const o={session:null,error:i};return Vi(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,r,n=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(e,r)}catch(c){i.push(c)}});if(await Promise.all(o),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const r=Object.assign({},e),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Lr(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const i=Gu(s);await Lr(this.storage,this.storageKey,i)}else{const s=Gu(r);await Lr(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await Tt(this.storage,this.storageKey),await Tt(this.storage,this.storageKey+"-code-verifier"),await Tt(this.storage,this.storageKey+"-user"),this.userStorage&&await Tt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Qe()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Or);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-e)/Or);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Or}ms, refresh threshold is ${el} ticks`),s<=el&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof a0)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Qe()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await Tr(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(l.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await D(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(z(r))return{data:null,error:r};throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:c,error:u}=await D(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(e.factorType==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(z(r))return{data:null,error:r};throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{data:null,error:i};const{data:o,error:l}=await D(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:l})})}catch(r){if(z(r))return{data:null,error:r};throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await D(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(z(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){const{data:{user:e},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(e==null?void 0:e.factors)||[],s=n.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=n.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:n,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var r,n;const{data:{session:s},error:i}=e;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=Wi(s.access_token);let l=null;o.aal&&(l=o.aal);let c=l;((n=(r=s.user.factors)===null||r===void 0?void 0:r.filter(h=>h.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const d=o.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(l=>l.kid===e);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(l=>l.kid===e),n&&this.jwks_cached_at+Zy>s)return n;const{data:i,error:o}=await D(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,n=i.keys.find(l=>l.kid===e),!n)?null:n}async getClaims(e,r={}){try{let n=e;if(!n){const{data:p,error:y}=await this.getSession();if(y||!p.session)return{data:null,error:y};n=p.session.access_token}const{header:s,payload:i,signature:o,raw:{header:l,payload:c}}=Wi(n);r!=null&&r.allowExpired||jv(i.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:p}=await this.getUser(n);if(p)throw p;return{data:{claims:i,header:s,signature:o},error:null}}const d=_v(s.alg),h=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,h,o,cv(`${l}.${c}`)))throw new nl("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(n){if(z(n))return{data:null,error:n};throw n}}}xs.nextInstanceID=0;const Uv=xs;class Fv extends Uv{constructor(e){super(e)}}var Bv=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(h){o(h)}}function c(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};class qv{constructor(e,r,n){var s,i,o;if(this.supabaseUrl=e,this.supabaseKey=r,!e)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const l=Gy(e),c=new URL(l);this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const u=`sb-${c.hostname.split(".")[0]}-auth-token`,d={db:Dy,realtime:Fy,auth:Object.assign(Object.assign({},Uy),{storageKey:u}),global:My},h=Jy(n??{},d);this.storageKey=(s=h.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=h.global.headers)!==null&&i!==void 0?i:{},h.accessToken?(this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(f,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=h.auth)!==null&&o!==void 0?o:{},this.headers,h.global.fetch),this.fetch=Wy(r,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.rest=new ay(new URL("rest/v1",c).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),this.storage=new Ry(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),h.accessToken||this._listenForAuthEvents()}get functions(){return new zx(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,r={},n={}){return this.rest.rpc(e,r,n)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,r;return Bv(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:s,storageKey:i,flowType:o,lock:l,debug:c},u,d){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Fv({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),u),storageKey:i,autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:s,flowType:o,lock:l,debug:c,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new ky(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(e,r,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:e==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Vv=(t,e,r)=>new qv(t,e,r);function Wv(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}Wv()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Hv="https://ydlyokoawuivemrqphos.supabase.co",i0="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InlkbHlva29hd3VpdmVtcnFwaG9zIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTYzMDk1NzIsImV4cCI6MjA3MTg4NTU3Mn0.4ME-O1SDgRxEyAIvEgTZXAZX_Zma_vq5O2Dek1GmGTQ",R=Vv(Hv,i0),Gv=()=>!!i0,Jv=({posterId:t,posterImage:e,posterTitle:r,priceLabel:n,onClose:s})=>{const[i,o]=b.useState({customer_name:"",customer_email:"",phone:"",organization:"",notes:""}),[l,c]=b.useState(!1),[u,d]=b.useState(null),h=p=>{const{name:y,value:w}=p.target;o(v=>({...v,[y]:w})),u&&d(null)},f=async p=>{p.preventDefault(),c(!0),d(null),console.log("=== DEBUT PROCESSUS ACHAT ==="),console.log("📝 Poster ID:",t),console.log("👤 Données client:",i);try{if(!i.customer_name.trim())throw new Error("Le nom est requis");if(!i.customer_email.trim())throw new Error("L'email est requis");if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(i.customer_email))throw new Error("Format d'email invalide");console.log("💳 Création du checkout Stripe...");let y,w=!0;try{if(console.log("🔄 Tentative avec fonction Netlify..."),y=await fetch("/.netlify/functions/createCheckout",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({posterId:t,customerData:{customer_name:i.customer_name.trim(),customer_email:i.customer_email.trim(),phone:i.phone.trim()||null,organization:i.organization.trim()||null,notes:i.notes.trim()||null}})}),!y.ok)throw new Error(`Netlify function failed: ${y.status}`);console.log("✅ Fonction Netlify utilisée avec succès")}catch{console.log("⚠️ Fonction Netlify échouée, tentative Supabase..."),w=!1,y=await fetch("https://ydlyokoawuivemrqphos.supabase.co/functions/v1/create-poster-checkout",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InlkbHlva29hd3VpdmVtcnFwaG9zIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTYzMDk1NzIsImV4cCI6MjA3MTg4NTU3Mn0.4ME-O1SDgRxEyAIvEgTZXAZX_Zma_vq5O2Dek1GmGTQ"},body:JSON.stringify({posterId:t,customerData:{customer_name:i.customer_name.trim(),customer_email:i.customer_email.trim(),phone:i.phone.trim()||null,organization:i.organization.trim()||null,notes:i.notes.trim()||null}})}),console.log("📡 Fonction Supabase utilisée")}if(console.log(`📡 Réponse checkout (${w?"Netlify":"Supabase"}):`,y.status),!y.ok){const g=await y.json();throw console.error("❌ Erreur checkout:",g),new Error(g.error||g.details||`Erreur HTTP ${y.status}`)}const v=await y.json();if(console.log("✅ Checkout créé:",v),v.url)console.log("🚀 Redirection vers Stripe:",v.url),window.location.href=v.url;else throw new Error("URL de checkout manquante")}catch(y){console.error("❌ Erreur processus achat:",y);const w=y instanceof Error?y.message:"Une erreur inconnue est survenue";d(w),console.error("=== DIAGNOSTIC ERREUR PAIEMENT ==="),console.error("🆔 Poster ID:",t),console.error("📝 Form Data:",i),console.error("🌐 Supabase URL:","https://ydlyokoawuivemrqphos.supabase.co"),console.error("🔑 Supabase Key:","Configurée"),console.error("❌ Error object:",y),w.includes("fetch")?d("Problème de connexion. Vérifiez votre configuration Supabase."):w.includes("404")?d("Fonction de paiement non trouvée. Les Edge Functions doivent être déployées."):(w.includes("401")||w.includes("403"))&&d("Problème d'authentification. Vérifiez vos clés API Supabase.")}finally{c(!1)}};return a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm p-2 sm:p-0",children:a.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-2xl shadow-2xl w-full max-w-3xl mx-2 sm:mx-4 max-h-[95vh] sm:max-h-none overflow-y-auto sm:overflow-hidden",children:[a.jsxs("div",{className:"flex items-center justify-between p-3 sm:p-4 border-b border-gray-200 dark:border-gray-800",children:[a.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 min-w-0 flex-1",children:[a.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 bg-gradient-to-r from-blue-600 to-purple-600 rounded-full flex items-center justify-center text-white flex-shrink-0",children:a.jsx(Ma,{className:"w-4 h-4 sm:w-5 sm:h-5"})}),a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("p",{className:"text-xs sm:text-sm text-gray-500 dark:text-gray-400",children:"Achat d'affiche"}),a.jsx("h3",{className:"text-sm sm:text-lg font-semibold text-gray-900 dark:text-white truncate",children:r||"Affiche"})]})]}),a.jsx("button",{onClick:s,className:"p-1 sm:p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800 text-gray-600 dark:text-gray-300 flex-shrink-0",children:a.jsx(at,{className:"w-4 h-4 sm:w-5 sm:h-5"})})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-0",children:[a.jsxs("div",{className:"p-3 sm:p-4 border-b md:border-b-0 md:border-r border-gray-200 dark:border-gray-800",children:[a.jsx("div",{className:"rounded-xl overflow-hidden shadow-lg",children:e?a.jsx("img",{src:e,alt:r,className:"w-full aspect-[4/5] object-cover"}):a.jsx("div",{className:"w-full aspect-[4/5] bg-gradient-to-br from-blue-100 to-purple-100 dark:from-blue-900/20 dark:to-purple-900/20"})}),a.jsxs("div",{className:"mt-3 sm:mt-4",children:[a.jsxs("div",{className:"text-xs sm:text-sm text-gray-500 dark:text-gray-400 flex items-center gap-2",children:[a.jsx(ix,{className:"w-3 h-3 sm:w-4 sm:h-4"}),a.jsx("span",{className:"hidden sm:inline",children:"Processus d'achat en 3 étapes"}),a.jsx("span",{className:"sm:hidden",children:"3 étapes"})]}),a.jsxs("ol",{className:"mt-2 sm:mt-3 space-y-1 sm:space-y-2 text-xs sm:text-sm text-gray-700 dark:text-gray-300",children:[a.jsxs("li",{children:[a.jsx("span",{className:"hidden sm:inline",children:"1. Remplissez vos informations"}),a.jsx("span",{className:"sm:hidden",children:"1. Vos infos"})]}),a.jsxs("li",{children:[a.jsxs("span",{className:"hidden sm:inline",children:["2. Payez en toute sécurité (",n,")"]}),a.jsxs("span",{className:"sm:hidden",children:["2. Paiement (",n,")"]})]}),a.jsxs("li",{children:[a.jsx("span",{className:"hidden sm:inline",children:"3. Recevez instantanément le lien Canva par email"}),a.jsx("span",{className:"sm:hidden",children:"3. Email + Canva"})]})]})]})]}),a.jsxs("form",{onSubmit:f,className:"p-3 sm:p-4 space-y-3 sm:space-y-4",children:[u&&a.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-3",children:a.jsxs("p",{className:"text-red-700 dark:text-red-400 text-sm font-medium",children:["❌ ",u]})}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-xs sm:text-sm text-gray-600 dark:text-gray-300 mb-1",children:["Nom complet ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{name:"customer_name",value:i.customer_name,onChange:h,required:!0,className:"w-full px-3 sm:px-4 py-2 sm:py-3 pl-9 sm:pl-11 rounded-xl border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 text-sm sm:text-base",placeholder:"Votre nom complet"}),a.jsx(Cf,{className:"w-3 h-3 sm:w-4 sm:h-4 absolute left-2 sm:left-3 top-1/2 -translate-y-1/2 text-gray-400"})]})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-xs sm:text-sm text-gray-600 dark:text-gray-300 mb-1",children:["Email ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{name:"customer_email",type:"email",value:i.customer_email,onChange:h,required:!0,className:"w-full px-3 sm:px-4 py-2 sm:py-3 pl-9 sm:pl-11 rounded-xl border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 text-sm sm:text-base",placeholder:"vous@email.fr"}),a.jsx(ps,{className:"w-3 h-3 sm:w-4 sm:h-4 absolute left-2 sm:left-3 top-1/2 -translate-y-1/2 text-gray-400"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs sm:text-sm text-gray-600 dark:text-gray-300 mb-1",children:"Téléphone (optionnel)"}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{name:"phone",value:i.phone,onChange:h,className:"w-full px-3 sm:px-4 py-2 sm:py-3 pl-9 sm:pl-11 rounded-xl border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 text-sm sm:text-base",placeholder:"06 XX XX XX XX"}),a.jsx(ii,{className:"w-3 h-3 sm:w-4 sm:h-4 absolute left-2 sm:left-3 top-1/2 -translate-y-1/2 text-gray-400"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs sm:text-sm text-gray-600 dark:text-gray-300 mb-1",children:"Organisation (optionnel)"}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{name:"organization",value:i.organization,onChange:h,className:"w-full px-3 sm:px-4 py-2 sm:py-3 pl-9 sm:pl-11 rounded-xl border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 text-sm sm:text-base",placeholder:"Votre entreprise/organisation"}),a.jsx(Jp,{className:"w-3 h-3 sm:w-4 sm:h-4 absolute left-2 sm:left-3 top-1/2 -translate-y-1/2 text-gray-400"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs sm:text-sm text-gray-600 dark:text-gray-300 mb-1",children:"Notes pour votre commande (optionnel)"}),a.jsx("textarea",{name:"notes",value:i.notes,onChange:h,rows:3,className:"w-full px-3 sm:px-4 py-2 sm:py-3 rounded-xl border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 text-sm sm:text-base resize-none",placeholder:"Informations supplémentaires sur votre événement..."})]}),a.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-3",children:a.jsxs("p",{className:"text-xs sm:text-sm text-blue-700 dark:text-blue-300",children:[a.jsx("strong",{children:"📧 Après paiement :"})," Vous recevrez immédiatement un email avec votre lien Canva et votre facture."]})}),a.jsx(A,{type:"submit",disabled:l||!i.customer_name.trim()||!i.customer_email.trim(),className:"w-full bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white py-2 sm:py-3 text-sm sm:text-base",children:l?a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Traitement..."]}):`Procéder au paiement (${n})`})]})]})]})})},Kv=()=>{var uc;const[t,e]=b.useState([]),[r,n]=b.useState([]),[s,i]=b.useState([]),[o,l]=b.useState(!0),[c,u]=b.useState(null),[d,h]=b.useState(0),[f,p]=b.useState([]),[y,w]=b.useState(""),[v,g]=b.useState({name:"",email:"",phone:"",project:""}),[x,m]=b.useState(!1),[j,k]=b.useState(!1),[N,S]=b.useState(!1),[_,I]=b.useState(null),[O,V]=b.useState(4),[W,oe]=b.useState(4);b.useEffect(()=>{it()},[]),b.useEffect(()=>{if(r.length>2){const L=setInterval(()=>{h(B=>B>=r.length-2?0:B+1)},5e3);return()=>clearInterval(L)}},[r.length]);const it=async()=>{let L=null;try{const[B,be,Ee]=await Promise.all([R.from("posters").select(`
            *,
            category:categories(*)
          `).eq("is_published",!0).order("created_at",{ascending:!1}),R.from("posters").select(`
            *,
            category:categories(*)
          `).eq("is_published",!0).eq("is_featured",!0).order("created_at",{ascending:!1}).limit(4),R.from("categories").select("*").order("name")]);if(L=B,L.error)throw L.error;if(Ee.error)throw Ee.error;e(L.data||[]),i(Ee.data||[]),be.data&&be.data.length>0?n(be.data):n((L.data||[]).slice(0,4))}catch(B){console.error("Error loading data:",B);const be=((L==null?void 0:L.data)||[]).slice(0,4);n(be)}finally{l(!1)}},tr=(L,B)=>{p(L),w(B),B.trim()&&u(null)},_r=y.trim()?f:c?t.filter(L=>L.category_id===c):t,xn=s.slice(0,O),T=_r.slice(0,W),$=s.length>O,M=_r.length>W,Y=()=>{V(L=>L+4)},se=()=>{V(4)},Nr=()=>{oe(L=>L+4)},gt=()=>{oe(4)};b.useEffect(()=>{oe(4)},[c]);const yn=async L=>{L.preventDefault(),m(!0);try{await new Promise(B=>setTimeout(B,1e3)),k(!0),g({name:"",email:"",phone:"",project:""})}catch(B){console.error("Error sending message:",B),alert("Erreur lors de l'envoi. Veuillez réessayer.")}finally{m(!1)}},Ue=L=>{const{name:B,value:be}=L.target;g(Ee=>({...Ee,[B]:be}))},Sr=()=>{t.length>2&&h(L=>L>=t.length-2?0:L+1)},c0=()=>{t.length>2&&h(L=>L===0?t.length-2:L-1)},lc=L=>{I(L),S(!0)},cc=(L,B)=>{const be=d+B;if(be>=r.length)return null;const Ee=r[be];return a.jsx("div",{className:"group relative w-40 sm:w-56 lg:w-64 h-52 sm:h-72 lg:h-80 rounded-lg shadow-xl overflow-hidden transition-all duration-500 hover:scale-105",children:a.jsxs("div",{className:"w-full h-full relative",children:[Ee.image_url?a.jsx("img",{src:Ee.image_url,alt:Ee.title||"Affiche",className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-700"}):a.jsx("div",{className:"w-full h-full flex items-center justify-center",style:{background:"linear-gradient(to bottom right, #3B82F6, #1E40AF)"},children:a.jsx("span",{className:"text-white text-4xl",children:"📄"})}),a.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/80 via-black/40 to-transparent p-2 sm:p-4 transform translate-y-full group-hover:translate-y-0 transition-transform duration-300",children:a.jsxs("div",{className:"flex items-center justify-between gap-2",children:[a.jsx("span",{className:"text-white text-sm sm:text-lg font-semibold truncate",children:fi(Ee.price_cents,Ee.currency)}),a.jsxs(A,{onClick:()=>lc(Ee),size:"sm",className:"bg-white text-gray-900 hover:bg-gray-100 border-0 flex-shrink-0 px-2 sm:px-3 py-1 sm:py-2",children:[a.jsx(Ma,{className:"w-3 h-3 sm:w-4 sm:h-4 sm:mr-2"}),a.jsx("span",{className:"hidden sm:inline ml-1 sm:ml-0",children:"Acheter"})]})]})})]})},Ee.id)},fi=(L,B)=>new Intl.NumberFormat("fr-FR",{style:"currency",currency:B}).format(L/100),u0=(L,B)=>{const be=["bg-gradient-to-br from-blue-500 to-blue-600","bg-gradient-to-br from-emerald-500 to-teal-600","bg-gradient-to-br from-purple-500 to-violet-600","bg-gradient-to-br from-orange-500 to-red-500","bg-gradient-to-br from-pink-500 to-rose-600","bg-gradient-to-br from-indigo-500 to-blue-600","bg-gradient-to-br from-green-500 to-emerald-600","bg-gradient-to-br from-yellow-500 to-orange-500","bg-gradient-to-br from-cyan-500 to-blue-500","bg-gradient-to-br from-red-500 to-pink-500","bg-gradient-to-br from-violet-500 to-purple-600","bg-gradient-to-br from-teal-500 to-cyan-600","bg-gradient-to-br from-amber-500 to-orange-600","bg-gradient-to-br from-lime-500 to-green-600","bg-gradient-to-br from-fuchsia-500 to-pink-600","bg-gradient-to-br from-slate-500 to-gray-600"],dc={Calendar:{icon:Ra,colorIndex:0},Star:{icon:en,colorIndex:1},Sparkles:{icon:vx,colorIndex:2},Heart:{icon:ax,colorIndex:3},PartyPopper:{icon:mx,colorIndex:4},Moon:{icon:If,colorIndex:5},Zap:{icon:_x,colorIndex:6},BookOpen:{icon:Hp,colorIndex:7},GraduationCap:{icon:sx,colorIndex:8},Users:{icon:Lf,colorIndex:9},Gift:{icon:nx,colorIndex:10},FileText:{icon:Cf,colorIndex:11},Magnet:{icon:ux,colorIndex:12},Crown:{icon:rx,colorIndex:13},Music:{icon:hx,colorIndex:14},Folder:{icon:Wn,colorIndex:15}}[L]||{icon:en,colorIndex:0},hc=be[dc.colorIndex%be.length];return{icon:dc.icon,color:B?`${hc} shadow-lg scale-110`:`${hc} hover:scale-105`}};return a.jsxs(a.Fragment,{children:[a.jsx(oi,{title:"Yad La'Shlouhim - Affiches Communautaires Juives Design",description:"🎨 Templates Canva professionnels pour événements juifs : Shabbat, fêtes, Bar Mitzvah. ⚡ Accès immédiat, personnalisation facile. 📍 Communauté juive Paris & France.",keywords:"affiches juives, templates canva, événements communautaires, shabbat, fêtes juives, invitations, design, personnalisation, communauté juive, paris, bar mitzvah, roch hachana, kippour, hanoucca, pessah, pourim, lag baomer, chavouot, souccot",url:typeof window<"u"?window.location.href:void 0}),a.jsx(mt,{type:"organization",data:{services:["Templates d'affiches Canva","Design graphique communautaire","Personnalisation d'événements juifs","Communication visuelle religieuse"]}}),a.jsx(mt,{type:"website",data:{searchAction:!0,mainEntity:{"@type":"ItemList",name:"Catégories d'affiches",numberOfItems:s.length,itemListElement:s.slice(0,5).map((L,B)=>({"@type":"Thing",position:B+1,name:L.name,url:`https://yad-lashlouhim.com/#${L.slug}`}))}}}),r.length>0&&a.jsx(mt,{type:"product",data:{name:"Collection d'affiches communautaires juives",description:"Templates Canva professionnels pour tous vos événements communautaires",image:(uc=r[0])==null?void 0:uc.image_url,price_cents:3800,currency:"EUR",url:"https://yad-lashlouhim.com/",brand:"Yad La'Shlouhim",category:"Design graphique",availability:"InStock"}}),a.jsxs("div",{className:"min-h-screen bg-white dark:bg-gray-900 transition-colors duration-200",children:[a.jsx("section",{id:"hero",className:"py-12 sm:py-16 lg:py-20 animate-fade-in",children:a.jsx(re,{children:a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 sm:gap-12 lg:gap-16 items-center",children:[a.jsxs("div",{className:"text-center lg:text-left px-4 sm:px-0",children:[a.jsxs("h1",{className:"text-4xl sm:text-5xl md:text-6xl lg:text-7xl font-bold mb-4 sm:mb-6 leading-tight",children:[a.jsx("span",{className:"text-gray-900 dark:text-white block sm:inline",children:"Yad"})," ",a.jsx("span",{className:"bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent block sm:inline",children:"La'Shlouhim"})]}),a.jsx("p",{className:"text-lg sm:text-xl text-gray-600 dark:text-gray-300 leading-relaxed max-w-lg mx-auto lg:mx-0",children:"+ de 150 modèles d'affiches personnalisables avec Canva en quelques secondes"})]}),a.jsxs("div",{className:"flex flex-col items-center",children:[a.jsxs("div",{className:"text-center mb-12",children:[a.jsxs("div",{className:"inline-block",children:[a.jsx("h2",{className:"text-2xl lg:text-3xl font-bold bg-gradient-to-r from-blue-600 via-purple-600 to-pink-600 bg-clip-text text-transparent mb-4",children:"Les affiches du moment"}),a.jsx("div",{className:"w-full h-1 bg-gradient-to-r from-blue-500 via-purple-500 to-pink-500 rounded-full shadow-lg"})]}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-4 text-lg",children:"Découvrez nos créations les plus récentes"})]}),o?a.jsxs("div",{className:"flex gap-2 sm:gap-4 lg:gap-8 justify-center",children:[a.jsx("div",{className:"w-40 sm:w-56 lg:w-80 h-52 sm:h-72 lg:h-96 bg-gray-200 dark:bg-gray-700 animate-pulse rounded-lg"}),a.jsx("div",{className:"w-40 sm:w-56 lg:w-80 h-52 sm:h-72 lg:h-96 bg-gray-200 dark:bg-gray-700 animate-pulse rounded-lg"})]}):r.length>0?a.jsxs("div",{className:"relative",children:[r.length>2&&a.jsxs(a.Fragment,{children:[a.jsx("button",{onClick:c0,className:"absolute left-0 top-1/2 transform -translate-y-1/2 -translate-x-6 sm:-translate-x-12 z-10 w-8 h-8 sm:w-10 sm:h-10 bg-white dark:bg-gray-800 rounded-full shadow-lg flex items-center justify-center hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors duration-200",children:a.jsx(Qp,{className:"w-4 h-4 sm:w-5 sm:h-5 text-gray-600 dark:text-gray-300"})}),a.jsx("button",{onClick:Sr,className:"absolute right-0 top-1/2 transform -translate-y-1/2 translate-x-6 sm:translate-x-12 z-10 w-8 h-8 sm:w-10 sm:h-10 bg-white dark:bg-gray-800 rounded-full shadow-lg flex items-center justify-center hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors duration-200",children:a.jsx(Yp,{className:"w-4 h-4 sm:w-5 sm:h-5 text-gray-600 dark:text-gray-300"})})]}),a.jsxs("div",{className:"flex gap-2 sm:gap-4 lg:gap-6 justify-center",children:[cc(r[0],0),r.length>1&&cc(r[1],1)]}),r.length>2&&a.jsx("div",{className:"flex justify-center gap-2 mt-6",children:Array.from({length:Math.ceil(r.length/2)},(L,B)=>a.jsx("button",{onClick:()=>h(B*2),className:`w-3 h-3 rounded-full transition-colors duration-200 ${Math.floor(d/2)===B?"bg-blue-600":"bg-gray-300 dark:bg-gray-600"}`},B))})]}):a.jsx("div",{className:"text-center text-gray-500 dark:text-gray-400",children:a.jsx("p",{children:"Aucune affiche disponible pour le moment"})})]})]})})}),a.jsx("section",{className:"py-12 bg-white dark:bg-gray-900",children:a.jsx(re,{children:a.jsx("div",{className:"text-center",children:a.jsxs(A,{onClick:()=>{const L=document.querySelector("#gallery");L&&L.scrollIntoView({behavior:"smooth",block:"start"})},size:"lg",className:"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white border-0 px-8 py-4 text-lg font-semibold shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-300",children:[a.jsx(vr,{className:"w-6 h-6 mr-3"}),"Découvrir nos affiches"]})})})}),a.jsx("section",{id:"how-it-works",className:"py-20 bg-white dark:bg-gray-900",children:a.jsxs(re,{children:[a.jsx("div",{className:"text-center mb-16",children:a.jsx("h2",{className:"text-4xl lg:text-5xl font-bold bg-gradient-to-r from-purple-600 via-pink-600 to-red-600 bg-clip-text text-transparent mb-4",children:"Comment ça marche ?"})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[a.jsxs("div",{className:"text-center group",children:[a.jsx("div",{className:"relative mb-6",children:a.jsx("div",{className:"w-20 h-20 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full flex items-center justify-center mx-auto mb-4 transform group-hover:scale-110 transition-transform duration-300",children:a.jsx("span",{className:"text-white text-2xl font-bold",children:"1"})})}),a.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-4",children:"Choisissez votre affiche"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400 leading-relaxed",children:"Parcourez notre galerie et sélectionnez l'affiche qui correspond à votre événement"})]}),a.jsxs("div",{className:"text-center group",children:[a.jsx("div",{className:"relative mb-6",children:a.jsx("div",{className:"w-20 h-20 bg-gradient-to-r from-purple-500 to-pink-600 rounded-full flex items-center justify-center mx-auto mb-4 transform group-hover:scale-110 transition-transform duration-300",children:a.jsx("span",{className:"text-white text-2xl font-bold",children:"2"})})}),a.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-4",children:"Achetez et personnalisez"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400 leading-relaxed",children:"Effectuez votre achat sécurisé et recevez immédiatement le lien Canva pour personnaliser"})]}),a.jsxs("div",{className:"text-center group",children:[a.jsx("div",{className:"relative mb-6",children:a.jsx("div",{className:"w-20 h-20 bg-gradient-to-r from-pink-500 to-red-600 rounded-full flex items-center justify-center mx-auto mb-4 transform group-hover:scale-110 transition-transform duration-300",children:a.jsx("span",{className:"text-white text-2xl font-bold",children:"3"})})}),a.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-4",children:"Téléchargez et partagez"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400 leading-relaxed",children:"Personnalisez sur Canva, téléchargez en haute qualité et partagez votre création"})]})]}),a.jsxs("div",{className:"mt-16 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 hidden md:grid",children:[a.jsxs("div",{className:"text-center p-6 bg-white dark:bg-gray-900 rounded-xl hover:shadow-lg transition-shadow duration-300",children:[a.jsx("div",{className:"w-12 h-12 bg-blue-100 dark:bg-blue-900/20 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx("span",{className:"text-2xl",children:"⚡"})}),a.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white mb-2",children:"Accès instantané"}),a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Lien Canva envoyé immédiatement"})]}),a.jsxs("div",{className:"text-center p-6 bg-white dark:bg-gray-900 rounded-xl hover:shadow-lg transition-shadow duration-300",children:[a.jsx("div",{className:"w-12 h-12 bg-green-100 dark:bg-green-900/20 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx("span",{className:"text-2xl",children:"🎨"})}),a.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white mb-2",children:"Personnalisation facile"}),a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Interface Canva intuitive"})]}),a.jsxs("div",{className:"text-center p-6 bg-white dark:bg-gray-900 rounded-xl hover:shadow-lg transition-shadow duration-300",children:[a.jsx("div",{className:"w-12 h-12 bg-purple-100 dark:bg-purple-900/20 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx("span",{className:"text-2xl",children:"📐"})}),a.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white mb-2",children:"Mise en page préservée"}),a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Design professionnel garanti"})]}),a.jsxs("div",{className:"text-center p-6 bg-white dark:bg-gray-900 rounded-xl hover:shadow-lg transition-shadow duration-300",children:[a.jsx("div",{className:"w-12 h-12 bg-orange-100 dark:bg-orange-900/20 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx("span",{className:"text-2xl",children:"💫"})}),a.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white mb-2",children:"Qualité premium"}),a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Résolution haute définition"})]})]})]})}),a.jsx("section",{id:"gallery",className:"py-12 sm:py-16 lg:py-20 bg-gray-50 dark:bg-gray-800",children:a.jsxs(re,{children:[a.jsxs("div",{className:"mb-12 sm:mb-16",children:[a.jsx("h2",{className:"text-3xl sm:text-4xl lg:text-5xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent text-center mb-6 sm:mb-8 px-4 sm:px-0",children:"Nos affiches"}),a.jsx("div",{className:"mb-8 sm:mb-12",children:a.jsx(Ix,{posters:t,categories:s,onSearch:tr,placeholder:"Rechercher une affiche, catégorie..."})}),y.trim()&&a.jsx("div",{className:"text-center mb-8",children:a.jsxs("div",{className:"inline-flex items-center gap-2 bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-300 px-4 py-2 rounded-full text-sm font-medium",children:[a.jsx("span",{children:"🔍"}),a.jsxs("span",{children:[f.length," résultat",f.length>1?"s":"",' pour "',y,'"']}),a.jsx("button",{onClick:()=>tr([],""),className:"ml-2 hover:bg-blue-100 dark:hover:bg-blue-800 rounded-full p-1 transition-colors",children:a.jsx("span",{className:"text-xs",children:"✕"})})]})}),!y.trim()&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex flex-wrap justify-center gap-4 sm:gap-6 lg:gap-8 px-4 sm:px-0",children:[a.jsxs("div",{className:`flex flex-col items-center gap-2 sm:gap-3 cursor-pointer group transition-all duration-300 ${c?"hover:scale-105":"scale-110"}`,onClick:()=>u(null),children:[a.jsx("div",{className:`w-16 h-16 sm:w-18 sm:h-18 lg:w-20 lg:h-20 rounded-full flex items-center justify-center text-white text-xl sm:text-2xl shadow-lg transition-all duration-300 ${c?"bg-gradient-to-br from-gray-400 to-gray-500 hover:scale-105":"bg-gradient-to-br from-purple-500 to-indigo-600 shadow-xl scale-110"}`,children:a.jsx(vr,{className:"w-6 h-6 sm:w-7 sm:h-7 lg:w-8 lg:h-8"})}),a.jsx("span",{className:"text-xs sm:text-sm font-medium text-gray-700 dark:text-gray-300 text-center max-w-16 sm:max-w-20",children:"Toutes"})]}),xn.map(L=>{const{icon:B,color:be}=u0(L.icon,c===L.id);return a.jsxs("div",{className:`flex flex-col items-center gap-2 sm:gap-3 cursor-pointer group transition-all duration-300 ${c===L.id?"scale-110":"hover:scale-105"}`,onClick:()=>u(L.id),children:[a.jsx("div",{className:`w-16 h-16 sm:w-18 sm:h-18 lg:w-20 lg:h-20 ${be} rounded-full flex items-center justify-center text-white transition-all duration-300`,children:a.jsx(B,{className:"w-6 h-6 sm:w-7 sm:h-7 lg:w-8 lg:h-8"})}),a.jsx("span",{className:"text-xs sm:text-sm font-medium text-gray-700 dark:text-gray-300 text-center max-w-16 sm:max-w-20",children:L.name})]},L.id)})]}),a.jsxs("div",{className:"flex justify-center gap-4 mt-8",children:[$&&a.jsx(A,{onClick:Y,variant:"outline",className:"bg-white dark:bg-gray-800 border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700",children:"Voir plus de catégories"}),O>4&&a.jsx(A,{onClick:se,variant:"outline",className:"bg-white dark:bg-gray-800 border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700",children:"Voir moins"})]})]})]}),o?a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8",children:Array.from({length:8},(L,B)=>a.jsx("div",{className:"animate-pulse",children:a.jsx("div",{className:"bg-gray-200 dark:bg-gray-700 rounded-2xl aspect-[4/5]"})},B))}):y.trim()&&f.length===0?a.jsxs("div",{className:"text-center py-20",children:[a.jsx("div",{className:"text-gray-400 mb-4",children:a.jsx("span",{className:"text-6xl opacity-30",children:"🔍"})}),a.jsx("h3",{className:"text-2xl font-bold text-gray-600 dark:text-gray-400 mb-2",children:"Aucun résultat trouvé"}),a.jsxs("p",{className:"text-gray-500 dark:text-gray-500 mb-6",children:['Aucune affiche trouvée pour "',y,'"']}),a.jsxs("div",{className:"space-y-3 text-sm text-gray-400",children:[a.jsx("p",{children:"💡 Conseils de recherche :"}),a.jsxs("div",{className:"flex flex-wrap justify-center gap-4 max-w-md mx-auto",children:[a.jsx("span",{className:"bg-gray-100 dark:bg-gray-700 px-3 py-1 rounded-full",children:"Vérifiez l'orthographe"}),a.jsx("span",{className:"bg-gray-100 dark:bg-gray-700 px-3 py-1 rounded-full",children:"Utilisez des mots-clés simples"}),a.jsx("span",{className:"bg-gray-100 dark:bg-gray-700 px-3 py-1 rounded-full",children:"Essayez une catégorie"})]})]}),a.jsx("div",{className:"mt-8",children:a.jsx(A,{onClick:()=>tr([],""),variant:"secondary",children:"Voir toutes les affiches"})})]}):T.length>0?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 sm:gap-6 lg:gap-8 px-4 sm:px-0",children:T.map(L=>a.jsx("div",{className:"group relative overflow-hidden rounded-2xl shadow-lg hover:shadow-2xl transition-all duration-500 transform hover:scale-105",children:a.jsxs("div",{className:"relative aspect-[4/5] overflow-hidden",children:[L.image_url?a.jsx("img",{src:L.image_url,alt:L.title,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-700"}):a.jsx("div",{className:"w-full h-full bg-gradient-to-br from-blue-100 to-purple-100 dark:from-blue-900/20 dark:to-purple-900/20 flex items-center justify-center",children:a.jsx("span",{className:"text-4xl opacity-50",children:"📄"})}),a.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/80 via-black/40 to-transparent p-4 transform translate-y-full group-hover:translate-y-0 transition-transform duration-300",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-white text-lg font-semibold",children:fi(L.price_cents,L.currency)}),a.jsxs(A,{onClick:()=>lc(L),size:"sm",className:"bg-white text-gray-900 hover:bg-gray-100 border-0",children:[a.jsx(Ma,{className:"w-4 h-4 mr-2"}),"Acheter"]})]})})]})},L.id))}),a.jsxs("div",{className:"flex justify-center gap-4 mt-12",children:[M&&a.jsxs(A,{onClick:Nr,size:"lg",className:"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white border-0",children:[a.jsx(Ef,{className:"w-5 h-5 mr-2"}),"Voir plus d'affiches"]}),W>4&&a.jsx(A,{onClick:gt,size:"lg",variant:"outline",className:"border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700",children:"Voir moins"})]})]}):a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"text-gray-400 dark:text-gray-600 mb-4",children:a.jsx("div",{className:"w-24 h-24 mx-auto bg-gray-100 dark:bg-gray-800 rounded-full flex items-center justify-center mb-4",children:"📋"})}),a.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"Aucune affiche trouvée"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Essayez de modifier vos filtres ou votre recherche."})]})]})}),a.jsx("section",{id:"contact",className:"py-20 bg-white dark:bg-gray-900",children:a.jsx(re,{children:a.jsxs("div",{className:"max-w-6xl mx-auto",children:[a.jsxs("div",{className:"text-center mb-16",children:[a.jsxs("h2",{className:"text-4xl lg:text-5xl font-bold text-gray-900 dark:text-white mb-4",children:["Parlons de votre"," ",a.jsx("span",{className:"text-blue-500",children:"Projet"})]}),a.jsx("p",{className:"text-xl text-gray-600 dark:text-gray-400 max-w-3xl mx-auto",children:"Transformons vos idées en réalité avec des créations exceptionnelles"})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-16",children:[a.jsxs("div",{className:"space-y-8",children:[a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx("div",{className:"w-12 h-12 bg-blue-100 dark:bg-blue-900/20 rounded-full flex items-center justify-center flex-shrink-0",children:a.jsx(ps,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-semibold text-gray-900 dark:text-white text-lg",children:"Yad-lashlouhim770@gmail.com"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm",children:"Réponse garantie sous 2h"})]})]}),a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx("div",{className:"w-12 h-12 bg-green-100 dark:bg-green-900/20 rounded-full flex items-center justify-center flex-shrink-0",children:a.jsx(ii,{className:"w-6 h-6 text-green-600 dark:text-green-400"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-semibold text-gray-900 dark:text-white text-lg",children:"+33 6 67 28 88 51"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm",children:"WhatsApp disponible"})]})]}),a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx("div",{className:"w-12 h-12 bg-purple-100 dark:bg-purple-900/20 rounded-full flex items-center justify-center flex-shrink-0",children:a.jsx(Pf,{className:"w-6 h-6 text-purple-600 dark:text-purple-400"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-semibold text-gray-900 dark:text-white text-lg",children:"France"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm",children:"Livraison dans toute la France"})]})]}),a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx("div",{className:"w-12 h-12 bg-orange-100 dark:bg-orange-900/20 rounded-full flex items-center justify-center flex-shrink-0",children:a.jsx("span",{className:"text-2xl",children:"⚡"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-semibold text-gray-900 dark:text-white text-lg",children:"Réponds instantanément"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm",children:"Service disponible 24h/24"})]})]})]}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-lg p-8 border border-gray-100 dark:border-gray-700",children:[a.jsxs("form",{onSubmit:yn,className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Nom complet"}),a.jsx("input",{type:"text",name:"name",value:v.name,onChange:Ue,className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-xl bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200",placeholder:"Votre nom et prénom",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Email"}),a.jsx("input",{type:"email",name:"email",value:v.email,onChange:Ue,className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-xl bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200",placeholder:"votre@email.fr",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Téléphone"}),a.jsx("input",{type:"tel",name:"phone",value:v.phone,onChange:Ue,className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-xl bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200",placeholder:"01 XX XX XX XX"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Votre projet"}),a.jsx("textarea",{name:"project",value:v.project,onChange:Ue,rows:5,className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-xl bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200",placeholder:"Décrivez votre événement, le type d'affiche souhaité...",required:!0})]}),a.jsx(A,{type:"submit",loading:x,icon:px,size:"lg",className:"w-full bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white border-0",children:"Envoyer ma demande"})]}),j&&a.jsx("div",{className:"mt-6 p-4 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-xl",children:a.jsx("p",{className:"text-green-700 dark:text-green-400 font-medium text-center",children:"✅ Demande envoyée avec succès ! Nous vous répondrons rapidement."})})]})]})]})})}),a.jsx("section",{className:"py-16 bg-gray-50 dark:bg-gray-800",children:a.jsx(re,{children:a.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[a.jsx("h2",{className:"text-3xl lg:text-4xl font-bold text-gray-900 dark:text-white mb-6",children:"Questions fréquentes"}),a.jsx("p",{className:"text-xl text-gray-600 dark:text-gray-400 mb-12",children:"Trouvez rapidement les réponses à vos questions sur nos affiches Canva"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 mb-12",children:[a.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-xl p-6 text-left",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-3",children:"Comment fonctionne le paiement ?"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Paiement 100% sécurisé via Stripe. Accès immédiat à votre modèle Canva après validation."})]}),a.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-xl p-6 text-left",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-3",children:"Puis-je personnaliser les modèles ?"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Oui ! Tous nos modèles sont 100% personnalisables : textes, couleurs, polices, images."})]}),a.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-xl p-6 text-left",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-3",children:"Quel est le délai de livraison ?"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Accès instantané ! Votre lien Canva est envoyé immédiatement après le paiement."})]}),a.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-xl p-6 text-left",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-3",children:"Puis-je réutiliser le modèle ?"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Bien sûr ! Usage illimité de votre modèle pour tous vos événements."})]})]}),a.jsx(nt,{to:"/faq",children:a.jsxs(A,{variant:"outline",size:"lg",children:[a.jsx(ai,{className:"w-5 h-5 mr-2"}),"Voir toutes les questions"]})})]})})}),N&&_&&a.jsx(Jv,{posterId:_.id,posterImage:_.image_url,posterTitle:_.title,priceLabel:fi(_.price_cents,_.currency),onClose:()=>S(!1)})]})]})},Qv=({purchase:t,sessionId:e})=>{const[r,n]=b.useState(!1),[s,i]=b.useState(!1),[o,l]=b.useState(!1),c=async()=>{try{await navigator.clipboard.writeText(t.canva_link),l(!0),setTimeout(()=>l(!1),2e3)}catch(h){console.error("Failed to copy:",h)}},u=()=>{const h="+33667288851",f=`Bonjour Yad La'Shlouhim ! 👋

Je viens de commander l'affiche "${t.poster_title}" et j'aimerais faire appel à vos services de personnalisation professionnelle.

Pouvez-vous m'aider à l'adapter selon mes besoins spécifiques ?

Merci ! 😊`,p=encodeURIComponent(f),y=`https://wa.me/${h.replace(/\s+/g,"")}?text=${p}`;window.open(y,"_blank")},d=async()=>{i(!0);try{let h;try{h=await fetch("/.netlify/functions/sendPurchaseEmail",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sessionId:e})})}catch{console.log("Netlify function failed, trying Supabase edge function..."),h=await fetch("https://ydlyokoawuivemrqphos.supabase.co/functions/v1/send-purchase-email",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InlkbHlva29hd3VpdmVtcnFwaG9zIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTYzMDk1NzIsImV4cCI6MjA3MTg4NTU3Mn0.4ME-O1SDgRxEyAIvEgTZXAZX_Zma_vq5O2Dek1GmGTQ"},body:JSON.stringify({sessionId:e})})}if(h.ok)n(!0);else{const f=await h.json();throw new Error(f.error||"Email sending failed")}}catch(h){console.error("Email sending failed:",h),alert(`Erreur lors de l'envoi de l'email: ${h.message}`)}finally{i(!1)}};return a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-2xl p-8 max-w-2xl mx-auto",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("div",{className:"w-16 h-16 bg-green-100 dark:bg-green-900/20 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx(Ve,{className:"w-8 h-8 text-green-600 dark:text-green-400"})}),a.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"Paiement confirmé ✅"}),a.jsxs("p",{className:"text-xl text-gray-600 dark:text-gray-400",children:["Voici votre lien Canva pour ",a.jsx("strong",{children:t.poster_title})]})]}),a.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 dark:from-blue-900/10 dark:to-purple-900/10 rounded-xl p-6 mb-6",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Votre lien Canva est prêt"}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[a.jsx(A,{onClick:()=>window.open(t.canva_link,"_blank"),icon:ai,size:"lg",className:"flex-1",children:"Ouvrir dans Canva"}),a.jsx(A,{onClick:c,icon:ex,variant:"outline",size:"lg",className:"flex-1",children:o?"Copié !":"Copier le lien"})]})]}),a.jsxs("div",{className:"border border-gray-200 dark:border-gray-700 rounded-xl p-6 mb-6",children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-3 flex items-center gap-2",children:[a.jsx(ps,{className:"text-blue-600",size:20}),"Recevoir par email"]}),a.jsxs("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:["Nous vous enverrons ",a.jsx("strong",{children:"le lien Canva + votre facture Stripe officielle"})," par email."]}),a.jsx("div",{className:"mb-4 p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-200 dark:border-blue-800",children:a.jsxs("p",{className:"text-sm text-blue-800 dark:text-blue-300",children:["📧 ",a.jsx("strong",{children:"L'email contiendra :"}),a.jsx("br",{}),"• Votre lien Canva personnalisé",a.jsx("br",{}),"• Votre facture officielle Stripe (PDF)",a.jsx("br",{}),"• Toutes les informations de votre achat"]})}),r?a.jsxs("div",{className:"flex items-center gap-2 text-green-600 dark:text-green-400 p-3 bg-green-50 dark:bg-green-900/20 rounded-lg",children:[a.jsx(Ve,{size:20}),a.jsx("span",{className:"font-medium",children:"Email avec facture envoyé avec succès !"})]}):a.jsx(A,{onClick:d,loading:s,icon:ps,variant:"secondary",size:"lg",children:"📧 Envoyer le lien Canva + Facture"})]}),t.receipt_url&&a.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 dark:from-green-900/10 dark:to-emerald-900/10 border border-green-200 dark:border-green-800 rounded-xl p-6 mb-6",children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-3 flex items-center gap-2",children:[a.jsx(Pu,{className:"text-green-600",size:20}),"Votre facture officielle Stripe"]}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"Téléchargez votre facture officielle générée automatiquement par Stripe."}),a.jsx("div",{className:"mb-4 p-3 bg-white dark:bg-gray-800 rounded-lg border border-green-200 dark:border-green-700",children:a.jsxs("p",{className:"text-sm text-green-800 dark:text-green-300",children:["✅ ",a.jsx("strong",{children:"Facture Stripe inclut :"}),a.jsx("br",{}),"• Informations complètes du paiement",a.jsx("br",{}),"• Calcul automatique des taxes",a.jsx("br",{}),"• Format PDF professionnel",a.jsx("br",{}),"• Numérotation officielle Stripe"]})}),a.jsx("div",{className:"text-center",children:a.jsx(A,{onClick:()=>window.open(t.receipt_url,"_blank"),icon:Pu,variant:"secondary",size:"lg",children:"📄 Télécharger ma facture Stripe"})})]}),a.jsxs("div",{className:"bg-gradient-to-r from-orange-50 to-amber-50 dark:from-orange-900/10 dark:to-amber-900/10 border border-orange-200 dark:border-orange-800 rounded-xl p-6",children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-3 flex items-center gap-2",children:[a.jsx($a,{className:"text-orange-600",size:20}),"Services de personnalisation"]}),a.jsx("p",{className:"text-gray-700 dark:text-gray-300 mb-4 font-medium",children:"Trop occupé ? Demandez à un professionnel de personnaliser cette affiche pour vous !"}),a.jsx("div",{className:"text-center",children:a.jsx(A,{onClick:u,icon:$a,variant:"secondary",size:"lg",className:"bg-green-500 hover:bg-green-600 text-white border-green-500 hover:border-green-600",children:"💬 Contacter un professionnel"})})]})]})},Xu=()=>{const[t]=qp(),[e,r]=b.useState(null),[n,s]=b.useState(!0),[i,o]=b.useState(""),l=t.get("session_id");b.useEffect(()=>{l?c(l):(o("Session ID manquante"),s(!1))},[l]);const c=async u=>{try{let d;try{d=await fetch("/.netlify/functions/getPurchaseBySession",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sessionId:u})})}catch{console.log("Netlify function failed, trying Supabase edge function..."),d=await fetch("https://ydlyokoawuivemrqphos.supabase.co/functions/v1/get-purchase-by-session",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InlkbHlva29hd3VpdmVtcnFwaG9zIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTYzMDk1NzIsImV4cCI6MjA3MTg4NTU3Mn0.4ME-O1SDgRxEyAIvEgTZXAZX_Zma_vq5O2Dek1GmGTQ"},body:JSON.stringify({sessionId:u})})}if(!d.ok)throw new Error("Purchase not found");const h=await d.json();r(h)}catch(d){console.error("Error loading purchase:",d),o("Achat non trouvé ou erreur de chargement")}finally{s(!1)}};return a.jsx("div",{className:"py-12 min-h-screen",children:a.jsxs(re,{children:[a.jsx("div",{className:"mb-8",children:a.jsx(nt,{to:"/nos-affiches",children:a.jsx(A,{variant:"ghost",icon:ms,children:"Retour aux affiches"})})}),n&&a.jsxs("div",{className:"text-center py-20",children:[a.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),a.jsx("p",{className:"mt-4 text-gray-600 dark:text-gray-400",children:"Chargement de votre achat..."})]}),i&&a.jsx("div",{className:"text-center py-20",children:a.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-xl p-8 max-w-md mx-auto",children:[a.jsx("h2",{className:"text-xl font-bold text-red-800 dark:text-red-300 mb-2",children:"Erreur"}),a.jsx("p",{className:"text-red-600 dark:text-red-400 mb-6",children:i}),a.jsx(nt,{to:"/nos-affiches",children:a.jsx(A,{variant:"outline",children:"Retour aux affiches"})})]})}),e&&l&&a.jsx(Qv,{purchase:e,sessionId:l})]})})},Zu=()=>a.jsx("div",{className:"py-12 min-h-screen",children:a.jsx(re,{children:a.jsxs("div",{className:"text-center max-w-md mx-auto",children:[a.jsx("div",{className:"w-16 h-16 bg-red-100 dark:bg-red-900/20 rounded-full flex items-center justify-center mx-auto mb-6",children:a.jsx(Rf,{className:"w-8 h-8 text-red-600 dark:text-red-400"})}),a.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-4",children:"Paiement annulé"}),a.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-400 mb-8",children:"Votre paiement a été annulé. Aucun montant n'a été débité."}),a.jsxs("div",{className:"space-y-4",children:[a.jsx(nt,{to:"/nos-affiches",children:a.jsx(A,{size:"lg",className:"w-full",children:"Retour aux affiches"})}),a.jsx(nt,{to:"/",children:a.jsx(A,{variant:"ghost",icon:ms,children:"Accueil"})})]})]})})}),Yv=()=>{const[t,e]=b.useState([]),[r,n]=b.useState(!0),[s,i]=b.useState(null),[o,l]=b.useState({name:"",slug:"",icon:""}),[c,u]=b.useState(!1);b.useEffect(()=>{d()},[]);const d=async()=>{try{console.log("🔍 Chargement des catégories depuis Supabase...");const{data:w,error:v}=await R.from("categories").select("*").order("created_at",{ascending:!1});if(console.log("Catégories reçues:",w),console.log("Erreur catégories:",v),v){console.error("❌ Erreur lors du chargement des catégories:",v),alert(`Erreur lors du chargement des catégories: ${v.message}`);return}(!w||w.length===0)&&(console.warn("⚠️ Aucune catégorie trouvée dans la base de données"),console.log("💡 Vérifiez que la migration a été appliquée")),e(w||[]),console.log("✅ Catégories chargées:",(w==null?void 0:w.length)||0,"catégories")}catch(w){console.error("❌ Erreur générale lors du chargement des catégories:",w),alert("Erreur lors du chargement des catégories")}finally{n(!1)}},h=async w=>{w.preventDefault();try{if(s){const{error:v}=await R.from("categories").update(o).eq("id",s);if(v)throw v}else{const{error:v}=await R.from("categories").insert([o]);if(v)throw v}l({name:"",slug:"",icon:""}),i(null),u(!1),d()}catch(v){console.error("Error saving category:",v),alert("Erreur lors de la sauvegarde")}},f=w=>{l({name:w.name,slug:w.slug,icon:w.icon}),i(w.id)},p=async w=>{if(confirm("Êtes-vous sûr de vouloir supprimer cette catégorie ?"))try{const{error:v}=await R.from("categories").delete().eq("id",w);if(v)throw v;d()}catch(v){console.error("Error deleting category:",v),alert("Erreur lors de la suppression")}},y=w=>w.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"");return r?a.jsx("div",{className:"text-center py-8",children:"Chargement des catégories..."}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Gestion des Catégories"}),a.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:[t.length," catégorie",t.length!==1?"s":""," chargée",t.length!==1?"s":""]})]}),a.jsx("div",{className:"flex gap-2",children:a.jsx("button",{type:"button",onClick:()=>{console.log("=== DEBUG CATEGORY MANAGER ==="),console.log("Categories state:",t),d()},className:"px-3 py-1 text-xs bg-blue-100 dark:bg-blue-900/20 text-blue-600 dark:text-blue-400 rounded-md hover:bg-blue-200 dark:hover:bg-blue-900/30",children:"Debug"})})]}),a.jsxs("form",{onSubmit:h,className:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-lg",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Nom"}),a.jsx("input",{type:"text",value:o.name,onChange:w=>{const v=w.target.value;l(g=>({...g,name:v,slug:y(v)}))},className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Slug"}),a.jsx("input",{type:"text",value:o.slug,onChange:w=>l(v=>({...v,slug:w.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Icône (Lucide)"}),a.jsx("input",{type:"text",value:o.icon,onChange:w=>l(v=>({...v,icon:w.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500",placeholder:"Calendar",required:!0})]})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx(A,{type:"submit",icon:Af,children:s?"Modifier":"Ajouter"}),s&&a.jsx(A,{type:"button",variant:"ghost",icon:at,onClick:()=>{i(null),l({name:"",slug:"",icon:""})},children:"Annuler"})]})]}),a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg overflow-hidden",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Nom"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Slug"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Icône"}),a.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:t.map(w=>a.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors duration-150",children:[a.jsx("td",{className:"px-6 py-4 text-gray-900 dark:text-white font-medium",children:w.name}),a.jsx("td",{className:"px-6 py-4 text-gray-600 dark:text-gray-400",children:w.slug}),a.jsx("td",{className:"px-6 py-4 text-gray-600 dark:text-gray-400",children:w.icon}),a.jsx("td",{className:"px-6 py-4 text-right",children:a.jsxs("div",{className:"flex justify-end gap-2",children:[a.jsx("button",{onClick:()=>f(w),className:"p-2 text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-300 transition-colors duration-200",children:a.jsx(Ho,{size:16})}),a.jsx("button",{onClick:()=>p(w.id),className:"p-2 text-red-600 hover:text-red-800 dark:text-red-400 dark:hover:text-red-300 transition-colors duration-200",children:a.jsx(Da,{size:16})})]})})]},w.id))})]})})})]})},o0=({onImageUploaded:t,currentImageUrl:e,className:r=""})=>{const[n,s]=b.useState(!1),[i,o]=b.useState(!1),[l,c]=b.useState(0),[u,d]=b.useState(null),[h,f]=b.useState(e||null),p=b.useRef(null),y=k=>{var I;const N=Date.now(),S=Math.random().toString(36).substring(2,15),_=((I=k.split(".").pop())==null?void 0:I.toLowerCase())||"jpg";return`poster_${N}_${S}.${_}`},w=async k=>{const S=y(k.name),{data:_,error:I}=await R.storage.from("Affiches").upload(S,k,{cacheControl:"3600",upsert:!1});if(I)throw new Error(`Erreur d'upload: ${I.message}`);const{data:O}=R.storage.from("Affiches").getPublicUrl(S);if(!(O!=null&&O.publicUrl))throw new Error("Impossible d'obtenir l'URL publique");return O.publicUrl},v=async k=>{d(null),s(!0),c(0);try{if(!k.type.startsWith("image/"))throw new Error("Le fichier doit être une image");if(k.size>10*1024*1024)throw new Error("L'image ne doit pas dépasser 10MB");const N=URL.createObjectURL(k);f(N);const S=setInterval(()=>{c(I=>Math.min(I+10,90))},100),_=await w(k);clearInterval(S),c(100),URL.revokeObjectURL(N),f(_),t(_),setTimeout(()=>{c(0)},1e3)}catch(N){console.error("Erreur upload:",N),d(N instanceof Error?N.message:"Erreur inconnue"),f(e||null)}finally{s(!1)}},g=k=>{k.preventDefault(),k.stopPropagation(),k.type==="dragenter"||k.type==="dragover"?o(!0):k.type==="dragleave"&&o(!1)},x=k=>{k.preventDefault(),k.stopPropagation(),o(!1),k.dataTransfer.files&&k.dataTransfer.files[0]&&v(k.dataTransfer.files[0])},m=k=>{k.target.files&&k.target.files[0]&&v(k.target.files[0])},j=()=>{f(null),d(null),t(""),p.current&&(p.current.value="")};return a.jsxs("div",{className:`space-y-4 ${r}`,children:[a.jsxs("div",{className:`relative border-2 border-dashed rounded-xl p-8 text-center transition-colors duration-200 ${i?"border-blue-400 bg-blue-50 dark:bg-blue-900/20":n?"border-green-400 bg-green-50 dark:bg-green-900/20":u?"border-red-400 bg-red-50 dark:bg-red-900/20":"border-gray-300 dark:border-gray-600 hover:border-blue-400 hover:bg-gray-50 dark:hover:bg-gray-800"}`,onDragEnter:g,onDragLeave:g,onDragOver:g,onDrop:x,children:[a.jsx("input",{ref:p,type:"file",accept:"image/*",onChange:m,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer",disabled:n}),n?a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"w-12 h-12 mx-auto bg-green-100 dark:bg-green-900/20 rounded-full flex items-center justify-center",children:a.jsx(Au,{className:"w-6 h-6 text-green-600 animate-bounce"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-lg font-medium text-green-600 dark:text-green-400",children:"Upload en cours..."}),a.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2 mt-2",children:a.jsx("div",{className:"bg-green-600 h-2 rounded-full transition-all duration-300",style:{width:`${l}%`}})}),a.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[l,"%"]})]})]}):u?a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"w-12 h-12 mx-auto bg-red-100 dark:bg-red-900/20 rounded-full flex items-center justify-center",children:a.jsx(tc,{className:"w-6 h-6 text-red-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-lg font-medium text-red-600 dark:text-red-400 mb-2",children:"Erreur d'upload"}),a.jsx("p",{className:"text-sm text-red-500 dark:text-red-400",children:u})]}),a.jsx(A,{onClick:()=>d(null),variant:"outline",size:"sm",children:"Réessayer"})]}):a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"w-12 h-12 mx-auto bg-blue-100 dark:bg-blue-900/20 rounded-full flex items-center justify-center",children:a.jsx(Au,{className:"w-6 h-6 text-blue-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"Glissez une image ici ou cliquez pour sélectionner"}),a.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"PNG, JPG, WEBP jusqu'à 10MB"})]})]})]}),h&&a.jsxs("div",{className:"relative",children:[a.jsxs("div",{className:"relative aspect-[4/5] max-w-xs mx-auto bg-gray-100 dark:bg-gray-800 rounded-xl overflow-hidden",children:[a.jsx("img",{src:h,alt:"Aperçu",className:"w-full h-full object-cover"}),a.jsx("button",{onClick:j,className:"absolute top-2 right-2 w-8 h-8 bg-red-500 hover:bg-red-600 text-white rounded-full flex items-center justify-center transition-colors duration-200",title:"Supprimer l'image",children:a.jsx(at,{className:"w-4 h-4"})})]}),h.includes("supabase")&&a.jsxs("div",{className:"flex items-center justify-center gap-2 mt-2 text-green-600 dark:text-green-400",children:[a.jsx(Ve,{className:"w-4 h-4"}),a.jsx("span",{className:"text-sm font-medium",children:"Image uploadée avec succès"})]})]}),h&&a.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 rounded-lg p-3",children:[a.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1",children:"URL de l'image:"}),a.jsx("p",{className:"text-sm font-mono text-gray-700 dark:text-gray-300 break-all",children:h})]})]})},Xv=({poster:t,onSave:e,onCancel:r})=>{const[n,s]=b.useState([]),[i,o]=b.useState(!1),[l,c]=b.useState("url"),[u,d]=b.useState({title:"",description:"",category_id:"",image_url:"",price_cents:0,currency:"EUR",canva_link:"",is_published:!1});b.useEffect(()=>{h(),t&&d({title:t.title,description:t.description,category_id:t.category_id,image_url:t.image_url,price_cents:t.price_cents,currency:t.currency,canva_link:t.canva_link,is_published:t.is_published})},[t]);const h=async()=>{try{console.log("🔍 Chargement des catégories...");const{data:p,error:y}=await R.from("categories").select("*").order("name");if(console.log("Catégories reçues:",p),console.log("Erreur catégories:",y),y){console.error("❌ Erreur lors du chargement des catégories:",y),alert(`Erreur lors du chargement des catégories: ${y.message}`);return}(!p||p.length===0)&&(console.warn("⚠️ Aucune catégorie trouvée dans la base de données"),alert("Aucune catégorie disponible. Créez d'abord des catégories.")),s(p||[]),console.log("✅ Catégories chargées:",(p==null?void 0:p.length)||0,"catégories")}catch(p){console.error("❌ Erreur générale lors du chargement des catégories:",p),alert("Erreur lors du chargement des catégories")}},f=async p=>{p.preventDefault(),o(!0);try{if(t){const{error:y}=await R.from("posters").update(u).eq("id",t.id);if(y)throw y}else{const{error:y}=await R.from("posters").insert([u]);if(y)throw y}e()}catch(y){console.error("Error saving poster:",y),alert("Erreur lors de la sauvegarde")}finally{o(!1)}};return a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-2 sm:p-4",children:a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-2xl w-full max-w-2xl max-h-[95vh] sm:max-h-[90vh] overflow-y-auto",children:a.jsxs("div",{className:"p-4 sm:p-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-4 sm:mb-6 gap-4",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900 dark:text-white",children:t?"Modifier l'affiche":"Nouvelle affiche"}),a.jsxs("p",{className:"text-xs sm:text-sm text-gray-500 dark:text-gray-400 mt-1",children:["Catégories chargées: ",n.length]})]}),a.jsxs("div",{className:"flex items-center gap-1 sm:gap-2 self-end sm:self-auto",children:[a.jsxs("button",{type:"button",onClick:()=>{console.log("=== DEBUG POSTER FORM ==="),console.log("Categories:",n),console.log("Form data:",u),h()},className:"px-2 sm:px-3 py-1 text-xs bg-blue-100 dark:bg-blue-900/20 text-blue-600 dark:text-blue-400 rounded-md hover:bg-blue-200 dark:hover:bg-blue-900/30",children:[a.jsx("span",{className:"hidden sm:inline",children:"Debug"}),a.jsx("span",{className:"sm:hidden",children:"🐛"})]}),a.jsx("button",{onClick:r,className:"p-1 sm:p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors duration-200",children:a.jsx(at,{size:20,className:"sm:w-6 sm:h-6"})})]})]}),a.jsxs("form",{onSubmit:f,className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Titre"}),a.jsx("input",{type:"text",value:u.title,onChange:p=>d(y=>({...y,title:p.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500",required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["Catégorie (",n.length," disponible",n.length!==1?"s":"",")"]}),a.jsxs("select",{value:u.category_id,onChange:p=>d(y=>({...y,category_id:p.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500",required:!0,disabled:n.length===0,children:[a.jsx("option",{value:"",children:n.length===0?"Aucune catégorie disponible":"Sélectionner une catégorie"}),n.map(p=>a.jsxs("option",{value:p.id,children:[p.name," (ID: ",p.id,")"]},p.id))]}),n.length===0&&a.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:`⚠️ Aucune catégorie trouvée. Créez d'abord des catégories dans l'onglet "Catégories".`})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Description"}),a.jsx("textarea",{value:u.description,onChange:p=>d(y=>({...y,description:p.target.value})),rows:3,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-4",children:"Image de l'affiche"}),a.jsx("div",{className:"mb-4",children:a.jsxs("div",{className:"flex space-x-1 bg-gray-100 dark:bg-gray-700 rounded-lg p-1",children:[a.jsxs("button",{type:"button",onClick:()=>c("upload"),className:`flex-1 px-2 sm:px-3 py-2 text-xs sm:text-sm font-medium rounded-md transition-colors duration-200 ${l==="upload"?"bg-white dark:bg-gray-600 text-gray-900 dark:text-white shadow-sm":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white"}`,children:[a.jsx("span",{className:"hidden sm:inline",children:"📤 Upload d'image"}),a.jsx("span",{className:"sm:hidden",children:"📤 Upload"})]}),a.jsxs("button",{type:"button",onClick:()=>c("url"),className:`flex-1 px-2 sm:px-3 py-2 text-xs sm:text-sm font-medium rounded-md transition-colors duration-200 ${l==="url"?"bg-white dark:bg-gray-600 text-gray-900 dark:text-white shadow-sm":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white"}`,children:[a.jsx("span",{className:"hidden sm:inline",children:"🔗 URL d'image"}),a.jsx("span",{className:"sm:hidden",children:"🔗 URL"})]})]})}),l==="upload"&&a.jsx("div",{children:a.jsx(o0,{currentImageUrl:u.image_url,onImageUploaded:p=>d(y=>({...y,image_url:p}))})}),l==="url"&&a.jsxs("div",{className:"space-y-3",children:[a.jsx("input",{type:"url",value:u.image_url,onChange:p=>d(y=>({...y,image_url:p.target.value})),placeholder:"https://example.com/image.jpg",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500"}),u.image_url&&a.jsxs("div",{className:"relative",children:[a.jsxs("div",{className:"relative aspect-[4/5] max-w-xs mx-auto bg-gray-100 dark:bg-gray-800 rounded-xl overflow-hidden",children:[a.jsx("img",{src:u.image_url,alt:"Aperçu de l'image",className:"w-full h-full object-cover",onError:p=>{var y;p.target.style.display="none",(y=p.target.nextElementSibling)==null||y.classList.remove("hidden")}}),a.jsx("div",{className:"hidden absolute inset-0 flex items-center justify-center bg-gray-100 dark:bg-gray-800",children:a.jsxs("div",{className:"text-center text-gray-500 dark:text-gray-400",children:[a.jsx("div",{className:"w-12 h-12 mx-auto mb-2",children:"❌"}),a.jsx("p",{className:"text-sm",children:"Image non accessible"})]})})]}),a.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 text-center mt-2",children:"Aperçu de l'image depuis l'URL"})]})]}),u.image_url&&a.jsxs("div",{className:"mt-4 p-3 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[a.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-2",children:"URL de l'image actuelle:"}),a.jsx("p",{className:"text-sm font-mono text-gray-700 dark:text-gray-300 break-all",children:u.image_url})]})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Prix (en centimes)"}),a.jsx("input",{type:"number",value:u.price_cents,onChange:p=>d(y=>({...y,price_cents:parseInt(p.target.value)||0})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500",min:"1",required:!0})]})}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Lien Canva"}),a.jsx("input",{type:"url",value:u.canva_link,onChange:p=>d(y=>({...y,canva_link:p.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500",placeholder:"https://www.canva.com/design/...",required:!0})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",id:"is_published",checked:u.is_published,onChange:p=>d(y=>({...y,is_published:p.target.checked})),className:"w-4 h-4 text-blue-600 bg-gray-100 dark:bg-gray-700 border-gray-300 dark:border-gray-600 rounded focus:ring-blue-500"}),a.jsx("label",{htmlFor:"is_published",className:"ml-2 text-sm text-gray-700 dark:text-gray-300",children:"Publier l'affiche"})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[a.jsxs(A,{type:"submit",loading:i,icon:Af,size:"sm",className:"order-1 sm:order-none",children:[a.jsx("span",{className:"hidden sm:inline",children:t?"Modifier":"Créer"}),a.jsx("span",{className:"sm:hidden",children:t?"Modif":"Créer"})]}),a.jsx(A,{type:"button",variant:"ghost",onClick:r,size:"sm",className:"order-2 sm:order-none",children:"Annuler"})]})]})]})})})},Zv=({posters:t,onEdit:e,onDelete:r,onTogglePublish:n})=>{const s=(o,l)=>new Intl.NumberFormat("fr-FR",{style:"currency",currency:l}).format(o/100),i=(o,l)=>{confirm(`Êtes-vous sûr de vouloir supprimer "${l}" ?`)&&r(o)};return t.length===0?a.jsx("div",{className:"text-center py-12",children:a.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Aucune affiche créée pour le moment."})}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"block sm:hidden space-y-4",children:t.map(o=>{var l;return a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-4",children:a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx("div",{className:"w-16 h-20 bg-gray-200 dark:bg-gray-700 rounded-lg overflow-hidden flex-shrink-0",children:o.image_url?a.jsx("img",{src:o.image_url,alt:o.title,className:"w-full h-full object-cover"}):a.jsx("div",{className:"w-full h-full flex items-center justify-center",children:a.jsx("span",{className:"text-gray-400",children:"📄"})})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-start justify-between mb-2",children:[a.jsx("h3",{className:"font-medium text-gray-900 dark:text-white text-sm truncate",children:o.title}),a.jsxs("div",{className:"flex items-center gap-1 ml-2",children:[a.jsx("button",{onClick:()=>e(o),className:"p-1 text-blue-600 hover:text-blue-700",children:a.jsx(Ho,{size:16})}),a.jsx("button",{onClick:()=>n(o),className:`p-1 ${o.is_published?"text-green-600":"text-gray-400"}`,children:o.is_published?a.jsx(vr,{size:16}):a.jsx(Wo,{size:16})}),a.jsx("button",{onClick:()=>i(o.id,o.title),className:"p-1 text-red-600 hover:text-red-700",children:a.jsx(Da,{size:16})})]})]}),a.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 space-y-1",children:[a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Prix:"})," ",s(o.price_cents,o.currency)]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Catégorie:"})," ",((l=o.category)==null?void 0:l.name)||"Aucune"]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Statut:"}),a.jsx("span",{className:`ml-1 px-2 py-0.5 rounded-full text-xs ${o.is_published?"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400":"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300"}`,children:o.is_published?"Publié":"Brouillon"})]})]})]})]})},o.id)})}),a.jsx("div",{className:"hidden sm:block bg-white dark:bg-gray-800 rounded-xl shadow-lg overflow-hidden",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Affiche"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Catégorie"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Prix"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Statut"}),a.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:t.map(o=>{var l;return a.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors duration-150",children:[a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("img",{src:o.image_url,alt:o.title,className:"w-12 h-12 object-cover rounded-lg",onError:c=>{c.target.src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHZpZXdCb3g9IjAgMCA0MCA0MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjQwIiBoZWlnaHQ9IjQwIiBmaWxsPSIjRjNGNEY2Ii8+CjxwYXRoIGQ9Ik0yMCAyOEMyNi42Mjc0IDI4IDMyIDIyLjYyNzQgMzIgMTZDMzIgOS4zNzI1OCAyNi42Mjc0IDQgMjAgNEMxMy4zNzI2IDQgOCA5LjM3MjU4IDggMTZDOCAyMi42Mjc0IDEzLjM3MjYgMjggMjAgMjhaIiBzdHJva2U9IiM5Q0EzQUYiIHN0cm9rZS13aWR0aD0iMiIvPgo8L3N2Zz4K"}}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white line-clamp-1",children:o.title}),a.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 line-clamp-1",children:o.description})]})]})}),a.jsx("td",{className:"px-6 py-4 text-sm text-gray-600 dark:text-gray-400",children:(l=o.category)==null?void 0:l.name}),a.jsx("td",{className:"px-6 py-4 text-sm font-medium text-gray-900 dark:text-white",children:s(o.price_cents,o.currency)}),a.jsx("td",{className:"px-6 py-4",children:a.jsxs("button",{onClick:()=>n(o),className:`flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium transition-colors duration-200 ${o.is_published?"bg-green-100 dark:bg-green-900/20 text-green-800 dark:text-green-300":"bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-400"}`,children:[o.is_published?a.jsx(vr,{size:12}):a.jsx(Wo,{size:12}),o.is_published?"Publié":"Brouillon"]})}),a.jsx("td",{className:"px-6 py-4 text-right",children:a.jsxs("div",{className:"flex justify-end gap-2",children:[a.jsx("button",{onClick:()=>e(o),className:"p-2 text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-300 transition-colors duration-200",children:a.jsx(Ho,{size:16})}),a.jsx("button",{onClick:()=>i(o.id,o.title),className:"p-2 text-red-600 hover:text-red-800 dark:text-red-400 dark:hover:text-red-300 transition-colors duration-200",children:a.jsx(Da,{size:16})})]})})]},o.id)})})]})})})]})},ew=()=>{const[t,e]=b.useState([]),[r,n]=b.useState([]),[s,i]=b.useState(!0),[o,l]=b.useState(null);b.useEffect(()=>{c()},[]);const c=async()=>{try{const{data:h,error:f}=await R.from("posters").select(`
          *,
          category:categories(*)
        `).eq("is_published",!0).order("created_at",{ascending:!1});if(f)throw f;const y=(h||[]).map(w=>({...w,is_featured:w.is_featured||!1}));e(y),n(y.filter(w=>w.is_featured))}catch(h){console.error("Error loading posters:",h),alert("Erreur lors du chargement. Vérifiez que la colonne is_featured existe dans la table posters.")}finally{i(!1)}},u=async(h,f)=>{if(!f&&r.length>=4){alert("Vous ne pouvez avoir que 4 affiches favorites maximum. Retirez d'abord une affiche des favorites.");return}l(h);try{console.log("Tentative de mise à jour:",{posterId:h,currentFeaturedStatus:f,newStatus:!f});const{data:p,error:y}=await R.from("posters").update({is_featured:!f}).eq("id",h).select();if(y)throw console.error("Erreur Supabase:",y),y;console.log("Mise à jour réussie:",p),await c()}catch(p){console.error("Error updating featured status:",p),alert(`Erreur lors de la mise à jour: ${p.message}. Vérifiez que la colonne is_featured existe dans la table posters.`)}finally{l(null)}},d=(h,f)=>new Intl.NumberFormat("fr-FR",{style:"currency",currency:f}).format(h/100);return s?a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-lg p-8",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[a.jsx(en,{className:"w-6 h-6 text-yellow-500"}),a.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Gérer les Affiches Favorites"})]}),a.jsx("div",{className:"animate-pulse space-y-4",children:Array.from({length:3},(h,f)=>a.jsx("div",{className:"h-20 bg-gray-200 dark:bg-gray-700 rounded-lg"},f))})]}):a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-lg p-8",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(en,{className:"w-6 h-6 text-yellow-500"}),a.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Gérer les Affiches Favorites"})]}),a.jsx(A,{onClick:c,variant:"outline",icon:fr,disabled:s,children:"Actualiser"})]}),a.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4 mb-6",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(tc,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"}),a.jsxs("span",{className:"font-medium text-blue-900 dark:text-blue-100",children:["Affiches favorites (",r.length,"/4)"]})]}),a.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:"Les affiches favorites apparaissent dans le carrousel en haut de la page d'accueil. Vous pouvez sélectionner jusqu'à 4 affiches favorites."})]}),r.length>0&&a.jsxs("div",{className:"mb-8",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Affiches favorites actuelles"}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:r.map(h=>{var f;return a.jsxs("div",{className:"flex items-center gap-4 p-4 bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg",children:[a.jsx("div",{className:"w-16 h-20 bg-gray-200 dark:bg-gray-700 rounded overflow-hidden flex-shrink-0",children:h.image_url?a.jsx("img",{src:h.image_url,alt:h.title,className:"w-full h-full object-cover"}):a.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-400",children:a.jsx(vr,{className:"w-6 h-6"})})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-1",children:h.title}),a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:(f=h.category)==null?void 0:f.name}),a.jsx("span",{className:"text-sm font-medium text-green-600 dark:text-green-400",children:d(h.price_cents,h.currency)})]}),a.jsx(A,{onClick:()=>u(h.id,!0),variant:"outline",size:"sm",disabled:o===h.id,className:"text-yellow-600 border-yellow-300 hover:bg-yellow-50 dark:text-yellow-400 dark:border-yellow-600 dark:hover:bg-yellow-900/20",children:o===h.id?a.jsx(fr,{className:"w-4 h-4 animate-spin"}):a.jsx(Iu,{className:"w-4 h-4"})})]},h.id)})})]}),a.jsxs("div",{children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:["Toutes les affiches (",t.length,")"]}),a.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:t.map(h=>{var f;return a.jsxs("div",{className:`flex items-center gap-4 p-4 border rounded-lg transition-colors duration-200 ${h.is_featured?"bg-yellow-50 dark:bg-yellow-900/20 border-yellow-200 dark:border-yellow-800":"bg-gray-50 dark:bg-gray-700 border-gray-200 dark:border-gray-600 hover:bg-gray-100 dark:hover:bg-gray-600"}`,children:[a.jsx("div",{className:"w-12 h-15 bg-gray-200 dark:bg-gray-600 rounded overflow-hidden flex-shrink-0",children:h.image_url?a.jsx("img",{src:h.image_url,alt:h.title,className:"w-full h-full object-cover"}):a.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-400",children:a.jsx(vr,{className:"w-4 h-4"})})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-1",children:h.title}),a.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600 dark:text-gray-400",children:[a.jsx("span",{children:(f=h.category)==null?void 0:f.name}),a.jsx("span",{className:"font-medium text-green-600 dark:text-green-400",children:d(h.price_cents,h.currency)})]})]}),a.jsx(A,{onClick:()=>u(h.id,h.is_featured),variant:h.is_featured?"default":"outline",size:"sm",disabled:o===h.id||!h.is_featured&&r.length>=4,className:h.is_featured?"bg-yellow-500 hover:bg-yellow-600 text-white":"",children:o===h.id?a.jsx(fr,{className:"w-4 h-4 animate-spin"}):h.is_featured?a.jsx(en,{className:"w-4 h-4"}):a.jsx(Iu,{className:"w-4 h-4"})})]},h.id)})})]})]})},tw=()=>{const[t,e]=b.useState([]),[r,n]=b.useState(!0),[s,i]=b.useState(null),[o,l]=b.useState(null),[c,u]=b.useState("Affiches");b.useEffect(()=>{d()},[]);const d=async()=>{try{console.log("=== DEBUT DEBUG STORAGE MANAGER ===");const{data:g,error:x}=await R.storage.listBuckets();if(console.log("Buckets disponibles:",g),console.log("Erreur buckets:",x),x){console.error("Erreur lors de la vérification des buckets:",x),l(!1);return}const m=g==null?void 0:g.find(_=>_.id==="Affiches"||_.id==="affiches"||_.name==="Affiches"||_.name==="affiches");if(console.log("Bucket Affiches trouvé:",m),console.log("Tous les buckets:",g==null?void 0:g.map(_=>({id:_.id,name:_.name}))),l(!!m),!m){console.log('❌ Bucket "Affiches" non trouvé. Buckets disponibles:',g==null?void 0:g.map(_=>_.id)),e([]);return}const j=m.id;u(j),console.log("🔍 Chargement des fichiers du bucket:",j);const{data:k,error:N}=await R.storage.from(j).list("",{limit:100,offset:0,sortBy:{column:"created_at",order:"desc"}});if(console.log("Fichiers bruts reçus:",k),console.log("Erreur fichiers:",N),N){console.error("❌ Erreur lors du chargement des fichiers:",N),alert(`Erreur lors du chargement des fichiers: ${N.message}`);return}const S=(k||[]).filter(_=>{var O,V,W;const I=((V=(O=_.metadata)==null?void 0:O.mimetype)==null?void 0:V.startsWith("image/"))||_.name.match(/\.(jpg|jpeg|png|gif|webp)$/i);return console.log(`Fichier ${_.name}: isImage=${I}, mimetype=${(W=_.metadata)==null?void 0:W.mimetype}`),I});console.log("✅ Fichiers images filtrés:",S),console.log(`📊 Total: ${S.length} images sur ${(k==null?void 0:k.length)||0} fichiers`),e(S),console.log("=== FIN DEBUG STORAGE MANAGER ===")}catch(g){console.error("❌ Erreur générale:",g),l(!1)}finally{n(!1)}},h=async()=>{try{const{error:g}=await R.storage.createBucket("Affiches",{public:!0,allowedMimeTypes:["image/png","image/jpeg","image/webp","image/gif"],fileSizeLimit:10485760});if(g){console.error("Erreur création bucket:",g),alert(`Erreur lors de la création: ${g.message}`);return}l(!0),d()}catch(g){console.error("Erreur:",g),alert("Erreur lors de la création du bucket")}},f=async g=>{if(confirm(`Supprimer définitivement "${g}" ?`)){i(g);try{const{error:x}=await R.storage.from(c).remove([g]);if(x){console.error("Erreur suppression:",x),alert(`Erreur lors de la suppression: ${x.message}`);return}d()}catch(x){console.error("Erreur:",x),alert("Erreur lors de la suppression")}finally{i(null)}}},p=g=>{const{data:x}=R.storage.from(c).getPublicUrl(g);return x.publicUrl},y=g=>{const x=p(g);navigator.clipboard.writeText(x),alert("URL copiée dans le presse-papiers !")},w=g=>{if(g===0)return"0 B";const x=1024,m=["B","KB","MB","GB"],j=Math.floor(Math.log(g)/Math.log(x));return parseFloat((g/Math.pow(x,j)).toFixed(2))+" "+m[j]},v=g=>new Date(g).toLocaleDateString("fr-FR",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return r?a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-lg p-8",children:a.jsxs("div",{className:"animate-pulse",children:[a.jsx("div",{className:"h-8 bg-gray-200 dark:bg-gray-700 rounded w-1/4 mb-6"}),a.jsx("div",{className:"space-y-4",children:Array.from({length:3},(g,x)=>a.jsx("div",{className:"h-16 bg-gray-200 dark:bg-gray-700 rounded"},x))})]})}):o===!1?a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-lg p-8",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[a.jsx(Wn,{className:"w-6 h-6 text-orange-500"}),a.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Gestionnaire de Fichiers"})]}),a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"w-16 h-16 mx-auto bg-orange-100 dark:bg-orange-900/20 rounded-full flex items-center justify-center mb-6",children:a.jsx(Wn,{className:"w-8 h-8 text-orange-500"})}),a.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-4",children:'Bucket "Affiches" non configuré'}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-8 max-w-md mx-auto",children:"Le bucket de stockage pour les affiches n'existe pas encore. Créez-le pour pouvoir uploader des images."}),a.jsx(A,{onClick:h,className:"bg-orange-500 hover:bg-orange-600 text-white",children:'Créer le bucket "Affiches"'})]})]}):a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-lg p-8",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Wn,{className:"w-6 h-6 text-blue-500"}),a.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Gestionnaire de Fichiers"}),a.jsxs("span",{className:"px-2 py-1 bg-blue-100 dark:bg-blue-900/20 text-blue-600 dark:text-blue-400 text-sm rounded-md",children:["Bucket: ",c]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(A,{onClick:()=>console.log("Bucket State:",{bucketName:c,bucketExists:o,filesCount:t.length}),variant:"outline",size:"sm",className:"text-xs",children:"Debug"}),a.jsx(A,{onClick:d,variant:"outline",icon:fr,disabled:r,children:"Actualiser"})]})]}),a.jsxs("div",{className:"mb-8",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Upload rapide"}),a.jsx(o0,{onImageUploaded:g=>{console.log("Image uploadée:",g),d()},className:"max-w-md"})]}),a.jsxs("div",{children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:["Fichiers dans le bucket (",t.length,")"]}),t.length===0?a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"w-12 h-12 mx-auto bg-gray-100 dark:bg-gray-700 rounded-full flex items-center justify-center mb-4",children:a.jsx(Tf,{className:"w-6 h-6 text-gray-400"})}),a.jsxs("p",{className:"text-gray-500 dark:text-gray-400 mb-2",children:['Aucune image trouvée dans le bucket "',c,'"']}),a.jsx("p",{className:"text-xs text-gray-400",children:"Vérifiez la console pour plus de détails"})]}):a.jsx("div",{className:"space-y-3",children:t.map(g=>{var x;return a.jsxs("div",{className:"flex items-center gap-4 p-4 border border-gray-200 dark:border-gray-700 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors duration-200",children:[a.jsx("div",{className:"w-16 h-16 bg-gray-100 dark:bg-gray-700 rounded-lg overflow-hidden flex-shrink-0",children:a.jsx("img",{src:p(g.name),alt:g.name,className:"w-full h-full object-cover",onError:m=>{m.target.style.display="none"}})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h4",{className:"font-medium text-gray-900 dark:text-white truncate",children:g.name}),a.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:[v(g.created_at),((x=g.metadata)==null?void 0:x.size)&&` • ${w(g.metadata.size)}`]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(A,{onClick:()=>y(g.name),variant:"outline",size:"sm",title:"Copier l'URL",children:a.jsx(ai,{className:"w-4 h-4"})}),a.jsx(A,{onClick:()=>f(g.name),variant:"outline",size:"sm",disabled:s===g.name,className:"text-red-600 border-red-300 hover:bg-red-50 dark:text-red-400 dark:border-red-600 dark:hover:bg-red-900/10",title:"Supprimer",children:s===g.name?a.jsx(fr,{className:"w-4 h-4 animate-spin"}):a.jsx(Da,{className:"w-4 h-4"})})]})]},g.id)})})]})]})},rw=({className:t=""})=>{const[e,r]=b.useState("checking"),[n,s]=b.useState("");b.useEffect(()=>{i()},[]);const i=async()=>{try{r("not-configured"),s("Clés Stripe non configurées");return;try{(await fetch("/.netlify/functions/createCheckout",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({test:!0})})).status===400?(r("connected"),s("Stripe connecté et fonctionnel")):(r("error"),s("Erreur de connexion Stripe"))}catch{try{(await fetch("https://ydlyokoawuivemrqphos.supabase.co/functions/v1/create-poster-checkout",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InlkbHlva29hd3VpdmVtcnFwaG9zIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTYzMDk1NzIsImV4cCI6MjA3MTg4NTU3Mn0.4ME-O1SDgRxEyAIvEgTZXAZX_Zma_vq5O2Dek1GmGTQ"},body:JSON.stringify({test:!0})})).status===400?(r("connected"),s("Stripe connecté via Supabase")):(r("error"),s("Erreur de connexion Stripe"))}catch{r("error"),s("Stripe non accessible")}}}catch{r("error"),s("Erreur lors de la vérification")}},o=()=>{switch(e){case"checking":return a.jsx(gs,{className:"w-5 h-5 text-blue-500 animate-spin"});case"connected":return a.jsx(Ve,{className:"w-5 h-5 text-green-500"});case"error":return a.jsx(Rf,{className:"w-5 h-5 text-red-500"});case"not-configured":return a.jsx(rc,{className:"w-5 h-5 text-yellow-500"});default:return a.jsx(gs,{className:"w-5 h-5 text-gray-500"})}},l=()=>{switch(e){case"checking":return"border-blue-200 bg-blue-50 dark:border-blue-800 dark:bg-blue-900/20";case"connected":return"border-green-200 bg-green-50 dark:border-green-800 dark:bg-green-900/20";case"error":return"border-red-200 bg-red-50 dark:border-red-800 dark:bg-red-900/20";case"not-configured":return"border-yellow-200 bg-yellow-50 dark:border-yellow-800 dark:bg-yellow-900/20";default:return"border-gray-200 bg-gray-50 dark:border-gray-700 dark:bg-gray-800"}},c=()=>{switch(e){case"checking":return"text-blue-700 dark:text-blue-300";case"connected":return"text-green-700 dark:text-green-300";case"error":return"text-red-700 dark:text-red-300";case"not-configured":return"text-yellow-700 dark:text-yellow-300";default:return"text-gray-700 dark:text-gray-300"}};return a.jsxs("div",{className:`flex items-center gap-3 p-4 border rounded-lg ${l()} ${t}`,children:[o(),a.jsxs("div",{children:[a.jsx("p",{className:`font-medium ${c()}`,children:"Statut Stripe"}),a.jsx("p",{className:`text-sm ${c()}`,children:n})]})]})};var nw="basil",l0="https://js.stripe.com",sw="".concat(l0,"/").concat(nw,"/stripe.js"),aw=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,iw=/^https:\/\/js\.stripe\.com\/(v3|[a-z]+)\/stripe\.js(\?.*)?$/,ed="loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used",ow=function(e){return aw.test(e)||iw.test(e)},lw=function(){for(var e=document.querySelectorAll('script[src^="'.concat(l0,'"]')),r=0;r<e.length;r++){var n=e[r];if(ow(n.src))return n}return null},td=function(e){var r="",n=document.createElement("script");n.src="".concat(sw).concat(r);var s=document.head||document.body;if(!s)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return s.appendChild(n),n},Cn=null,Ks=null,Qs=null,cw=function(e){return function(r){e(new Error("Failed to load Stripe.js",{cause:r}))}},uw=function(e,r){return function(){window.Stripe?e(window.Stripe):r(new Error("Stripe.js not available"))}},dw=function(e){return Cn!==null?Cn:(Cn=new Promise(function(r,n){if(typeof window>"u"||typeof document>"u"){r(null);return}if(window.Stripe&&e&&console.warn(ed),window.Stripe){r(window.Stripe);return}try{var s=lw();if(s&&e)console.warn(ed);else if(!s)s=td(e);else if(s&&Qs!==null&&Ks!==null){var i;s.removeEventListener("load",Qs),s.removeEventListener("error",Ks),(i=s.parentNode)===null||i===void 0||i.removeChild(s),s=td(e)}Qs=uw(r,n),Ks=cw(n),s.addEventListener("load",Qs),s.addEventListener("error",Ks)}catch(o){n(o);return}}),Cn.catch(function(r){return Cn=null,Promise.reject(r)}))},Tn,hw=function(){return Tn||(Tn=dw(null).catch(function(e){return Tn=null,Promise.reject(e)}),Tn)};Promise.resolve().then(function(){return hw()}).catch(function(t){console.warn(t)});console.warn("Stripe publishable key not found. Payment functionality will be limited.");const fw=()=>{const[t,e]=b.useState(1),[r,n]=b.useState(""),[s,i]=b.useState(!1),o=Gv(),l=async u=>{try{await navigator.clipboard.writeText(u),i(!0),setTimeout(()=>i(!1),2e3)}catch(d){console.error("Failed to copy:",d)}},c=[{title:"Créer un compte Stripe",content:a.jsxs("div",{className:"space-y-4",children:[a.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Si vous n'avez pas encore de compte Stripe :"}),a.jsxs("ol",{className:"list-decimal list-inside space-y-2 text-sm text-gray-700 dark:text-gray-300",children:[a.jsxs("li",{children:["Allez sur ",a.jsx("a",{href:"https://stripe.com",target:"_blank",className:"text-blue-600 hover:underline",children:"stripe.com"})]}),a.jsx("li",{children:'Cliquez sur "Start now" ou "Créer un compte"'}),a.jsx("li",{children:"Remplissez les informations de votre entreprise"}),a.jsx("li",{children:"Vérifiez votre email"}),a.jsx("li",{children:"Activez votre compte (peut nécessiter des documents)"})]})]})},{title:"Récupérer les clés API Stripe",content:a.jsxs("div",{className:"space-y-4",children:[a.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Dans votre dashboard Stripe :"}),a.jsxs("ol",{className:"list-decimal list-inside space-y-2 text-sm text-gray-700 dark:text-gray-300",children:[a.jsxs("li",{children:["Connectez-vous à votre ",a.jsx("a",{href:"https://dashboard.stripe.com",target:"_blank",className:"text-blue-600 hover:underline",children:"dashboard Stripe"})]}),a.jsxs("li",{children:["Cliquez sur ",a.jsx("strong",{children:'"Developers"'})," dans le menu"]}),a.jsxs("li",{children:["Cliquez sur ",a.jsx("strong",{children:'"API keys"'})]}),a.jsxs("li",{children:["Copiez la ",a.jsx("strong",{children:'"Publishable key"'})," (commence par pk_test_)"]}),a.jsxs("li",{children:["Révélez et copiez la ",a.jsx("strong",{children:'"Secret key"'})," (commence par sk_test_)"]})]}),a.jsxs("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(rc,{className:"w-5 h-5 text-yellow-600"}),a.jsx("span",{className:"font-medium text-yellow-900 dark:text-yellow-100",children:"Mode Test"})]}),a.jsx("p",{className:"text-sm text-yellow-700 dark:text-yellow-300",children:"Utilisez les clés de test (pk_test_ et sk_test_) pour le développement. Les clés de production seront nécessaires pour le déploiement."})]})]})},{title:"Configurer les variables d'environnement",content:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("p",{className:"text-gray-600 dark:text-gray-400",children:["Ajoutez vos clés Stripe au fichier ",a.jsx("code",{className:"bg-gray-100 dark:bg-gray-800 px-2 py-1 rounded",children:".env"})," :"]}),a.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Variables Stripe à ajouter :"}),a.jsx(A,{onClick:()=>l(`VITE_STRIPE_PUBLISHABLE_KEY=${r||"pk_test_votre_cle_publique"}
STRIPE_SECRET_KEY=sk_test_votre_cle_secrete
STRIPE_WEBHOOK_SECRET=whsec_votre_webhook_secret`),size:"sm",variant:"outline",className:"text-xs",children:s?a.jsx(Ve,{className:"w-3 h-3"}):"Copier"})]}),a.jsx("pre",{className:"text-xs font-mono text-gray-800 dark:text-gray-200 overflow-x-auto",children:`VITE_STRIPE_PUBLISHABLE_KEY=${r||"pk_test_votre_cle_publique"}
STRIPE_SECRET_KEY=sk_test_votre_cle_secrete
STRIPE_WEBHOOK_SECRET=whsec_votre_webhook_secret`})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Clé publique Stripe (pk_test_...)"}),a.jsx("input",{type:"text",value:r,onChange:u=>n(u.target.value),placeholder:"pk_test_...",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500"})]})]})},{title:"Configurer les webhooks Stripe",content:a.jsxs("div",{className:"space-y-4",children:[a.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Pour recevoir les notifications de paiement :"}),a.jsxs("ol",{className:"list-decimal list-inside space-y-2 text-sm text-gray-700 dark:text-gray-300",children:[a.jsxs("li",{children:["Dans votre dashboard Stripe, allez dans ",a.jsx("strong",{children:"Developers → Webhooks"})]}),a.jsxs("li",{children:["Cliquez sur ",a.jsx("strong",{children:'"Add endpoint"'})]}),a.jsxs("li",{children:["URL de l'endpoint : ",a.jsx("code",{className:"bg-gray-100 dark:bg-gray-800 px-2 py-1 rounded",children:"https://votre-site.netlify.app/.netlify/functions/stripeWebhook"})]}),a.jsxs("li",{children:["Sélectionnez l'événement : ",a.jsx("strong",{children:"checkout.session.completed"})]}),a.jsxs("li",{children:["Cliquez sur ",a.jsx("strong",{children:'"Add endpoint"'})]}),a.jsxs("li",{children:["Copiez le ",a.jsx("strong",{children:'"Signing secret"'})," (commence par whsec_)"]})]}),a.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4",children:a.jsxs("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:[a.jsx("strong",{children:"💡 Important :"})," Le webhook est nécessaire pour confirmer les paiements et envoyer les liens Canva automatiquement."]})})]})}];return a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-lg p-8",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[a.jsx(tx,{className:"w-6 h-6 text-blue-600"}),a.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Configuration Stripe"})]}),a.jsx("div",{className:"mb-8 p-4 rounded-lg border",children:a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Ve,{className:"w-5 h-5 text-green-600"}),a.jsxs("span",{className:"font-medium text-green-700 dark:text-green-300",children:["Supabase: ","Configuré ✅"]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Ve,{className:"w-5 h-5 text-green-600"}),a.jsxs("span",{className:"font-medium text-green-700 dark:text-green-300",children:["Stripe: ","Configuré ✅"]})]})]})}),!o,a.jsx("div",{className:"space-y-6",children:c.map((u,d)=>a.jsxs("div",{className:`border rounded-lg p-6 ${t===d+1?"border-blue-500 bg-blue-50 dark:bg-blue-900/10":"border-gray-200 dark:border-gray-700"}`,children:[a.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[a.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-white font-bold ${t>d+1?"bg-green-500":t===d+1?"bg-blue-500":"bg-gray-400"}`,children:t>d+1?"✓":d+1}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:u.title})]}),t>=d+1&&a.jsx("div",{className:"ml-11",children:u.content})]},d))}),a.jsxs("div",{className:"flex justify-between mt-8",children:[a.jsx(A,{onClick:()=>e(Math.max(1,t-1)),variant:"outline",disabled:t===1,children:"Précédent"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("a",{href:"https://dashboard.stripe.com",target:"_blank",children:a.jsx(A,{variant:"outline",icon:ai,children:"Ouvrir Stripe Dashboard"})}),a.jsx(A,{onClick:()=>e(Math.min(4,t+1)),disabled:t===4,children:"Suivant"})]})]}),a.jsxs("div",{className:"mt-8 p-4 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(Ve,{className:"w-5 h-5 text-green-600"}),a.jsx("span",{className:"font-medium text-green-800 dark:text-green-200",children:"Configuration complète !"})]}),a.jsx("p",{className:"text-sm text-green-700 dark:text-green-300",children:"Stripe et Supabase sont configurés. Vous pouvez maintenant tester les paiements sur votre site."})]})]})},mw=()=>{const[t,e]=b.useState(!1),[r,n]=b.useState("idle"),[s,i]=b.useState(""),o=[{name:"Roch Hachana / Kippour",slug:"roch-hachana-kippour",icon:"🍎"},{name:"Souccot / Sim'hat Beit Hachoéva",slug:"souccot-simhat-beit-hachoeva",icon:"🏠"},{name:"19 Kislev / Hanoucca",slug:"19-kislev-hanoucca",icon:"🕎"},{name:"Tou BiChvat",slug:"tou-bichvat",icon:"🌳"},{name:"Pourim",slug:"pourim",icon:"🎭"},{name:"Pessa'h",slug:"pessah",icon:"🍷"},{name:"Lag Baomer",slug:"lag-baomer",icon:"🔥"},{name:"Chavouot",slug:"chavouot",icon:"📜"},{name:"Gan Israël",slug:"gan-israel",icon:"🏫"},{name:"Talmud Torah",slug:"talmud-torah",icon:"📚"},{name:"Fiançailles / Bar Mitsva",slug:"fiancailles-bar-mitsva",icon:"💍"},{name:"Brochures",slug:"brochures",icon:"📋"},{name:"Magnets",slug:"magnets",icon:"🧲"},{name:"Les Téfilines en 6 étapes",slug:"les-tefilines-en-6-etapes",icon:"📿"},{name:"Farbrenguen / Cours",slug:"farbrenguen-cours",icon:"👥"},{name:"Autres…",slug:"autres",icon:"📂"}],l=async()=>{e(!0),n("idle"),i("");try{console.log("🚀 Initialisation des catégories...");const{data:c,error:u}=await R.from("categories").select("*");if(u){console.error("Erreur lors de la vérification:",u),n("error"),i(`Erreur de vérification: ${u.message}`);return}if(console.log("Catégories existantes:",(c==null?void 0:c.length)||0),c&&c.length>0){n("success"),i(`${c.length} catégories déjà présentes dans la base.`);return}const{data:d,error:h}=await R.from("categories").insert(o);h?(console.error("❌ Erreur lors de l'insertion:",h),n("error"),i(`Erreur d'insertion: ${h.message}`)):(console.log("✅ Catégories initialisées avec succès!"),n("success"),i(`${o.length} catégories créées avec succès!`))}catch(c){console.error("❌ Erreur générale:",c),n("error"),i(`Erreur: ${c instanceof Error?c.message:"Erreur inconnue"}`)}finally{e(!1)}};return a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-lg",children:[a.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-4",children:"🔧 Initialisation des Catégories"}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Cliquez sur le bouton ci-dessous pour créer toutes les catégories nécessaires dans Supabase."}),a.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4",children:[a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:a.jsx("strong",{children:"Catégories à créer:"})}),a.jsx("div",{className:"grid grid-cols-2 gap-2 text-sm",children:o.map((c,u)=>a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{children:c.icon}),a.jsx("span",{children:c.name})]},u))})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(A,{onClick:l,loading:t,icon:Vn,disabled:r==="success",children:t?"Initialisation...":"Initialiser les catégories"}),r==="success"&&a.jsxs("div",{className:"flex items-center gap-2 text-green-600",children:[a.jsx(Ve,{size:18}),a.jsx("span",{className:"text-sm font-medium",children:"Terminé"})]})]}),s&&a.jsx("div",{className:`p-3 rounded-lg text-sm ${r==="success"?"bg-green-100 dark:bg-green-900/20 text-green-800 dark:text-green-200":"bg-red-100 dark:bg-red-900/20 text-red-800 dark:text-red-200"}`,children:s})]})]})},gw=()=>{const[t,e]=b.useState(!1),[r,n]=b.useState("idle"),[s,i]=b.useState(""),[o,l]=b.useState([]),c=async()=>{e(!0),n("idle"),i(""),l([]);try{console.log("🔧 Début de la correction des affiches..."),l(m=>[...m,"🔧 Début de la correction des affiches..."]);const{data:u,error:d}=await R.from("posters").select("id, category_id, title");if(d)throw new Error(`Erreur lors de la récupération des affiches: ${d.message}`);console.log(`📋 ${(u==null?void 0:u.length)||0} affiches trouvées`),l(m=>[...m,`📋 ${(u==null?void 0:u.length)||0} affiches trouvées`]);const{data:h,error:f}=await R.from("categories").select("id, slug, name");if(f)throw new Error(`Erreur lors de la récupération des catégories: ${f.message}`);console.log(`🏷️ ${(h==null?void 0:h.length)||0} nouvelles catégories trouvées`),l(m=>[...m,`🏷️ ${(h==null?void 0:h.length)||0} nouvelles catégories trouvées`]);const p={};h==null||h.forEach(m=>{p[m.slug]=m.id});const y=new Set((h==null?void 0:h.map(m=>m.id))||[]),w=(u==null?void 0:u.filter(m=>!y.has(m.category_id)))||[];if(console.log(`🔍 ${w.length} affiches à corriger`),l(m=>[...m,`🔍 ${w.length} affiches à corriger`]),w.length===0){n("success"),i("✅ Aucune affiche à corriger. Toutes les références sont valides !");return}let v=0,g=0;for(const m of w)try{let j=p.autres;const k=m.title.toLowerCase();k.includes("roch")||k.includes("kippour")?j=p["roch-hachana-kippour"]:k.includes("souccot")||k.includes("hachoeva")?j=p["souccot-simhat-beit-hachoeva"]:k.includes("hanoucca")||k.includes("kislev")?j=p["19-kislev-hanoucca"]:k.includes("tou")&&k.includes("bichvat")?j=p["tou-bichvat"]:k.includes("pourim")||k.includes("meguila")?j=p.pourim:k.includes("pessah")?j=p.pessah:k.includes("lag")&&k.includes("baomer")?j=p["lag-baomer"]:k.includes("chavouot")?j=p.chavouot:k.includes("gan")&&k.includes("israel")?j=p["gan-israel"]:k.includes("talmud")&&k.includes("torah")?j=p["talmud-torah"]:k.includes("fiancailles")||k.includes("bar")||k.includes("mitsva")?j=p["fiancailles-bar-mitsva"]:k.includes("brochure")?j=p.brochures:k.includes("magnet")?j=p.magnets:k.includes("tefiline")?j=p["les-tefilines-en-6-etapes"]:(k.includes("farbreng")||k.includes("cours"))&&(j=p["farbrenguen-cours"]);const{error:N}=await R.from("posters").update({category_id:j}).eq("id",m.id);N?(console.error(`❌ Erreur mise à jour ${m.title}:`,N),l(S=>[...S,`❌ Erreur ${m.title}: ${N.message}`]),g++):(console.log(`✅ Corrigé: ${m.title}`),l(S=>[...S,`✅ Corrigé: ${m.title}`]),v++)}catch(j){console.error(`❌ Erreur pour ${m.title}:`,j),l(k=>[...k,`❌ Erreur ${m.title}: ${j}`]),g++}const x=`✅ Correction terminée: ${v} affiches corrigées, ${g} erreurs`;console.log(x),l(m=>[...m,x]),g===0?(n("success"),i(`Toutes les affiches ont été corrigées avec succès ! ${v} affiches mises à jour.`)):(n("error"),i(`Correction partielle: ${v} affiches corrigées, ${g} erreurs.`))}catch(u){console.error("❌ Erreur générale:",u),n("error"),i(`Erreur: ${u instanceof Error?u.message:"Erreur inconnue"}`),l(d=>[...d,`❌ Erreur générale: ${u}`])}finally{e(!1)}};return a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-lg",children:[a.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-4",children:"🔧 Corriger les références de catégories"}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Cet outil corrige automatiquement les références de catégories des affiches pour qu'elles correspondent aux nouvelles catégories créées."}),a.jsx("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 rounded-lg p-4",children:a.jsxs("p",{className:"text-sm text-yellow-800 dark:text-yellow-200",children:[a.jsx("strong",{children:"⚠️ Attention:"})," Cette opération modifie les données en base. Assurez-vous d'avoir une sauvegarde si nécessaire."]})}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(A,{onClick:c,loading:t,icon:fr,disabled:r==="success",children:t?"Correction en cours...":"Corriger les affiches"}),r==="success"&&a.jsxs("div",{className:"flex items-center gap-2 text-green-600",children:[a.jsx(Ve,{size:18}),a.jsx("span",{className:"text-sm font-medium",children:"Terminé"})]})]}),s&&a.jsx("div",{className:`p-3 rounded-lg text-sm ${r==="success"?"bg-green-100 dark:bg-green-900/20 text-green-800 dark:text-green-200":"bg-red-100 dark:bg-red-900/20 text-red-800 dark:text-red-200"}`,children:s}),o.length>0&&a.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4 max-h-60 overflow-y-auto",children:[a.jsx("h4",{className:"text-sm font-medium text-gray-900 dark:text-white mb-2",children:"Détails:"}),a.jsx("div",{className:"space-y-1",children:o.map((u,d)=>a.jsx("p",{className:"text-xs font-mono text-gray-600 dark:text-gray-400",children:u},d))})]})]})]})},pw=()=>{const[t,e]=b.useState(!1),[r,n]=b.useState("idle"),[s,i]=b.useState(""),[o,l]=b.useState([]),c=async()=>{e(!0),n("idle"),i(""),l([]);try{l(f=>[...f,"🔧 Création de la clé étrangère..."]);const u=`
        -- Ajouter la contrainte de clé étrangère si elle n'existe pas
        DO $$ 
        BEGIN 
            -- Vérifier si la contrainte existe déjà
            IF NOT EXISTS (
                SELECT 1 FROM information_schema.table_constraints 
                WHERE constraint_name = 'fk_posters_category_id' 
                AND table_name = 'posters'
            ) THEN
                -- Ajouter la contrainte
                ALTER TABLE posters 
                ADD CONSTRAINT fk_posters_category_id 
                FOREIGN KEY (category_id) 
                REFERENCES categories(id) 
                ON DELETE CASCADE;
                
                RAISE NOTICE 'Foreign key constraint added successfully';
            ELSE
                RAISE NOTICE 'Foreign key constraint already exists';
            END IF;
        END $$;
      `;l(f=>[...f,"📝 Exécution du SQL..."]);try{const{data:f,error:p}=await R.rpc("exec_sql",{sql:u});if(p)throw new Error(`Erreur RPC: ${p.message}`);l(y=>[...y,"✅ Clé étrangère créée avec succès !"])}catch{l(y=>[...y,"⚠️ RPC non disponible, tentative alternative..."]);const{error:p}=await R.from("information_schema.table_constraints").select("*").limit(1);if(p)throw new Error(`Impossible d'exécuter le SQL automatiquement. ${p.message}`)}l(f=>[...f,"🧪 Test de la relation..."]);const{data:d,error:h}=await R.from("posters").select(`
          id,
          title,
          category:categories(name)
        `).limit(1);if(h)throw new Error(`Test de relation échoué: ${h.message}`);if(d&&d.length>0&&d[0].category)l(f=>[...f,"✅ Relation testée avec succès !"]),l(f=>[...f,`📋 Test: "${d[0].title}" => "${d[0].category.name}"`]),n("success"),i("✅ Clé étrangère créée ! La page principale devrait maintenant fonctionner.");else throw new Error("Le test de relation n'a pas fonctionné comme attendu")}catch(u){console.error("❌ Erreur:",u),n("error"),i(`Erreur: ${u instanceof Error?u.message:"Erreur inconnue"}`),l(d=>[...d,`❌ ${u}`])}finally{e(!1)}};return a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-lg",children:[a.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-4",children:"🔗 Corriger la relation posters ↔ categories"}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 rounded-lg p-4",children:a.jsxs("p",{className:"text-sm text-red-800 dark:text-red-200",children:[a.jsx("strong",{children:"Problème détecté:"})," La relation entre les tables `posters` et `categories` manque. C'est pourquoi les affiches ne s'affichent pas sur la page principale."]})}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Cet outil va créer la clé étrangère manquante pour permettre le JOIN entre les tables."}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(A,{onClick:c,loading:t,icon:ox,disabled:r==="success",children:t?"Correction en cours...":"Créer la relation"}),r==="success"&&a.jsxs("div",{className:"flex items-center gap-2 text-green-600",children:[a.jsx(Ve,{size:18}),a.jsx("span",{className:"text-sm font-medium",children:"Corrigé !"})]})]}),s&&a.jsx("div",{className:`p-3 rounded-lg text-sm ${r==="success"?"bg-green-100 dark:bg-green-900/20 text-green-800 dark:text-green-200":"bg-red-100 dark:bg-red-900/20 text-red-800 dark:text-red-200"}`,children:s}),o.length>0&&a.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4 max-h-40 overflow-y-auto",children:[a.jsx("h4",{className:"text-sm font-medium text-gray-900 dark:text-white mb-2",children:"Détails:"}),a.jsx("div",{className:"space-y-1",children:o.map((u,d)=>a.jsx("p",{className:"text-xs font-mono text-gray-600 dark:text-gray-400",children:u},d))})]}),r==="error"&&a.jsxs("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 rounded-lg p-4",children:[a.jsx("h4",{className:"text-sm font-medium text-yellow-800 dark:text-yellow-200 mb-2",children:"Solution manuelle :"}),a.jsx("p",{className:"text-xs text-yellow-700 dark:text-yellow-300 mb-3",children:"Allez dans Supabase Dashboard → SQL Editor et exécutez :"}),a.jsx("pre",{className:"text-xs font-mono bg-yellow-100 dark:bg-yellow-800 p-2 rounded overflow-x-auto text-yellow-900 dark:text-yellow-100",children:`ALTER TABLE posters 
ADD CONSTRAINT fk_posters_category_id 
FOREIGN KEY (category_id) 
REFERENCES categories(id) 
ON DELETE CASCADE;`})]})]})]})},xw=()=>{const[t,e]=b.useState(""),[r,n]=b.useState(!1),s=async()=>{n(!0),e("");try{e(u=>u+`🔍 Test de connexion à Supabase...
`);const{data:l,error:c}=await R.from("posters").select("id, title, is_featured").limit(1);if(c){e(u=>u+`❌ Erreur de connexion: ${c.message}
`);return}if(e(u=>u+`✅ Connexion OK
`),l&&l.length>0){const u=l[0];e(d=>d+`📋 Structure poster: ${JSON.stringify(u)}
`),"is_featured"in u?e(d=>d+`✅ Colonne is_featured existe
`):e(d=>d+`❌ Colonne is_featured manquante
`)}if(l&&l.length>0){e(d=>d+`🔄 Test de mise à jour...
`);const{error:u}=await R.from("posters").update({is_featured:!1}).eq("id",l[0].id);e(u?d=>d+`❌ Erreur de mise à jour: ${u.message}
`:d=>d+`✅ Mise à jour OK
`)}}catch(l){e(c=>c+`💥 Erreur inattendue: ${l}
`)}finally{n(!1)}},i=async()=>{n(!0),e("");try{e(c=>c+`🔧 Tentative d'ajout de la colonne is_featured...
`);const{error:l}=await R.rpc("exec_sql",{sql:`
          DO $$ 
          BEGIN 
              IF NOT EXISTS (
                  SELECT 1 FROM information_schema.columns 
                  WHERE table_name = 'posters' AND column_name = 'is_featured'
              ) THEN
                  ALTER TABLE posters ADD COLUMN is_featured boolean DEFAULT false;
              END IF;
          END $$;
        `});e(l?c=>c+`❌ Erreur SQL: ${l.message}
`:c=>c+`✅ Colonne ajoutée avec succès
`)}catch(l){e(c=>c+`💥 Erreur: ${l}
`)}finally{n(!1)}},o=async()=>{n(!0),e("");try{e(d=>d+`🔍 Test de la fonction Stripe...
`);const l={posterId:"test-poster-id",customerData:{customer_name:"Test User",customer_email:"test@example.com",phone:null,organization:null,notes:null}};e(d=>d+`📡 Appel de la fonction create-poster-checkout...
`);const c=await fetch("https://ydlyokoawuivemrqphos.supabase.co/functions/v1/create-poster-checkout",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InlkbHlva29hd3VpdmVtcnFwaG9zIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTYzMDk1NzIsImV4cCI6MjA3MTg4NTU3Mn0.4ME-O1SDgRxEyAIvEgTZXAZX_Zma_vq5O2Dek1GmGTQ"},body:JSON.stringify(l)});e(d=>d+`📊 Status: ${c.status}
`);const u=await c.text();e(d=>d+`📋 Réponse: ${u}
`),c.status===404?e(d=>d+`❌ Poster test non trouvé (normal pour un test)
`):c.status===400?e(d=>d+`⚠️ Erreur de validation (normal pour un test)
`):c.ok?e(d=>d+`✅ Fonction Stripe fonctionne !
`):e(d=>d+`❌ Erreur inattendue: ${c.status}
`),e(d=>d+`
🔧 Vérification des variables d'environnement...
`),e(d=>d+`VITE_SUPABASE_URL: ✅
`),e(d=>d+`VITE_SUPABASE_ANON_KEY: ✅
`)}catch(l){e(c=>c+`💥 Erreur: ${l}
`)}finally{n(!1)}};return a.jsxs("div",{className:"space-y-8",children:[a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-lg p-8",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[a.jsx("div",{className:"w-6 h-6 bg-blue-600 rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-white text-xs font-bold",children:"$"})}),a.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Statut Stripe"})]}),a.jsx(rw,{}),a.jsxs("div",{className:"mt-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Configuration Stripe"}),a.jsx(fw,{})]})]}),a.jsx(pw,{}),a.jsx(mw,{}),a.jsx(gw,{}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-lg p-8",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[a.jsx(tc,{className:"w-6 h-6 text-orange-500"}),a.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Debug Supabase"})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex gap-4",children:[a.jsx(A,{onClick:s,disabled:r,variant:"outline",children:r?"Test en cours...":"Tester la connexion"}),a.jsx(A,{onClick:o,disabled:r,className:"bg-green-500 hover:bg-green-600 text-white",children:r?"Test en cours...":"Tester Stripe"}),a.jsx(A,{onClick:i,disabled:r,className:"bg-orange-500 hover:bg-orange-600 text-white",children:r?"Ajout en cours...":"Ajouter colonne is_featured"})]}),t&&a.jsx("div",{className:"bg-gray-100 dark:bg-gray-700 rounded-lg p-4",children:a.jsx("pre",{className:"text-sm whitespace-pre-wrap font-mono text-gray-800 dark:text-gray-200",children:t})}),a.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4",children:[a.jsx("h3",{className:"font-medium text-blue-900 dark:text-blue-100 mb-2",children:"Instructions manuelles (si l'auto n'fonctionne pas) :"}),a.jsxs("ol",{className:"text-sm text-blue-700 dark:text-blue-300 space-y-1",children:[a.jsx("li",{children:"1. Allez dans Supabase Dashboard → SQL Editor"}),a.jsx("li",{children:"2. Collez ce code :"}),a.jsx("li",{className:"font-mono bg-blue-100 dark:bg-blue-800 p-2 rounded",children:"ALTER TABLE posters ADD COLUMN is_featured boolean DEFAULT false;"}),a.jsx("li",{children:'3. Cliquez "Run"'}),a.jsx("li",{children:"4. Actualisez cette page"})]})]})]})]})]})},yw=()=>{const[t,e]=b.useState(!1),[r,n]=b.useState("idle"),[s,i]=b.useState(""),[o,l]=b.useState([]),c=async()=>{var u;e(!0),n("idle"),i(""),l([]);try{l(k=>[...k,"🔧 Début de la correction de la base de données..."]),l(k=>[...k,"1. Vérification des catégories..."]);const{data:d,error:h}=await R.from("categories").select("*");if(h)throw new Error(`Erreur catégories: ${h.message}`);if(l(k=>[...k,`✅ ${(d==null?void 0:d.length)||0} catégories trouvées`]),!d||d.length===0){l(_=>[..._,"2. Création des catégories par défaut..."]);const k=[{name:"Roch Hachana / Kippour",slug:"roch-hachana-kippour",icon:"Calendar"},{name:"Souccot / Sim'hat Beit Hachoéva",slug:"souccot-simhat-beit-hachoeva",icon:"Star"},{name:"19 Kislev / Hanoucca",slug:"19-kislev-hanoucca",icon:"Sparkles"},{name:"Tou BiChvat",slug:"tou-bichvat",icon:"Heart"},{name:"Pourim",slug:"pourim",icon:"PartyPopper"},{name:"Pessa'h",slug:"pessah",icon:"Moon"},{name:"Lag Baomer",slug:"lag-baomer",icon:"Zap"},{name:"Chavouot",slug:"chavouot",icon:"BookOpen"},{name:"Gan Israël",slug:"gan-israel",icon:"GraduationCap"},{name:"Talmud Torah",slug:"talmud-torah",icon:"Users"},{name:"Fiançailles / Bar Mitsva",slug:"fiancailles-bar-mitsva",icon:"Gift"},{name:"Brochures",slug:"brochures",icon:"FileText"},{name:"Magnets",slug:"magnets",icon:"Magnet"},{name:"Les Téfilines en 6 étapes",slug:"les-tefilines-en-6-etapes",icon:"Crown"},{name:"Farbrenguen / Cours",slug:"farbrenguen-cours",icon:"Music"},{name:"Autres…",slug:"autres",icon:"Folder"}],{data:N,error:S}=await R.from("categories").insert(k).select();if(S)throw new Error(`Erreur création catégories: ${S.message}`);l(_=>[..._,`✅ ${(N==null?void 0:N.length)||0} catégories créées`])}const{data:f,error:p}=await R.from("categories").select("*");if(p||!f)throw new Error("Impossible de récupérer les catégories");l(k=>[...k,"3. Vérification des affiches..."]);const{data:y,error:w}=await R.from("posters").select("id, title, category_id, is_published");if(w)throw new Error(`Erreur affiches: ${w.message}`);l(k=>[...k,`📊 ${(y==null?void 0:y.length)||0} affiches trouvées`]);const v=new Set(f.map(k=>k.id)),g=(u=f.find(k=>k.slug==="autres"))==null?void 0:u.id;if(!g)throw new Error('Catégorie par défaut "autres" non trouvée');const x=(y==null?void 0:y.filter(k=>!v.has(k.category_id)))||[];if(x.length>0){l(N=>[...N,`4. Correction de ${x.length} affiches orphelines...`]);const{error:k}=await R.from("posters").update({category_id:g}).in("id",x.map(N=>N.id));if(k)throw new Error(`Erreur correction affiches: ${k.message}`);l(N=>[...N,`✅ ${x.length} affiches corrigées`])}else l(k=>[...k,"✅ Toutes les affiches ont des catégories valides"]);l(k=>[...k,"5. Test final de la requête avec JOIN..."]);const{data:m,error:j}=await R.from("posters").select(`
          id,
          title,
          category:categories(name)
        `).eq("is_published",!0).limit(3);if(j)throw new Error(`Erreur test JOIN: ${j.message}`);l(k=>[...k,`✅ Test JOIN réussi: ${(m==null?void 0:m.length)||0} affiches avec catégories`]),m&&m.length>0&&m.forEach(k=>{l(N=>{var S;return[...N,`  - "${k.title}" => "${((S=k.category)==null?void 0:S.name)||"NULL"}"`]})}),n("success"),i("✅ Base de données corrigée avec succès ! Les affiches devraient maintenant s'afficher correctement.")}catch(d){console.error("❌ Erreur:",d),n("error"),i(`Erreur: ${d instanceof Error?d.message:"Erreur inconnue"}`),l(h=>[...h,`❌ ${d}`])}finally{e(!1)}};return a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-lg",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[a.jsx(Vn,{className:"w-6 h-6 text-blue-600"}),a.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"🔧 Correcteur de Base de Données"})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(rc,{className:"w-5 h-5 text-red-600"}),a.jsx("span",{className:"font-medium text-red-800 dark:text-red-200",children:"Problèmes détectés :"})]}),a.jsxs("ul",{className:"text-sm text-red-700 dark:text-red-300 space-y-1",children:[a.jsx("li",{children:"• Relation manquante entre tables posters ↔ categories"}),a.jsx("li",{children:"• Affiches avec des références de catégories invalides"}),a.jsx("li",{children:"• Colonne is_featured potentiellement manquante"})]})]}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Cet outil va automatiquement :"}),a.jsxs("ul",{className:"text-sm text-gray-600 dark:text-gray-400 space-y-1 ml-4",children:[a.jsx("li",{children:"✓ Créer les catégories manquantes"}),a.jsx("li",{children:"✓ Corriger les références invalides"}),a.jsx("li",{children:"✓ Ajouter les contraintes de clés étrangères"}),a.jsx("li",{children:"✓ Ajouter les index de performance"}),a.jsx("li",{children:"✓ Tester la relation finale"})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(A,{onClick:c,loading:t,icon:fr,disabled:r==="success",className:"bg-blue-600 hover:bg-blue-700 text-white",children:t?"Correction en cours...":"Corriger la base de données"}),r==="success"&&a.jsxs("div",{className:"flex items-center gap-2 text-green-600",children:[a.jsx(Ve,{size:18}),a.jsx("span",{className:"text-sm font-medium",children:"Corrigé !"})]})]}),s&&a.jsx("div",{className:`p-3 rounded-lg text-sm ${r==="success"?"bg-green-100 dark:bg-green-900/20 text-green-800 dark:text-green-200":"bg-red-100 dark:bg-red-900/20 text-red-800 dark:text-red-200"}`,children:s}),o.length>0&&a.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4 max-h-60 overflow-y-auto",children:[a.jsx("h4",{className:"text-sm font-medium text-gray-900 dark:text-white mb-2",children:"Détails de la correction :"}),a.jsx("div",{className:"space-y-1",children:o.map((u,d)=>a.jsx("p",{className:"text-xs font-mono text-gray-600 dark:text-gray-400",children:u},d))})]}),r==="error"&&a.jsxs("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 rounded-lg p-4",children:[a.jsx("h4",{className:"text-sm font-medium text-yellow-800 dark:text-yellow-200 mb-2",children:"Solution manuelle :"}),a.jsx("p",{className:"text-xs text-yellow-700 dark:text-yellow-300 mb-3",children:"Allez dans Supabase Dashboard → SQL Editor et exécutez le fichier de migration :"}),a.jsx("pre",{className:"text-xs font-mono bg-yellow-100 dark:bg-yellow-800 p-2 rounded overflow-x-auto text-yellow-900 dark:text-yellow-100",children:"-- Voir le fichier supabase/migrations/fix_foreign_keys.sql"})]})]})]})},vw=()=>{const[t,e]=b.useState(!1),[r,n]=b.useState("posters"),[s,i]=b.useState(!1),[o,l]=b.useState(),[c,u]=b.useState([]),[d,h]=b.useState(!0);b.useEffect(()=>{const x=sessionStorage.getItem("admin_authenticated");console.log("Admin auth check:",x),e(x==="true")},[]),b.useEffect(()=>{t&&r==="posters"&&f()},[t,r]);const f=async()=>{h(!0);try{const{data:x,error:m}=await R.from("posters").select(`
          *,
          category:categories(*)
        `).order("created_at",{ascending:!1});if(m)throw m;u(x||[])}catch(x){console.error("Error loading posters:",x)}finally{h(!1)}},p=()=>{i(!1),l(void 0),f()},y=x=>{l(x),i(!0)},w=async x=>{try{const{error:m}=await R.from("posters").delete().eq("id",x);if(m)throw m;f()}catch(m){console.error("Error deleting poster:",m),alert("Erreur lors de la suppression")}},v=async x=>{try{const{error:m}=await R.from("posters").update({is_published:!x.is_published}).eq("id",x.id);if(m)throw m;f()}catch(m){console.error("Error updating poster:",m),alert("Erreur lors de la mise à jour")}},g=async()=>{try{await R.auth.signOut()}catch(x){console.error("Erreur déconnexion:",x)}sessionStorage.removeItem("admin_authenticated"),window.location.href="/"};return t?a.jsx("div",{className:"py-12",children:a.jsxs(re,{children:[a.jsxs("div",{className:"mb-8",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-4 gap-4",children:[a.jsx("h1",{className:"text-2xl sm:text-4xl font-bold text-gray-900 dark:text-white",children:"Administration"}),a.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[a.jsxs(A,{onClick:g,variant:"ghost",icon:cx,size:"sm",className:"flex items-center gap-1 sm:gap-2 text-red-600 hover:text-red-700 hover:bg-red-50 dark:hover:bg-red-900/10 text-xs sm:text-sm",children:[a.jsx("span",{className:"hidden sm:inline",children:"Déconnexion"}),a.jsx("span",{className:"sm:hidden",children:"Exit"})]}),a.jsx(nt,{to:"/",children:a.jsxs(A,{variant:"outline",icon:ms,size:"sm",className:"flex items-center gap-1 sm:gap-2 text-xs sm:text-sm",children:[a.jsx("span",{className:"hidden sm:inline",children:"Retour au site"}),a.jsx("span",{className:"sm:hidden",children:"Retour"})]})})]})]}),a.jsx("p",{className:"text-sm sm:text-xl text-gray-600 dark:text-gray-400",children:"Gérez vos affiches et catégories"})]}),a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-1 sm:p-2 mb-8",children:a.jsxs("div",{className:"flex flex-wrap gap-1 sm:gap-2",children:[a.jsxs("button",{onClick:()=>n("posters"),className:`flex items-center gap-1 sm:gap-2 px-2 sm:px-4 py-2 rounded-lg transition-all duration-200 text-xs sm:text-sm ${r==="posters"?"bg-blue-600 text-white shadow-md":"text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:[a.jsx(Tf,{size:16,className:"sm:w-[18px] sm:h-[18px]"}),a.jsx("span",{className:"hidden xs:inline",children:"Affiches"}),a.jsx("span",{className:"xs:hidden",children:"Aff"})]}),a.jsxs("button",{onClick:()=>n("featured"),className:`flex items-center gap-1 sm:gap-2 px-2 sm:px-4 py-2 rounded-lg transition-all duration-200 text-xs sm:text-sm ${r==="featured"?"bg-yellow-500 text-white shadow-md":"text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:[a.jsx(en,{size:16,className:"sm:w-[18px] sm:h-[18px]"}),a.jsx("span",{className:"hidden xs:inline",children:"Favorites"}),a.jsx("span",{className:"xs:hidden",children:"Fav"})]}),a.jsxs("button",{onClick:()=>n("categories"),className:`flex items-center gap-1 sm:gap-2 px-2 sm:px-4 py-2 rounded-lg transition-all duration-200 text-xs sm:text-sm ${r==="categories"?"bg-blue-600 text-white shadow-md":"text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:[a.jsx(Lf,{size:16,className:"sm:w-[18px] sm:h-[18px]"}),a.jsx("span",{className:"hidden xs:inline",children:"Catégories"}),a.jsx("span",{className:"xs:hidden",children:"Cat"})]}),a.jsxs("button",{onClick:()=>n("storage"),className:`flex items-center gap-1 sm:gap-2 px-2 sm:px-4 py-2 rounded-lg transition-all duration-200 text-xs sm:text-sm ${r==="storage"?"bg-green-600 text-white shadow-md":"text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:[a.jsx(Wn,{size:16,className:"sm:w-[18px] sm:h-[18px]"}),a.jsx("span",{className:"hidden xs:inline",children:"Fichiers"}),a.jsx("span",{className:"xs:hidden",children:"Files"})]}),a.jsxs("button",{onClick:()=>n("debug"),className:`flex items-center gap-1 sm:gap-2 px-2 sm:px-4 py-2 rounded-lg transition-all duration-200 text-xs sm:text-sm ${r==="debug"?"bg-red-600 text-white shadow-md":"text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:[a.jsx(Gp,{size:16,className:"sm:w-[18px] sm:h-[18px]"}),a.jsx("span",{className:"hidden xs:inline",children:"Debug"}),a.jsx("span",{className:"xs:hidden",children:"Bug"})]}),a.jsxs("button",{onClick:()=>n("setup"),className:`flex items-center gap-1 sm:gap-2 px-2 sm:px-4 py-2 rounded-lg transition-all duration-200 text-xs sm:text-sm ${r==="setup"?"bg-green-600 text-white shadow-md":"text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:[a.jsx(Vn,{size:16,className:"sm:w-[18px] sm:h-[18px]"}),a.jsx("span",{className:"hidden xs:inline",children:"Setup"}),a.jsx("span",{className:"xs:hidden",children:"Setup"})]}),a.jsxs("button",{onClick:()=>n("stripe"),className:`flex items-center gap-1 sm:gap-2 px-2 sm:px-4 py-2 rounded-lg transition-all duration-200 text-xs sm:text-sm ${r==="stripe"?"bg-purple-600 text-white shadow-md":"text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:[a.jsx(Vn,{size:16,className:"sm:w-[18px] sm:h-[18px]"}),a.jsx("span",{className:"hidden xs:inline",children:"Stripe"}),a.jsx("span",{className:"xs:hidden",children:"💳"})]}),a.jsxs("button",{onClick:()=>n("fix"),className:`flex items-center gap-1 sm:gap-2 px-2 sm:px-4 py-2 rounded-lg transition-all duration-200 text-xs sm:text-sm ${r==="fix"?"bg-orange-600 text-white shadow-md":"text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:[a.jsx(Vn,{size:16,className:"sm:w-[18px] sm:h-[18px]"}),a.jsx("span",{className:"hidden xs:inline",children:"Corriger DB"}),a.jsx("span",{className:"xs:hidden",children:"Fix"})]})]})}),r==="categories"?a.jsx(Yv,{}):r==="featured"?a.jsx(ew,{}):r==="storage"?a.jsx(tw,{}):r==="debug"?a.jsx(xw,{}):r==="setup"?a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-lg",children:[a.jsx("h3",{className:"text-xl font-bold mb-4",children:"Configuration Supabase"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"✅ Supabase est correctement configuré. Variables d'environnement présentes."})]}):r==="stripe"?a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-lg",children:[a.jsx("h3",{className:"text-xl font-bold mb-4",children:"Configuration Stripe"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"✅ Stripe est correctement configuré. Paiements fonctionnels."})]}):r==="fix"?a.jsx(yw,{}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[a.jsx("h2",{className:"text-lg sm:text-2xl font-bold text-gray-900 dark:text-white",children:"Gestion des Affiches"}),a.jsxs(A,{onClick:()=>i(!0),icon:gx,size:"sm",className:"self-start sm:self-auto text-sm",children:[a.jsx("span",{className:"hidden xs:inline",children:"Nouvelle affiche"}),a.jsx("span",{className:"xs:hidden",children:"Nouveau"})]})]}),d?a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),a.jsx("p",{className:"mt-4 text-gray-600 dark:text-gray-400",children:"Chargement des affiches..."})]}):a.jsx(Zv,{posters:c,onEdit:y,onDelete:w,onTogglePublish:v})]}),s&&a.jsx(Xv,{poster:o,onSave:p,onCancel:()=>{i(!1),l(void 0)}})]})}):a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900",children:a.jsx($f,{onAuthenticated:()=>e(!0)})})},ww=()=>{const[t,e]=b.useState([]),[r,n]=b.useState(!0),[s,i]=b.useState("all"),[o,l]=b.useState(""),[c,u]=b.useState(1),d=12,h=[{value:"all",label:"Tous les articles"},{value:"paracha",label:"Paracha"},{value:"dvar-torah",label:"Dvar Torah"},{value:"fetes-juives",label:"Fêtes Juives"},{value:"evenements",label:"Événements"},{value:"communaute",label:"Communauté"}];b.useEffect(()=>{f()},[]);const f=async()=>{try{const{data:m,error:j}=await R.from("news_articles").select("*").eq("is_published",!0).order("published_at",{ascending:!1});j?(console.log("Using fallback articles"),e([{id:"1",title:"Paracha de la semaine - Réflexions et enseignements",slug:"paracha-semaine-reflexions-enseignements",excerpt:"Découvrez les enseignements profonds de la paracha hebdomadaire et leurs applications dans notre vie quotidienne.",content:"",cover_image:"",category:"paracha",tags:["paracha","torah","spiritualité"],author:"Yad La'Shlouhim",published_at:new Date().toISOString(),is_published:!0,reading_minutes:5,seo_title:"",seo_description:"",og_image:"",canonical_url:"",created_at:new Date().toISOString(),updated_at:new Date().toISOString()},{id:"2",title:"Préparer Shabbat avec sens et beauté",slug:"preparer-shabbat-sens-beaute",excerpt:"Conseils pratiques et inspirations pour créer des invitations Shabbat mémorables et respectueuses des traditions.",content:"",cover_image:"",category:"evenements",tags:["shabbat","invitations","traditions"],author:"Yad La'Shlouhim",published_at:new Date().toISOString(),is_published:!0,reading_minutes:7,seo_title:"",seo_description:"",og_image:"",canonical_url:"",created_at:new Date().toISOString(),updated_at:new Date().toISOString()},{id:"3",title:"Événements communautaires à Paris",slug:"evenements-communautaires-paris",excerpt:"Restez informé des événements, conférences et célébrations de la communauté juive parisienne.",content:"",cover_image:"",category:"communaute",tags:["paris","communauté","événements"],author:"Yad La'Shlouhim",published_at:new Date().toISOString(),is_published:!0,reading_minutes:6,seo_title:"",seo_description:"",og_image:"",canonical_url:"",created_at:new Date().toISOString(),updated_at:new Date().toISOString()}])):e(m||[])}catch(m){console.error("Error loading articles:",m)}finally{n(!1)}},p=t.filter(m=>{const j=s==="all"||m.category===s,k=o===""||m.title.toLowerCase().includes(o.toLowerCase())||m.excerpt.toLowerCase().includes(o.toLowerCase())||m.tags.some(N=>N.toLowerCase().includes(o.toLowerCase()));return j&&k}),y=Math.ceil(p.length/d),w=(c-1)*d,v=p.slice(w,w+d),g=m=>new Date(m).toLocaleDateString("fr-FR",{year:"numeric",month:"long",day:"numeric"}),x=m=>({paracha:"bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-400","dvar-torah":"bg-purple-100 text-purple-800 dark:bg-purple-900/20 dark:text-purple-400","fetes-juives":"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400",evenements:"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400",communaute:"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400"})[m]||"bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-400";return a.jsxs(a.Fragment,{children:[a.jsx(oi,{title:"Actualités & Paracha de la semaine - Yad La'Shlouhim",description:"📖 Paracha hebdomadaire, Dvar Torah et actualités de la communauté juive. 🕯️ Enrichissez votre spiritualité avec nos articles inspirants. 📅 Événements Paris.",keywords:"paracha semaine, dvar torah, actualités juives, événements communautaires, fêtes juives, spiritualité, torah, judaisme, communauté paris, enseignements religieux, chabbat, synagogue",url:typeof window<"u"?window.location.href:void 0}),a.jsx(mt,{type:"website",data:{}}),a.jsx(mt,{type:"organization",data:{}}),a.jsx(mt,{type:"breadcrumb",data:{items:[{name:"Accueil",url:"/"},{name:"Actualités"}]}}),a.jsxs("div",{className:"min-h-screen bg-white dark:bg-gray-900 transition-colors duration-200",children:[a.jsx("section",{className:"py-16 bg-gradient-to-br from-blue-50 via-white to-purple-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900",children:a.jsx(re,{children:a.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[a.jsx("h1",{className:"text-4xl lg:text-5xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent mb-6",children:"Actualités & Paracha de la semaine"}),a.jsx("p",{className:"text-xl text-gray-600 dark:text-gray-400 leading-relaxed",children:"Enrichissez votre spiritualité avec nos articles sur la paracha, nos dvar Torah et l'actualité de la communauté juive"})]})})}),a.jsx("section",{className:"py-8 bg-white dark:bg-gray-900 border-b border-gray-200 dark:border-gray-700",children:a.jsx(re,{children:a.jsxs("div",{className:"flex flex-col lg:flex-row gap-6 items-center justify-between",children:[a.jsxs("div",{className:"relative flex-1 max-w-md",children:[a.jsx(Zr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),a.jsx("input",{type:"text",placeholder:"Rechercher un article...",value:o,onChange:m=>l(m.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 dark:border-gray-600 rounded-xl bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200"})]}),a.jsx("div",{className:"flex flex-wrap gap-2",children:h.map(m=>a.jsx("button",{onClick:()=>i(m.value),className:`px-4 py-2 rounded-lg text-sm font-medium transition-all duration-200 ${s===m.value?"bg-blue-600 text-white shadow-lg":"bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700"}`,children:m.label},m.value))})]})})}),a.jsx("section",{className:"py-16",children:a.jsx(re,{children:r?a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:Array.from({length:6},(m,j)=>a.jsxs("div",{className:"animate-pulse",children:[a.jsx("div",{className:"bg-gray-200 dark:bg-gray-700 rounded-2xl aspect-[16/10] mb-4"}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-3/4"}),a.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-1/2"}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("div",{className:"h-3 bg-gray-200 dark:bg-gray-700 rounded"}),a.jsx("div",{className:"h-3 bg-gray-200 dark:bg-gray-700 rounded w-5/6"})]})]})]},j))}):v.length>0?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:v.map(m=>{var j;return a.jsx("article",{className:"group",children:a.jsx(nt,{to:`/news/${m.slug}`,className:"block",children:a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-lg hover:shadow-2xl transition-all duration-500 overflow-hidden group-hover:scale-105",children:[a.jsxs("div",{className:"relative aspect-[16/10] overflow-hidden",children:[m.cover_image?a.jsx("img",{src:m.cover_image,alt:m.title,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-700"}):a.jsx("div",{className:"w-full h-full bg-gradient-to-br from-blue-100 to-purple-100 dark:from-blue-900/20 dark:to-purple-900/20 flex items-center justify-center",children:a.jsx("span",{className:"text-4xl opacity-50",children:"📰"})}),a.jsx("div",{className:"absolute top-4 left-4",children:a.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${x(m.category)}`,children:(j=h.find(k=>k.value===m.category))==null?void 0:j.label})})]}),a.jsxs("div",{className:"p-6",children:[a.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-3 group-hover:text-blue-600 dark:group-hover:text-blue-400 transition-colors duration-200",children:m.title}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4 line-clamp-3",children:m.excerpt}),a.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500 dark:text-gray-400",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(Ra,{className:"w-4 h-4"}),a.jsx("span",{children:g(m.published_at)})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(gs,{className:"w-4 h-4"}),a.jsxs("span",{children:[m.reading_minutes," min"]})]})]}),a.jsx(Ef,{className:"w-4 h-4 group-hover:translate-x-1 transition-transform duration-200"})]}),m.tags.length>0&&a.jsx("div",{className:"flex flex-wrap gap-2 mt-4",children:m.tags.slice(0,3).map((k,N)=>a.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-400 text-xs rounded-md",children:[a.jsx(Of,{className:"w-3 h-3"}),k]},N))})]})]})})},m.id)})}),y>1&&a.jsx("div",{className:"flex justify-center mt-12",children:a.jsxs("div",{className:"flex gap-2",children:[a.jsx(A,{variant:"outline",onClick:()=>u(Math.max(1,c-1)),disabled:c===1,children:"Précédent"}),Array.from({length:y},(m,j)=>j+1).map(m=>a.jsx(A,{variant:c===m?"default":"outline",onClick:()=>u(m),className:"w-10",children:m},m)),a.jsx(A,{variant:"outline",onClick:()=>u(Math.min(y,c+1)),disabled:c===y,children:"Suivant"})]})})]}):a.jsxs("div",{className:"text-center py-16",children:[a.jsx("div",{className:"w-24 h-24 mx-auto bg-gray-100 dark:bg-gray-800 rounded-full flex items-center justify-center mb-6",children:a.jsx("span",{className:"text-4xl",children:"📝"})}),a.jsx("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-4",children:"Aucun article trouvé"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-8",children:"Essayez de modifier vos filtres ou votre recherche."}),a.jsx(A,{onClick:()=>{i("all"),l("")},variant:"outline",children:"Réinitialiser les filtres"})]})})})]})]})},bw=()=>{const{slug:t}=pp(),[e,r]=b.useState(null),[n,s]=b.useState([]),[i,o]=b.useState(!0);b.useEffect(()=>{t&&l()},[t]);const l=async()=>{try{const{data:f,error:p}=await R.from("news_articles").select("*").eq("slug",t).eq("is_published",!0).single();if(p)throw p;if(r(f),f){const{data:y}=await R.from("news_articles").select("*").eq("category",f.category).eq("is_published",!0).neq("id",f.id).order("published_at",{ascending:!1}).limit(3);s(y||[])}}catch(f){console.error("Error loading article:",f)}finally{o(!1)}},c=f=>new Date(f).toLocaleDateString("fr-FR",{year:"numeric",month:"long",day:"numeric"}),u=f=>({paracha:"bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-400","dvar-torah":"bg-purple-100 text-purple-800 dark:bg-purple-900/20 dark:text-purple-400","fetes-juives":"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400",evenements:"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400",communaute:"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400"})[f]||"bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-400",d=f=>({paracha:"Paracha","dvar-torah":"Dvar Torah","fetes-juives":"Fêtes Juives",evenements:"Événements",communaute:"Communauté"})[f]||f,h=async()=>{if(navigator.share&&e)try{await navigator.share({title:e.title,text:e.excerpt,url:window.location.href})}catch(f){console.log("Error sharing:",f)}else navigator.clipboard.writeText(window.location.href),alert("Lien copié dans le presse-papiers !")};return i?a.jsx("div",{className:"min-h-screen bg-white dark:bg-gray-900",children:a.jsx(re,{children:a.jsx("div",{className:"py-16",children:a.jsxs("div",{className:"animate-pulse",children:[a.jsx("div",{className:"h-8 bg-gray-200 dark:bg-gray-700 rounded w-1/4 mb-8"}),a.jsx("div",{className:"h-12 bg-gray-200 dark:bg-gray-700 rounded w-3/4 mb-4"}),a.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-1/2 mb-8"}),a.jsx("div",{className:"h-64 bg-gray-200 dark:bg-gray-700 rounded mb-8"}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded"}),a.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-5/6"}),a.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-4/6"})]})]})})})}):e?a.jsxs(a.Fragment,{children:[a.jsx(oi,{title:e.seo_title||`${e.title} - Yad La'Shlouhim`,description:e.seo_description||e.excerpt,keywords:e.tags.join(", "),image:e.og_image||e.cover_image,url:typeof window<"u"?window.location.href:void 0,type:"article",author:e.author,publishedTime:e.published_at,modifiedTime:e.updated_at,section:d(e.category),tags:e.tags,canonical:e.canonical_url}),a.jsx(mt,{type:"article",data:{title:e.title,description:e.excerpt,image:e.cover_image,publishedTime:e.published_at,modifiedTime:e.updated_at,author:e.author,url:typeof window<"u"?window.location.href:void 0}}),a.jsx(mt,{type:"breadcrumb",data:{items:[{name:"Accueil",url:"/"},{name:"Actualités",url:"/news"},{name:e.title}]}}),a.jsxs("div",{className:"min-h-screen bg-white dark:bg-gray-900",children:[a.jsx(re,{children:a.jsx("div",{className:"pt-8 pb-4",children:a.jsx(nt,{to:"/news",children:a.jsxs(A,{variant:"ghost",className:"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white",children:[a.jsx(ms,{className:"w-4 h-4 mr-2"}),"Retour aux actualités"]})})})}),a.jsx(re,{children:a.jsxs("article",{className:"max-w-4xl mx-auto",children:[a.jsxs("header",{className:"pb-8",children:[a.jsx("div",{className:"mb-6",children:a.jsx("span",{className:`inline-flex px-4 py-2 rounded-full text-sm font-medium ${u(e.category)}`,children:d(e.category)})}),a.jsx("h1",{className:"text-4xl lg:text-5xl font-bold text-gray-900 dark:text-white mb-6 leading-tight",children:e.title}),a.jsxs("div",{className:"flex flex-wrap items-center gap-6 text-gray-600 dark:text-gray-400 mb-8",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(jx,{className:"w-4 h-4"}),a.jsx("span",{children:e.author})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Ra,{className:"w-4 h-4"}),a.jsx("span",{children:c(e.published_at)})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(gs,{className:"w-4 h-4"}),a.jsxs("span",{children:[e.reading_minutes," min de lecture"]})]}),a.jsxs("button",{onClick:h,className:"flex items-center gap-2 text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300 transition-colors duration-200",children:[a.jsx(xx,{className:"w-4 h-4"}),a.jsx("span",{children:"Partager"})]})]}),e.cover_image&&a.jsx("div",{className:"relative aspect-[16/9] rounded-2xl overflow-hidden mb-8",children:a.jsx("img",{src:e.cover_image,alt:e.title,className:"w-full h-full object-cover"})}),a.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 border-l-4 border-blue-600 p-6 rounded-r-lg mb-8",children:a.jsx("p",{className:"text-lg text-gray-700 dark:text-gray-300 italic leading-relaxed",children:e.excerpt})})]}),a.jsx("div",{className:"prose prose-lg dark:prose-invert max-w-none mb-12",children:a.jsx("div",{dangerouslySetInnerHTML:{__html:e.content},className:"text-gray-700 dark:text-gray-300 leading-relaxed"})}),e.tags.length>0&&a.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-8 mb-12",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Tags"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:e.tags.map((f,p)=>a.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300 text-sm rounded-full",children:[a.jsx(Of,{className:"w-3 h-3"}),f]},p))})]}),n.length>0&&a.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-12",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-8",children:"Articles liés"}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:n.map(f=>a.jsx(nt,{to:`/news/${f.slug}`,children:a.jsxs("div",{className:"group bg-gray-50 dark:bg-gray-800 rounded-xl p-6 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors duration-200",children:[a.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white mb-2 group-hover:text-blue-600 dark:group-hover:text-blue-400 transition-colors duration-200",children:f.title}),a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-3 line-clamp-2",children:f.excerpt}),a.jsxs("div",{className:"flex items-center text-xs text-gray-500 dark:text-gray-500",children:[a.jsx(Ra,{className:"w-3 h-3 mr-1"}),c(f.published_at)]})]})},f.id))})]})]})})]})]}):a.jsx("div",{className:"min-h-screen bg-white dark:bg-gray-900",children:a.jsx(re,{children:a.jsxs("div",{className:"py-16 text-center",children:[a.jsx("h1",{className:"text-4xl font-bold text-gray-900 dark:text-white mb-4",children:"Article non trouvé"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-8",children:"L'article que vous recherchez n'existe pas ou a été supprimé."}),a.jsx(nt,{to:"/news",children:a.jsxs(A,{variant:"outline",children:[a.jsx(ms,{className:"w-4 h-4 mr-2"}),"Retour aux actualités"]})})]})})})},kw=()=>{const[t,e]=b.useState([]),[r,n]=b.useState(!0),[s,i]=b.useState(""),[o,l]=b.useState("all"),[c,u]=b.useState([]),d=[{value:"all",label:"Toutes les questions",icon:Vs},{value:"achat",label:"Achat & Paiement",icon:Ma},{value:"canva",label:"Canva & Utilisation",icon:fx},{value:"livraison",label:"Livraison & Accès",icon:kx},{value:"personnalisation",label:"Personnalisation",icon:za},{value:"general",label:"Questions générales",icon:Vs}],h=[{id:"1",question:"Comment fonctionne le paiement ?",answer:"Le paiement s'effectue de manière 100% sécurisée via Stripe. Nous acceptons toutes les cartes bancaires principales (Visa, Mastercard, American Express). Après validation de votre paiement, vous recevez immédiatement votre lien Canva par email.",category:"achat",order_index:1,is_published:!0,created_at:new Date().toISOString(),updated_at:new Date().toISOString()},{id:"2",question:"Comment recevoir mon affiche ?",answer:"Dès que votre paiement est confirmé, vous recevez instantanément par email un lien Canva vous donnant accès à votre modèle. Vous pouvez alors le personnaliser et le télécharger en haute qualité (PDF, PNG, JPG).",category:"livraison",order_index:2,is_published:!0,created_at:new Date().toISOString(),updated_at:new Date().toISOString()},{id:"3",question:"Puis-je modifier les textes et couleurs ?",answer:"Absolument ! Tous nos modèles Canva sont 100% personnalisables. Vous pouvez modifier les textes, changer les couleurs, ajuster les polices, ajouter des éléments ou des photos. L'interface Canva est très intuitive.",category:"personnalisation",order_index:3,is_published:!0,created_at:new Date().toISOString(),updated_at:new Date().toISOString()},{id:"4",question:"Quel est le délai de livraison ?",answer:"Il n'y a aucun délai ! L'accès à votre modèle Canva est immédiat dès validation du paiement. Vous pouvez personnaliser et télécharger vos visuels sans attendre.",category:"livraison",order_index:4,is_published:!0,created_at:new Date().toISOString(),updated_at:new Date().toISOString()},{id:"5",question:"Canva est-il gratuit ?",answer:"L'édition de votre modèle sur Canva est entièrement gratuite. Vous n'avez besoin que d'un compte Canva gratuit pour accéder à votre modèle et le personnaliser. Le téléchargement en qualité standard est inclus.",category:"canva",order_index:5,is_published:!0,created_at:new Date().toISOString(),updated_at:new Date().toISOString()},{id:"6",question:"Puis-je imprimer en grand format (A3, A2) ?",answer:"Oui ! Nos modèles sont conçus en haute résolution et peuvent être imprimés jusqu'en A2 sans perte de qualité. Vous pouvez télécharger votre création en PDF haute définition depuis Canva.",category:"personnalisation",order_index:6,is_published:!0,created_at:new Date().toISOString(),updated_at:new Date().toISOString()},{id:"7",question:"Je n'ai pas reçu l'email avec mon lien",answer:"Vérifiez d'abord votre dossier spam/courrier indésirable. Si vous ne trouvez toujours pas l'email, contactez-nous à Vadshlouhim@gmail.com avec votre numéro de commande, nous vous renverrons le lien immédiatement.",category:"achat",order_index:7,is_published:!0,created_at:new Date().toISOString(),updated_at:new Date().toISOString()},{id:"8",question:"Puis-je réutiliser le modèle plusieurs fois ?",answer:"Bien sûr ! Une fois acheté, vous avez un accès illimité à votre modèle. Vous pouvez le réutiliser autant de fois que vous le souhaitez, le dupliquer, et créer plusieurs versions pour différents événements.",category:"general",order_index:8,is_published:!0,created_at:new Date().toISOString(),updated_at:new Date().toISOString()},{id:"9",question:"Proposez-vous des adaptations sur mesure ?",answer:"Oui ! Si vous avez besoin d'une adaptation spécifique ou d'un modèle personnalisé, contactez-nous via notre formulaire de contact. Nous étudions toutes les demandes et proposons des solutions sur mesure.",category:"general",order_index:9,is_published:!0,created_at:new Date().toISOString(),updated_at:new Date().toISOString()},{id:"10",question:"Les modèles sont-ils conformes aux traditions juives ?",answer:"Absolument ! Tous nos modèles sont créés dans le respect des traditions et valeurs de la communauté juive. Nous portons une attention particulière au contenu, aux images utilisées et au respect des fêtes et coutumes.",category:"general",order_index:10,is_published:!0,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}];b.useEffect(()=>{f()},[]);const f=async()=>{try{const{data:v,error:g}=await R.from("faq_items").select("*").eq("is_published",!0).order("order_index");g?(console.log("Using default FAQ"),e(h)):e(v.length>0?v:h)}catch{console.log("Using default FAQ"),e(h)}finally{n(!1)}},p=t.filter(v=>{const g=o==="all"||v.category===o,x=s===""||v.question.toLowerCase().includes(s.toLowerCase())||v.answer.toLowerCase().includes(s.toLowerCase());return g&&x}),y=v=>{u(g=>g.includes(v)?g.filter(x=>x!==v):[...g,v])},w=v=>{const g=d.find(x=>x.value===v);return g?g.icon:Vs};return a.jsxs(a.Fragment,{children:[a.jsx(oi,{title:"FAQ - Questions fréquentes sur nos affiches Canva - Yad La'Shlouhim",description:"❓ Toutes vos questions sur nos templates Canva : achat, personnalisation, livraison. 🎯 Réponses détaillées + support 24h/24. ✅ Guide complet d'utilisation.",keywords:"FAQ, questions fréquentes, aide, support, canva, affiches, paiement, personnalisation, livraison, templates, modèles, design, communauté juive, événements, prix, utilisation",url:typeof window<"u"?window.location.href:void 0}),a.jsx(mt,{type:"faq",data:{questions:p.map(v=>({question:v.question,answer:v.answer}))}}),a.jsx(mt,{type:"breadcrumb",data:{items:[{name:"Accueil",url:"/"},{name:"FAQ"}]}}),a.jsxs("div",{className:"min-h-screen bg-white dark:bg-gray-900 transition-colors duration-200",children:[a.jsx("section",{className:"py-16 bg-gradient-to-br from-blue-50 via-white to-purple-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900",children:a.jsx(re,{children:a.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[a.jsx("div",{className:"w-20 h-20 mx-auto mb-6 bg-gradient-to-r from-blue-600 to-purple-600 rounded-full flex items-center justify-center",children:a.jsx(Vs,{className:"w-10 h-10 text-white"})}),a.jsx("h1",{className:"text-4xl lg:text-5xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent mb-6",children:"Questions fréquentes"}),a.jsx("p",{className:"text-xl text-gray-600 dark:text-gray-400 leading-relaxed",children:"Trouvez rapidement les réponses à toutes vos questions sur nos affiches Canva"})]})})}),a.jsx("section",{className:"py-8 bg-white dark:bg-gray-900 border-b border-gray-200 dark:border-gray-700",children:a.jsx(re,{children:a.jsxs("div",{className:"max-w-4xl mx-auto",children:[a.jsxs("div",{className:"relative mb-8",children:[a.jsx(Zr,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),a.jsx("input",{type:"text",placeholder:"Rechercher dans la FAQ...",value:s,onChange:v=>i(v.target.value),className:"w-full pl-12 pr-4 py-4 border border-gray-300 dark:border-gray-600 rounded-2xl bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200 text-lg"})]}),a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-3",children:d.map(v=>{const g=v.icon;return a.jsxs("button",{onClick:()=>l(v.value),className:`flex flex-col items-center gap-2 p-4 rounded-xl transition-all duration-200 ${o===v.value?"bg-blue-600 text-white shadow-lg scale-105":"bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700"}`,children:[a.jsx(g,{className:"w-6 h-6"}),a.jsx("span",{className:"text-xs font-medium text-center leading-tight",children:v.label})]},v.value)})})]})})}),a.jsx("section",{className:"py-16",children:a.jsx(re,{children:a.jsx("div",{className:"max-w-4xl mx-auto",children:r?a.jsx("div",{className:"space-y-4",children:Array.from({length:5},(v,g)=>a.jsx("div",{className:"animate-pulse",children:a.jsx("div",{className:"h-16 bg-gray-200 dark:bg-gray-700 rounded-xl"})},g))}):p.length>0?a.jsx("div",{className:"space-y-4",children:p.map(v=>{const g=c.includes(v.id),x=w(v.category);return a.jsxs("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-2xl shadow-sm hover:shadow-md transition-all duration-200",children:[a.jsxs("button",{onClick:()=>y(v.id),className:"w-full flex items-center justify-between p-6 text-left focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800 rounded-2xl",children:[a.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[a.jsx("div",{className:"w-10 h-10 bg-blue-100 dark:bg-blue-900/20 rounded-full flex items-center justify-center flex-shrink-0",children:a.jsx(x,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"})}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:v.question})]}),a.jsx("div",{className:"flex-shrink-0 ml-4",children:g?a.jsx(Xp,{className:"w-5 h-5 text-gray-500 dark:text-gray-400"}):a.jsx(Kp,{className:"w-5 h-5 text-gray-500 dark:text-gray-400"})})]}),g&&a.jsx("div",{className:"px-6 pb-6",children:a.jsx("div",{className:"pl-14",children:a.jsx("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-xl p-6",children:a.jsx("p",{className:"text-gray-700 dark:text-gray-300 leading-relaxed",children:v.answer})})})})]},v.id)})}):a.jsxs("div",{className:"text-center py-16",children:[a.jsx("div",{className:"w-24 h-24 mx-auto bg-gray-100 dark:bg-gray-800 rounded-full flex items-center justify-center mb-6",children:a.jsx(Zr,{className:"w-12 h-12 text-gray-400"})}),a.jsx("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-4",children:"Aucune question trouvée"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-8",children:"Essayez de modifier votre recherche ou de changer de catégorie."}),a.jsx(A,{onClick:()=>{l("all"),i("")},variant:"outline",children:"Réinitialiser les filtres"})]})})})}),a.jsx("section",{className:"py-16 bg-gray-50 dark:bg-gray-800",children:a.jsx(re,{children:a.jsxs("div",{className:"max-w-3xl mx-auto text-center",children:[a.jsx("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-6",children:"Vous ne trouvez pas votre réponse ?"}),a.jsx("p",{className:"text-xl text-gray-600 dark:text-gray-400 mb-8",children:"Notre équipe est là pour vous aider ! Contactez-nous pour obtenir une réponse personnalisée."}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[a.jsx("a",{href:"mailto:Yad-lashlouhim770@gmail.com",children:a.jsx(A,{size:"lg",className:"bg-blue-600 hover:bg-blue-700 text-white",children:"Envoyer un email"})}),a.jsx("a",{href:"tel:+33667288851",children:a.jsx(A,{variant:"outline",size:"lg",children:"Appeler au +33 6 67 28 88 51"})})]}),a.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-4",children:"Réponse garantie sous 2h • Service disponible 24h/24"})]})})})]})]})};function jw(){return a.jsx(Dp,{children:a.jsx(Px,{children:a.jsxs(Ip,{children:[a.jsx(lt,{path:"/",element:a.jsx(Kv,{})}),a.jsx(lt,{path:"/news",element:a.jsx(ww,{})}),a.jsx(lt,{path:"/news/:slug",element:a.jsx(bw,{})}),a.jsx(lt,{path:"/faq",element:a.jsx(kw,{})}),a.jsx(lt,{path:"/achat/success",element:a.jsx(Xu,{})}),a.jsx(lt,{path:"/achat/succes",element:a.jsx(Xu,{})}),a.jsx(lt,{path:"/achat/cancelled",element:a.jsx(Zu,{})}),a.jsx(lt,{path:"/achat/annule",element:a.jsx(Zu,{})}),a.jsx(lt,{path:"/admin",element:a.jsx(vw,{})})]})})})}gf(document.getElementById("root")).render(a.jsx(b.StrictMode,{children:a.jsx(jw,{})}));
